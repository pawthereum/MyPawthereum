!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).snapshot=e()}(this,(function(){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var t=function(){return(t=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};function e(t,e,r,i){return new(r||(r=Promise))((function(n,o){function s(t){try{h(i.next(t))}catch(t){o(t)}}function a(t){try{h(i.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}h((i=i.apply(t,e||[])).next())}))}function r(t,e){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function i(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var i=Array(t),n=0;for(e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,n++)i[n]=o[s];return i}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function s(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})})),e}function a(t){var e={exports:{}};return t(e,e.exports),e.exports}var h=a((function(t,e){var r=function(t){function e(){this.fetch=!1,this.DOMException=t.DOMException}return e.prototype=t,new e}("undefined"!=typeof self?self:n);!function(t){!function(e){var r="URLSearchParams"in t,i="Symbol"in t&&"iterator"in Symbol,n="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),o="FormData"in t,s="ArrayBuffer"in t;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};function u(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function f(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return i&&(e[Symbol.iterator]=function(){return e}),e}function c(t){this.map={},t instanceof c?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function d(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function m(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function p(t){var e=new FileReader,r=m(e);return e.readAsArrayBuffer(t),r}function g(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:n&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():s&&n&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=g(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(t)||h(t))?this._bodyArrayBuffer=g(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n&&(this.blob=function(){var t=d(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var t,e,r,i=d(this);if(i)return i;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,r=m(e),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),i=0;i<e.length;i++)r[i]=String.fromCharCode(e[i]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(t,e){t=u(t),e=l(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},c.prototype.delete=function(t){delete this.map[u(t)]},c.prototype.get=function(t){return t=u(t),this.has(t)?this.map[t]:null},c.prototype.has=function(t){return this.map.hasOwnProperty(u(t))},c.prototype.set=function(t,e){this.map[u(t)]=l(e)},c.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},c.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),f(t)},c.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),f(t)},c.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),f(t)},i&&(c.prototype[Symbol.iterator]=c.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(t,e){var r,i,n=(e=e||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new c(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new c(e.headers)),this.method=(r=e.method||this.method||"GET",i=r.toUpperCase(),y.indexOf(i)>-1?i:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function b(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),i=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(n))}})),e}function M(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new c(e.headers),this.url=e.url||"",this._initBody(t)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},v.call(w.prototype),v.call(M.prototype),M.prototype.clone=function(){return new M(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},M.error=function(){var t=new M(null,{status:0,statusText:""});return t.type="error",t};var E=[301,302,303,307,308];M.redirect=function(t,e){if(-1===E.indexOf(e))throw new RangeError("Invalid status code");return new M(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function _(t,r){return new Promise((function(i,o){var s=new w(t,r);if(s.signal&&s.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function h(){a.abort()}a.onload=function(){var t,e,r={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new c,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var r=t.split(":"),i=r.shift().trim();if(i){var n=r.join(":").trim();e.append(i,n)}})),e)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var n="response"in a?a.response:a.responseText;i(new M(n,r))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&n&&(a.responseType="blob"),s.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),s.signal&&(s.signal.addEventListener("abort",h),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",h)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}_.polyfill=!0,t.fetch||(t.fetch=_,t.Headers=c,t.Request=w,t.Response=M),e.Headers=c,e.Request=w,e.Response=M,e.fetch=_}({})}(r),delete r.fetch.polyfill,(e=r.fetch).default=r.fetch,e.fetch=r.fetch,e.Headers=r.Headers,e.Request=r.Request,e.Response=r.Response,t.exports=e}));let u=!1,l=!1;const f={debug:1,default:2,info:2,warning:3,error:4,off:5};let c=f.default,d=null;const m=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var p,g;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(p||(p={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT"}(g||(g={}));class v{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==f[r]&&this.throwArgumentError("invalid log level name","logLevel",t),c>f[r]||console.log.apply(console,e)}debug(...t){this._log(v.levels.DEBUG,t)}info(...t){this._log(v.levels.INFO,t)}warn(...t){this._log(v.levels.WARNING,t)}makeError(t,e,r){if(l)return this.makeError("censored error",e,{});e||(e=v.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(t=>{try{i.push(t+"="+JSON.stringify(r[t]))}catch(e){i.push(t+"="+JSON.stringify(r[t].toString()))}}),i.push("code="+e),i.push("version="+this.version);const n=t;i.length&&(t+=" ("+i.join(", ")+")");const o=new Error(t);return o.reason=n,o.code=e,Object.keys(r).forEach((function(t){o[t]=r[t]})),o}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,v.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,i){t||this.throwError(e,r,i)}assertArgument(t,e,r,i){t||this.throwArgumentError(e,r,i)}checkNormalize(t){m&&this.throwError("platform missing String.prototype.normalize",v.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:m})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,v.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,v.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,v.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,v.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",v.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",v.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",v.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return d||(d=new v("logger/5.0.5")),d}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",v.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),u){if(!t)return;this.globalLogger().throwError("error censorship permanent",v.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}l=!!t,u=!!e}static setLogLevel(t){const e=f[t.toLowerCase()];null!=e?c=e:v.globalLogger().warn("invalid log level - "+t)}}v.errors=g,v.levels=p;const y=new v("bytes/5.0.8");function w(t){return!!t.toHexString}function b(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return b(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function M(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(null==t.length)return!1;for(let e=0;e<t.length;e++){const r=t[e];if("number"!=typeof r||r<0||r>=256||r%1)return!1}return!0}function E(t,e){if(e||(e={}),"number"==typeof t){y.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),b(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),w(t)&&(t=t.toHexString()),_(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0x0"+r.substring(2):"right"===e.hexPad?r+="0":y.throwArgumentError("hex data is odd-length","value",t));const i=[];for(let t=0;t<r.length;t+=2)i.push(parseInt(r.substring(t,t+2),16));return b(new Uint8Array(i))}return M(t)?b(new Uint8Array(t)):y.throwArgumentError("invalid arrayify value","value",t)}function _(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}function N(t,e){if(e||(e={}),"number"==typeof t){y.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e="0123456789abcdef"[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),w(t))return t.toHexString();if(_(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":y.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(M(t)){let e="0x";for(let r=0;r<t.length;r++){let i=t[r];e+="0123456789abcdef"[(240&i)>>4]+"0123456789abcdef"[15&i]}return e}return y.throwArgumentError("invalid hexlify value","value",t)}function A(t,e){for("string"!=typeof t?t=N(t):_(t)||y.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&y.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function S(t,i,n){return e(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return i=N(new Buffer(i,"utf8")),[4,t.send("personal_sign",[i,n])];case 1:return[2,e.sent()]}}))}))}var R=["https://hub.snapshot.org","https://testnet.snapshot.org"],I=function(){function t(t){void 0===t&&(t=R[0]),this.address=t}return t.prototype.request=function(t,e){var r,i=this.address+"/api/"+t;return e&&(r={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}),new Promise((function(t,e){h(i,r).then((function(e){if(e.ok)return t(e.json());throw e})).catch((function(t){return t.json().then((function(t){return e(t)}))}))}))},t.prototype.send=function(t){return e(this,void 0,void 0,(function(){return r(this,(function(e){return[2,this.request("message",t)]}))}))},t.prototype.getSpaces=function(){return e(this,void 0,void 0,(function(){return r(this,(function(t){return[2,this.request("spaces")]}))}))},t.prototype.broadcast=function(t,i,n,o,s){return e(this,void 0,void 0,(function(){var e,a;return r(this,(function(r){switch(r.label){case 0:return e={address:i,msg:JSON.stringify({version:"0.1.3",timestamp:(Date.now()/1e3).toFixed(),space:n,type:o,payload:s})},a=e,[4,S(t,e.msg,i)];case 1:return a.sig=r.sent(),[4,this.send(e)];case 2:return[2,r.sent()]}}))}))},t.prototype.sign=function(t,i,n,o,s){return e(this,void 0,void 0,(function(){var e;return r(this,(function(r){switch(r.label){case 0:return e={address:i,msg:JSON.stringify({version:"0.1.3",timestamp:(Date.now()/1e3).toFixed(),space:n,type:o,payload:s})},[4,S(t,e.msg,i)];case 1:return[2,r.sent()]}}))}))},t.prototype.vote=function(t,i,n,o){var s=o.proposal,a=o.choice,h=o.metadata,u=void 0===h?{}:h;return e(this,void 0,void 0,(function(){return r(this,(function(e){return[2,this.broadcast(t,i,n,"vote",{proposal:s,choice:a,metadata:u})]}))}))},t.prototype.proposal=function(t,i,n,o){var s=o.name,a=o.body,h=o.choices,u=o.start,l=o.end,f=o.snapshot,c=o.type,d=void 0===c?"single-choice":c,m=o.metadata,p=void 0===m?{}:m;return e(this,void 0,void 0,(function(){return r(this,(function(e){return[2,this.broadcast(t,i,n,"proposal",{name:s,body:a,choices:h,start:u,end:l,snapshot:f,type:d,metadata:p})]}))}))},t.prototype.deleteProposal=function(t,i,n,o){var s=o.proposal;return e(this,void 0,void 0,(function(){return r(this,(function(e){return[2,this.broadcast(t,i,n,"delete-proposal",{proposal:s})]}))}))},t.prototype.settings=function(t,i,n,o){return e(this,void 0,void 0,(function(){return r(this,(function(e){return[2,this.broadcast(t,i,n,"settings",o)]}))}))},t}(),x={$schema:"http://json-schema.org/draft-07/schema#",$ref:"#/definitions/Proposal",definitions:{Proposal:{title:"Proposal",type:"object",properties:{name:{type:"string",title:"name",minLength:1,maxLength:256},body:{type:"string",title:"body",minLength:0,maxLength:6400},choices:{type:"array",title:"choices",minItems:2,maxItems:96},type:{type:"string",enum:["single-choice","approval","ranked-choice","quadratic","weighted","custom","basic"]},snapshot:{type:"number",title:"snapshot"},start:{type:"number",title:"start",minimum:1e9,maximum:2e9},end:{type:"number",title:"end",minimum:1e9,maximum:2e9,exclusiveMinimum:{$data:"1/start"}},metadata:{type:"object",title:"metadata"}},required:["name","body","choices","snapshot","start","end"],additionalProperties:!1}}},k={$schema:"http://json-schema.org/draft-07/schema#",$ref:"#/definitions/Vote",definitions:{Vote:{title:"Vote",type:"object",properties:{proposal:{type:"string",title:"proposal"},choice:{type:["number","array","object","boolean"],title:"choice"},metadata:{type:"object",title:"metadata"}},required:["proposal","choice"],additionalProperties:!1}}},O={space:{$schema:"http://json-schema.org/draft-07/schema#",$ref:"#/definitions/Space",definitions:{Space:{title:"Space",type:"object",properties:{name:{type:"string",title:"name",minLength:1,maxLength:32},private:{type:"boolean"},about:{type:"string",title:"about",maxLength:160},guidelines:{type:"string",title:"guidelines",maxLength:1024},terms:{type:"string",title:"terms",format:"uri",maxLength:128},avatar:{type:"string",title:"avatar",format:"uri",maxLength:256},location:{type:"string",title:"location",maxLength:24},website:{type:"string",title:"website",format:"uri",maxLength:128},twitter:{type:"string",title:"twitter",pattern:"^[A-Za-z0-9_]*$",maxLength:15},github:{type:"string",title:"github",pattern:"^[A-Za-z0-9_-]*$",maxLength:39},email:{type:"string",title:"email",maxLength:32},network:{type:"string",title:"network",minLength:1,maxLength:32},symbol:{type:"string",title:"symbol",minLength:1,maxLength:12},skin:{type:"string",title:"skin",maxLength:32},domain:{type:"string",title:"domain",maxLength:64},strategies:{type:"array",minItems:1,maxItems:8,items:{type:"object",properties:{name:{type:"string",maxLength:64,title:"name"},params:{type:"object",title:"params"}},required:["name"],additionalProperties:!1},title:"strategies"},members:{type:"array",items:{type:"string",pattern:"^[A-Za-z0-9]*$",minLength:42,maxLength:42},title:"members"},admins:{type:"array",items:{type:"string",pattern:"^[A-Za-z0-9]*$",minLength:42,maxLength:42},title:"admins"},filters:{type:"object",properties:{defaultTab:{type:"string"},minScore:{type:"number",minimum:0},onlyMembers:{type:"boolean"},invalids:{type:"array",items:{type:"string",maxLength:64},title:"invalids"}},additionalProperties:!1},validation:{type:"object",properties:{name:{type:"string",maxLength:64,title:"name"},params:{type:"object",title:"params"}},required:["name"],additionalProperties:!1},plugins:{type:"object"},voting:{type:"object",properties:{delay:{type:"number",minimum:0},period:{type:"number",minimum:0},type:{type:"string",title:"type"},quorum:{type:"number",minimum:0}},additionalProperties:!1},categories:{type:"array",maxItems:2,items:{type:"string",enum:["protocol","social","investment","grant","service","media","creator","collector"]}}},required:["name","network","symbol","strategies"],additionalProperties:!1}}}.definitions.Space,proposal:x.definitions.Proposal,vote:k.definitions.Vote},T="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},P=[],C=[],U="undefined"!=typeof Uint8Array?Uint8Array:Array,F=!1;function B(){F=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,r=t.length;e<r;++e)P[e]=t[e],C[t.charCodeAt(e)]=e;C["-".charCodeAt(0)]=62,C["_".charCodeAt(0)]=63}function D(t,e,r){for(var i,n,o=[],s=e;s<r;s+=3)i=(t[s]<<16)+(t[s+1]<<8)+t[s+2],o.push(P[(n=i)>>18&63]+P[n>>12&63]+P[n>>6&63]+P[63&n]);return o.join("")}function L(t){var e;F||B();for(var r=t.length,i=r%3,n="",o=[],s=0,a=r-i;s<a;s+=16383)o.push(D(t,s,s+16383>a?a:s+16383));return 1===i?(e=t[r-1],n+=P[e>>2],n+=P[e<<4&63],n+="=="):2===i&&(e=(t[r-2]<<8)+t[r-1],n+=P[e>>10],n+=P[e>>4&63],n+=P[e<<2&63],n+="="),o.push(n),o.join("")}function $(t,e,r,i,n){var o,s,a=8*n-i-1,h=(1<<a)-1,u=h>>1,l=-7,f=r?n-1:0,c=r?-1:1,d=t[e+f];for(f+=c,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+t[e+f],f+=c,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=i;l>0;s=256*s+t[e+f],f+=c,l-=8);if(0===o)o=1-u;else{if(o===h)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,i),o-=u}return(d?-1:1)*s*Math.pow(2,o-i)}function j(t,e,r,i,n,o){var s,a,h,u=8*o-n-1,l=(1<<u)-1,f=l>>1,c=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:o-1,m=i?1:-1,p=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-s))<1&&(s--,h*=2),(e+=s+f>=1?c/h:c*Math.pow(2,1-f))*h>=2&&(s++,h/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(e*h-1)*Math.pow(2,n),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,n),s=0));n>=8;t[r+d]=255&a,d+=m,a/=256,n-=8);for(s=s<<n|a,u+=n;u>0;t[r+d]=255&s,d+=m,s/=256,u-=8);t[r+d-m]|=128*p}var z={}.toString,q=Array.isArray||function(t){return"[object Array]"==z.call(t)};Z.TYPED_ARRAY_SUPPORT=void 0===T.TYPED_ARRAY_SUPPORT||T.TYPED_ARRAY_SUPPORT;var G=V();function V(){return Z.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function K(t,e){if(V()<e)throw new RangeError("Invalid typed array length");return Z.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=Z.prototype:(null===t&&(t=new Z(e)),t.length=e),t}function Z(t,e,r){if(!(Z.TYPED_ARRAY_SUPPORT||this instanceof Z))return new Z(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return J(this,t)}return H(this,t,e,r)}function H(t,e,r,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,i){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(i||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,r):new Uint8Array(e,r,i);Z.TYPED_ARRAY_SUPPORT?(t=e).__proto__=Z.prototype:t=X(t,e);return t}(t,e,r,i):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!Z.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var i=0|tt(e,r),n=(t=K(t,i)).write(e,r);n!==i&&(t=t.slice(0,n));return t}(t,e,r):function(t,e){if(Q(e)){var r=0|Y(e.length);return 0===(t=K(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(i=e.length)!=i?K(t,0):X(t,e);if("Buffer"===e.type&&q(e.data))return X(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function W(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function J(t,e){if(W(e),t=K(t,e<0?0:0|Y(e)),!Z.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function X(t,e){var r=e.length<0?0:0|Y(e.length);t=K(t,r);for(var i=0;i<r;i+=1)t[i]=255&e[i];return t}function Y(t){if(t>=V())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+V().toString(16)+" bytes");return 0|t}function Q(t){return!(null==t||!t._isBuffer)}function tt(t,e){if(Q(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return St(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Rt(t).length;default:if(i)return St(t).length;e=(""+e).toLowerCase(),i=!0}}function et(t,e,r){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return pt(this,e,r);case"utf8":case"utf-8":return ct(this,e,r);case"ascii":return dt(this,e,r);case"latin1":case"binary":return mt(this,e,r);case"base64":return ft(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return gt(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function rt(t,e,r){var i=t[e];t[e]=t[r],t[r]=i}function it(t,e,r,i,n){if(0===t.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return-1;r=t.length-1}else if(r<0){if(!n)return-1;r=0}if("string"==typeof e&&(e=Z.from(e,i)),Q(e))return 0===e.length?-1:nt(t,e,r,i,n);if("number"==typeof e)return e&=255,Z.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):nt(t,[e],r,i,n);throw new TypeError("val must be string, number or Buffer")}function nt(t,e,r,i,n){var o,s=1,a=t.length,h=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;s=2,a/=2,h/=2,r/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(n){var l=-1;for(o=r;o<a;o++)if(u(t,o)===u(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===h)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(r+h>a&&(r=a-h),o=r;o>=0;o--){for(var f=!0,c=0;c<h;c++)if(u(t,o+c)!==u(e,c)){f=!1;break}if(f)return o}return-1}function ot(t,e,r,i){r=Number(r)||0;var n=t.length-r;i?(i=Number(i))>n&&(i=n):i=n;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[r+s]=a}return s}function st(t,e,r,i){return It(St(e,t.length-r),t,r,i)}function at(t,e,r,i){return It(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,i)}function ht(t,e,r,i){return at(t,e,r,i)}function ut(t,e,r,i){return It(Rt(e),t,r,i)}function lt(t,e,r,i){return It(function(t,e){for(var r,i,n,o=[],s=0;s<t.length&&!((e-=2)<0);++s)i=(r=t.charCodeAt(s))>>8,n=r%256,o.push(n),o.push(i);return o}(e,t.length-r),t,r,i)}function ft(t,e,r){return 0===e&&r===t.length?L(t):L(t.slice(e,r))}function ct(t,e,r){r=Math.min(t.length,r);for(var i=[],n=e;n<r;){var o,s,a,h,u=t[n],l=null,f=u>239?4:u>223?3:u>191?2:1;if(n+f<=r)switch(f){case 1:u<128&&(l=u);break;case 2:128==(192&(o=t[n+1]))&&(h=(31&u)<<6|63&o)>127&&(l=h);break;case 3:o=t[n+1],s=t[n+2],128==(192&o)&&128==(192&s)&&(h=(15&u)<<12|(63&o)<<6|63&s)>2047&&(h<55296||h>57343)&&(l=h);break;case 4:o=t[n+1],s=t[n+2],a=t[n+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(h=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&h<1114112&&(l=h)}null===l?(l=65533,f=1):l>65535&&(l-=65536,i.push(l>>>10&1023|55296),l=56320|1023&l),i.push(l),n+=f}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var r="",i=0;for(;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=4096));return r}(i)}Z.poolSize=8192,Z._augment=function(t){return t.__proto__=Z.prototype,t},Z.from=function(t,e,r){return H(null,t,e,r)},Z.TYPED_ARRAY_SUPPORT&&(Z.prototype.__proto__=Uint8Array.prototype,Z.__proto__=Uint8Array),Z.alloc=function(t,e,r){return function(t,e,r,i){return W(e),e<=0?K(t,e):void 0!==r?"string"==typeof i?K(t,e).fill(r,i):K(t,e).fill(r):K(t,e)}(null,t,e,r)},Z.allocUnsafe=function(t){return J(null,t)},Z.allocUnsafeSlow=function(t){return J(null,t)},Z.isBuffer=xt,Z.compare=function(t,e){if(!Q(t)||!Q(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,i=e.length,n=0,o=Math.min(r,i);n<o;++n)if(t[n]!==e[n]){r=t[n],i=e[n];break}return r<i?-1:i<r?1:0},Z.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Z.concat=function(t,e){if(!q(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return Z.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var i=Z.allocUnsafe(e),n=0;for(r=0;r<t.length;++r){var o=t[r];if(!Q(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,n),n+=o.length}return i},Z.byteLength=tt,Z.prototype._isBuffer=!0,Z.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)rt(this,e,e+1);return this},Z.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)rt(this,e,e+3),rt(this,e+1,e+2);return this},Z.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)rt(this,e,e+7),rt(this,e+1,e+6),rt(this,e+2,e+5),rt(this,e+3,e+4);return this},Z.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?ct(this,0,t):et.apply(this,arguments)},Z.prototype.equals=function(t){if(!Q(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Z.compare(this,t)},Z.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},Z.prototype.compare=function(t,e,r,i,n){if(!Q(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),e<0||r>t.length||i<0||n>this.length)throw new RangeError("out of range index");if(i>=n&&e>=r)return 0;if(i>=n)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(n>>>=0)-(i>>>=0),s=(r>>>=0)-(e>>>=0),a=Math.min(o,s),h=this.slice(i,n),u=t.slice(e,r),l=0;l<a;++l)if(h[l]!==u[l]){o=h[l],s=u[l];break}return o<s?-1:s<o?1:0},Z.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},Z.prototype.indexOf=function(t,e,r){return it(this,t,e,r,!0)},Z.prototype.lastIndexOf=function(t,e,r){return it(this,t,e,r,!1)},Z.prototype.write=function(t,e,r,i){if(void 0===e)i="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)i=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}var n=this.length-e;if((void 0===r||r>n)&&(r=n),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return ot(this,t,e,r);case"utf8":case"utf-8":return st(this,t,e,r);case"ascii":return at(this,t,e,r);case"latin1":case"binary":return ht(this,t,e,r);case"base64":return ut(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return lt(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},Z.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function dt(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(127&t[n]);return i}function mt(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}function pt(t,e,r){var i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);for(var n="",o=e;o<r;++o)n+=At(t[o]);return n}function gt(t,e,r){for(var i=t.slice(e,r),n="",o=0;o<i.length;o+=2)n+=String.fromCharCode(i[o]+256*i[o+1]);return n}function vt(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function yt(t,e,r,i,n,o){if(!Q(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<o)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}function wt(t,e,r,i){e<0&&(e=65535+e+1);for(var n=0,o=Math.min(t.length-r,2);n<o;++n)t[r+n]=(e&255<<8*(i?n:1-n))>>>8*(i?n:1-n)}function bt(t,e,r,i){e<0&&(e=4294967295+e+1);for(var n=0,o=Math.min(t.length-r,4);n<o;++n)t[r+n]=e>>>8*(i?n:3-n)&255}function Mt(t,e,r,i,n,o){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Et(t,e,r,i,n){return n||Mt(t,0,r,4),j(t,e,r,i,23,4),r+4}function _t(t,e,r,i,n){return n||Mt(t,0,r,8),j(t,e,r,i,52,8),r+8}Z.prototype.slice=function(t,e){var r,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),Z.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=Z.prototype;else{var n=e-t;r=new Z(n,void 0);for(var o=0;o<n;++o)r[o]=this[o+t]}return r},Z.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||vt(t,e,this.length);for(var i=this[t],n=1,o=0;++o<e&&(n*=256);)i+=this[t+o]*n;return i},Z.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||vt(t,e,this.length);for(var i=this[t+--e],n=1;e>0&&(n*=256);)i+=this[t+--e]*n;return i},Z.prototype.readUInt8=function(t,e){return e||vt(t,1,this.length),this[t]},Z.prototype.readUInt16LE=function(t,e){return e||vt(t,2,this.length),this[t]|this[t+1]<<8},Z.prototype.readUInt16BE=function(t,e){return e||vt(t,2,this.length),this[t]<<8|this[t+1]},Z.prototype.readUInt32LE=function(t,e){return e||vt(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Z.prototype.readUInt32BE=function(t,e){return e||vt(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Z.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||vt(t,e,this.length);for(var i=this[t],n=1,o=0;++o<e&&(n*=256);)i+=this[t+o]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*e)),i},Z.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||vt(t,e,this.length);for(var i=e,n=1,o=this[t+--i];i>0&&(n*=256);)o+=this[t+--i]*n;return o>=(n*=128)&&(o-=Math.pow(2,8*e)),o},Z.prototype.readInt8=function(t,e){return e||vt(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Z.prototype.readInt16LE=function(t,e){e||vt(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},Z.prototype.readInt16BE=function(t,e){e||vt(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},Z.prototype.readInt32LE=function(t,e){return e||vt(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Z.prototype.readInt32BE=function(t,e){return e||vt(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Z.prototype.readFloatLE=function(t,e){return e||vt(t,4,this.length),$(this,t,!0,23,4)},Z.prototype.readFloatBE=function(t,e){return e||vt(t,4,this.length),$(this,t,!1,23,4)},Z.prototype.readDoubleLE=function(t,e){return e||vt(t,8,this.length),$(this,t,!0,52,8)},Z.prototype.readDoubleBE=function(t,e){return e||vt(t,8,this.length),$(this,t,!1,52,8)},Z.prototype.writeUIntLE=function(t,e,r,i){(t=+t,e|=0,r|=0,i)||yt(this,t,e,r,Math.pow(2,8*r)-1,0);var n=1,o=0;for(this[e]=255&t;++o<r&&(n*=256);)this[e+o]=t/n&255;return e+r},Z.prototype.writeUIntBE=function(t,e,r,i){(t=+t,e|=0,r|=0,i)||yt(this,t,e,r,Math.pow(2,8*r)-1,0);var n=r-1,o=1;for(this[e+n]=255&t;--n>=0&&(o*=256);)this[e+n]=t/o&255;return e+r},Z.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||yt(this,t,e,1,255,0),Z.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Z.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||yt(this,t,e,2,65535,0),Z.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):wt(this,t,e,!0),e+2},Z.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||yt(this,t,e,2,65535,0),Z.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):wt(this,t,e,!1),e+2},Z.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||yt(this,t,e,4,4294967295,0),Z.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):bt(this,t,e,!0),e+4},Z.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||yt(this,t,e,4,4294967295,0),Z.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):bt(this,t,e,!1),e+4},Z.prototype.writeIntLE=function(t,e,r,i){if(t=+t,e|=0,!i){var n=Math.pow(2,8*r-1);yt(this,t,e,r,n-1,-n)}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},Z.prototype.writeIntBE=function(t,e,r,i){if(t=+t,e|=0,!i){var n=Math.pow(2,8*r-1);yt(this,t,e,r,n-1,-n)}var o=r-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},Z.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||yt(this,t,e,1,127,-128),Z.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},Z.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||yt(this,t,e,2,32767,-32768),Z.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):wt(this,t,e,!0),e+2},Z.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||yt(this,t,e,2,32767,-32768),Z.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):wt(this,t,e,!1),e+2},Z.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||yt(this,t,e,4,2147483647,-2147483648),Z.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):bt(this,t,e,!0),e+4},Z.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||yt(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Z.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):bt(this,t,e,!1),e+4},Z.prototype.writeFloatLE=function(t,e,r){return Et(this,t,e,!0,r)},Z.prototype.writeFloatBE=function(t,e,r){return Et(this,t,e,!1,r)},Z.prototype.writeDoubleLE=function(t,e,r){return _t(this,t,e,!0,r)},Z.prototype.writeDoubleBE=function(t,e,r){return _t(this,t,e,!1,r)},Z.prototype.copy=function(t,e,r,i){if(r||(r=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-r&&(i=t.length-e+r);var n,o=i-r;if(this===t&&r<e&&e<i)for(n=o-1;n>=0;--n)t[n+e]=this[n+r];else if(o<1e3||!Z.TYPED_ARRAY_SUPPORT)for(n=0;n<o;++n)t[n+e]=this[n+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},Z.prototype.fill=function(t,e,r,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===t.length){var n=t.charCodeAt(0);n<256&&(t=n)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!Z.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var s=Q(t)?t:St(new Z(t,i).toString()),a=s.length;for(o=0;o<r-e;++o)this[o+e]=s[o%a]}return this};var Nt=/[^+\/0-9A-Za-z-_]/g;function At(t){return t<16?"0"+t.toString(16):t.toString(16)}function St(t,e){var r;e=e||1/0;for(var i=t.length,n=null,o=[],s=0;s<i;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320)}else n&&(e-=3)>-1&&o.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function Rt(t){return function(t){var e,r,i,n,o,s;F||B();var a=t.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===t[a-2]?2:"="===t[a-1]?1:0,s=new U(3*a/4-o),i=o>0?a-4:a;var h=0;for(e=0,r=0;e<i;e+=4,r+=3)n=C[t.charCodeAt(e)]<<18|C[t.charCodeAt(e+1)]<<12|C[t.charCodeAt(e+2)]<<6|C[t.charCodeAt(e+3)],s[h++]=n>>16&255,s[h++]=n>>8&255,s[h++]=255&n;return 2===o?(n=C[t.charCodeAt(e)]<<2|C[t.charCodeAt(e+1)]>>4,s[h++]=255&n):1===o&&(n=C[t.charCodeAt(e)]<<10|C[t.charCodeAt(e+1)]<<4|C[t.charCodeAt(e+2)]>>2,s[h++]=n>>8&255,s[h++]=255&n),s}(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(Nt,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function It(t,e,r,i){for(var n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}function xt(t){return null!=t&&(!!t._isBuffer||kt(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&kt(t.slice(0,0))}(t))}function kt(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var Ot=s(Object.freeze({__proto__:null,INSPECT_MAX_BYTES:50,kMaxLength:G,Buffer:Z,SlowBuffer:function(t){return+t!=t&&(t=0),Z.alloc(+t)},isBuffer:xt})),Tt=a((function(t){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function n(t,e,r){if(n.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:Ot.Buffer}catch(t){}function s(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function a(t,e,r){var i=s(t,r);return r-1>=e&&(i|=s(t,r-1)<<4),i}function h(t,e,r,i){for(var n=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;n*=i,n+=a>=49?a-49+10:a>=17?a-17+10:a}return n}n.isBN=function(t){return t instanceof n||null!==t&&"object"==typeof t&&t.constructor.wordSize===n.wordSize&&Array.isArray(t.words)},n.max=function(t,e){return t.cmp(e)>0?t:e},n.min=function(t,e){return t.cmp(e)<0?t:e},n.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<t.length&&(16===e?this._parseHex(t,n,i):(this._parseBase(t,e,n),"le"===i&&this._initArray(this.toArray(),e,i)))},n.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},n.prototype._initArray=function(t,e,i){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,s,a=0;if("be"===i)for(n=t.length-1,o=0;n>=0;n-=3)s=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===i)for(n=0,o=0;n<t.length;n+=3)s=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},n.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,o=0,s=0;if("be"===r)for(i=t.length-1;i>=e;i-=2)n=a(t,e,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)n=a(t,e,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;this.strip()},n.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0;for(var o=t.length-r,s=o%i,a=Math.min(o,o-s)+r,u=0,l=r;l<a;l+=i)u=h(t,l,l+i,e),this.imuln(n),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var f=1;for(u=h(t,l,t.length,e),l=0;l<s;l++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},n.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},n.prototype.clone=function(){var t=new n(null);return this.copy(t),t},n.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function c(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],o=0|e.words[0],s=n*o,a=67108863&s,h=s/67108864|0;r.words[0]=a;for(var u=1;u<i;u++){for(var l=h>>>26,f=67108863&h,c=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=c;d++){var m=u-d|0;l+=(s=(n=0|t.words[m])*(o=0|e.words[d])+f)/67108864|0,f=67108863&s}r.words[u]=0|f,h=0|l}return 0!==h?r.words[u]=0|h:r.length--,r.strip()}n.prototype.toString=function(t,e){var i;if(e=0|e||1,16===(t=t||10)||"hex"===t){i="";for(var n=0,o=0,s=0;s<this.length;s++){var a=this.words[s],h=(16777215&(a<<n|o)).toString(16);i=0!==(o=a>>>24-n&16777215)||s!==this.length-1?u[6-h.length]+h+i:h+i,(n+=2)>=26&&(n-=26,s--)}for(0!==o&&(i=o.toString(16)+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var c=l[t],d=f[t];i="";var m=this.clone();for(m.negative=0;!m.isZero();){var p=m.modn(d).toString(t);i=(m=m.idivn(d)).isZero()?p+i:u[c-p.length]+p+i}for(this.isZero()&&(i="0"+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(t,e){return r(void 0!==o),this.toArrayLike(o,t,e)},n.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},n.prototype.toArrayLike=function(t,e,i){var n=this.byteLength(),o=i||Math.max(1,n);r(n<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,h="le"===e,u=new t(o),l=this.clone();if(h){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-n;a++)u[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[o-a-1]=s}return u},Math.clz32?n.prototype._countBits=function(t){return 32-Math.clz32(t)}:n.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},n.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},n.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},n.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},n.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},n.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},n.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},n.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},n.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},n.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},n.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},n.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},n.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},n.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},n.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},n.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this.strip()},n.prototype.notn=function(t){return this.clone().inotn(t)},n.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var i=t/26|0,n=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<n:this.words[i]&~(1<<n),this.strip()},n.prototype.iadd=function(t){var e,r,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this);for(var n=0,o=0;o<i.length;o++)e=(0|r.words[o])+(0|i.words[o])+n,this.words[o]=67108863&e,n=e>>>26;for(;0!==n&&o<r.length;o++)e=(0|r.words[o])+n,this.words[o]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},n.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},n.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,i,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=t):(r=t,i=this);for(var o=0,s=0;s<i.length;s++)o=(e=(0|r.words[s])-(0|i.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,r){var i,n,o,s=t.words,a=e.words,h=r.words,u=0,l=0|s[0],f=8191&l,c=l>>>13,d=0|s[1],m=8191&d,p=d>>>13,g=0|s[2],v=8191&g,y=g>>>13,w=0|s[3],b=8191&w,M=w>>>13,E=0|s[4],_=8191&E,N=E>>>13,A=0|s[5],S=8191&A,R=A>>>13,I=0|s[6],x=8191&I,k=I>>>13,O=0|s[7],T=8191&O,P=O>>>13,C=0|s[8],U=8191&C,F=C>>>13,B=0|s[9],D=8191&B,L=B>>>13,$=0|a[0],j=8191&$,z=$>>>13,q=0|a[1],G=8191&q,V=q>>>13,K=0|a[2],Z=8191&K,H=K>>>13,W=0|a[3],J=8191&W,X=W>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,it=et>>>13,nt=0|a[6],ot=8191&nt,st=nt>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ft=8191&lt,ct=lt>>>13,dt=0|a[9],mt=8191&dt,pt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(u+(i=Math.imul(f,j))|0)+((8191&(n=(n=Math.imul(f,z))+Math.imul(c,j)|0))<<13)|0;u=((o=Math.imul(c,z))+(n>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(m,j),n=(n=Math.imul(m,z))+Math.imul(p,j)|0,o=Math.imul(p,z);var vt=(u+(i=i+Math.imul(f,G)|0)|0)+((8191&(n=(n=n+Math.imul(f,V)|0)+Math.imul(c,G)|0))<<13)|0;u=((o=o+Math.imul(c,V)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(v,j),n=(n=Math.imul(v,z))+Math.imul(y,j)|0,o=Math.imul(y,z),i=i+Math.imul(m,G)|0,n=(n=n+Math.imul(m,V)|0)+Math.imul(p,G)|0,o=o+Math.imul(p,V)|0;var yt=(u+(i=i+Math.imul(f,Z)|0)|0)+((8191&(n=(n=n+Math.imul(f,H)|0)+Math.imul(c,Z)|0))<<13)|0;u=((o=o+Math.imul(c,H)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(b,j),n=(n=Math.imul(b,z))+Math.imul(M,j)|0,o=Math.imul(M,z),i=i+Math.imul(v,G)|0,n=(n=n+Math.imul(v,V)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,V)|0,i=i+Math.imul(m,Z)|0,n=(n=n+Math.imul(m,H)|0)+Math.imul(p,Z)|0,o=o+Math.imul(p,H)|0;var wt=(u+(i=i+Math.imul(f,J)|0)|0)+((8191&(n=(n=n+Math.imul(f,X)|0)+Math.imul(c,J)|0))<<13)|0;u=((o=o+Math.imul(c,X)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(_,j),n=(n=Math.imul(_,z))+Math.imul(N,j)|0,o=Math.imul(N,z),i=i+Math.imul(b,G)|0,n=(n=n+Math.imul(b,V)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,V)|0,i=i+Math.imul(v,Z)|0,n=(n=n+Math.imul(v,H)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,H)|0,i=i+Math.imul(m,J)|0,n=(n=n+Math.imul(m,X)|0)+Math.imul(p,J)|0,o=o+Math.imul(p,X)|0;var bt=(u+(i=i+Math.imul(f,Q)|0)|0)+((8191&(n=(n=n+Math.imul(f,tt)|0)+Math.imul(c,Q)|0))<<13)|0;u=((o=o+Math.imul(c,tt)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(S,j),n=(n=Math.imul(S,z))+Math.imul(R,j)|0,o=Math.imul(R,z),i=i+Math.imul(_,G)|0,n=(n=n+Math.imul(_,V)|0)+Math.imul(N,G)|0,o=o+Math.imul(N,V)|0,i=i+Math.imul(b,Z)|0,n=(n=n+Math.imul(b,H)|0)+Math.imul(M,Z)|0,o=o+Math.imul(M,H)|0,i=i+Math.imul(v,J)|0,n=(n=n+Math.imul(v,X)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,X)|0,i=i+Math.imul(m,Q)|0,n=(n=n+Math.imul(m,tt)|0)+Math.imul(p,Q)|0,o=o+Math.imul(p,tt)|0;var Mt=(u+(i=i+Math.imul(f,rt)|0)|0)+((8191&(n=(n=n+Math.imul(f,it)|0)+Math.imul(c,rt)|0))<<13)|0;u=((o=o+Math.imul(c,it)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(x,j),n=(n=Math.imul(x,z))+Math.imul(k,j)|0,o=Math.imul(k,z),i=i+Math.imul(S,G)|0,n=(n=n+Math.imul(S,V)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,V)|0,i=i+Math.imul(_,Z)|0,n=(n=n+Math.imul(_,H)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,H)|0,i=i+Math.imul(b,J)|0,n=(n=n+Math.imul(b,X)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,X)|0,i=i+Math.imul(v,Q)|0,n=(n=n+Math.imul(v,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,i=i+Math.imul(m,rt)|0,n=(n=n+Math.imul(m,it)|0)+Math.imul(p,rt)|0,o=o+Math.imul(p,it)|0;var Et=(u+(i=i+Math.imul(f,ot)|0)|0)+((8191&(n=(n=n+Math.imul(f,st)|0)+Math.imul(c,ot)|0))<<13)|0;u=((o=o+Math.imul(c,st)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(T,j),n=(n=Math.imul(T,z))+Math.imul(P,j)|0,o=Math.imul(P,z),i=i+Math.imul(x,G)|0,n=(n=n+Math.imul(x,V)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,V)|0,i=i+Math.imul(S,Z)|0,n=(n=n+Math.imul(S,H)|0)+Math.imul(R,Z)|0,o=o+Math.imul(R,H)|0,i=i+Math.imul(_,J)|0,n=(n=n+Math.imul(_,X)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,X)|0,i=i+Math.imul(b,Q)|0,n=(n=n+Math.imul(b,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,i=i+Math.imul(v,rt)|0,n=(n=n+Math.imul(v,it)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,it)|0,i=i+Math.imul(m,ot)|0,n=(n=n+Math.imul(m,st)|0)+Math.imul(p,ot)|0,o=o+Math.imul(p,st)|0;var _t=(u+(i=i+Math.imul(f,ht)|0)|0)+((8191&(n=(n=n+Math.imul(f,ut)|0)+Math.imul(c,ht)|0))<<13)|0;u=((o=o+Math.imul(c,ut)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(U,j),n=(n=Math.imul(U,z))+Math.imul(F,j)|0,o=Math.imul(F,z),i=i+Math.imul(T,G)|0,n=(n=n+Math.imul(T,V)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,V)|0,i=i+Math.imul(x,Z)|0,n=(n=n+Math.imul(x,H)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,H)|0,i=i+Math.imul(S,J)|0,n=(n=n+Math.imul(S,X)|0)+Math.imul(R,J)|0,o=o+Math.imul(R,X)|0,i=i+Math.imul(_,Q)|0,n=(n=n+Math.imul(_,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,i=i+Math.imul(b,rt)|0,n=(n=n+Math.imul(b,it)|0)+Math.imul(M,rt)|0,o=o+Math.imul(M,it)|0,i=i+Math.imul(v,ot)|0,n=(n=n+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,i=i+Math.imul(m,ht)|0,n=(n=n+Math.imul(m,ut)|0)+Math.imul(p,ht)|0,o=o+Math.imul(p,ut)|0;var Nt=(u+(i=i+Math.imul(f,ft)|0)|0)+((8191&(n=(n=n+Math.imul(f,ct)|0)+Math.imul(c,ft)|0))<<13)|0;u=((o=o+Math.imul(c,ct)|0)+(n>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,i=Math.imul(D,j),n=(n=Math.imul(D,z))+Math.imul(L,j)|0,o=Math.imul(L,z),i=i+Math.imul(U,G)|0,n=(n=n+Math.imul(U,V)|0)+Math.imul(F,G)|0,o=o+Math.imul(F,V)|0,i=i+Math.imul(T,Z)|0,n=(n=n+Math.imul(T,H)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,H)|0,i=i+Math.imul(x,J)|0,n=(n=n+Math.imul(x,X)|0)+Math.imul(k,J)|0,o=o+Math.imul(k,X)|0,i=i+Math.imul(S,Q)|0,n=(n=n+Math.imul(S,tt)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,tt)|0,i=i+Math.imul(_,rt)|0,n=(n=n+Math.imul(_,it)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,it)|0,i=i+Math.imul(b,ot)|0,n=(n=n+Math.imul(b,st)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,st)|0,i=i+Math.imul(v,ht)|0,n=(n=n+Math.imul(v,ut)|0)+Math.imul(y,ht)|0,o=o+Math.imul(y,ut)|0,i=i+Math.imul(m,ft)|0,n=(n=n+Math.imul(m,ct)|0)+Math.imul(p,ft)|0,o=o+Math.imul(p,ct)|0;var At=(u+(i=i+Math.imul(f,mt)|0)|0)+((8191&(n=(n=n+Math.imul(f,pt)|0)+Math.imul(c,mt)|0))<<13)|0;u=((o=o+Math.imul(c,pt)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(D,G),n=(n=Math.imul(D,V))+Math.imul(L,G)|0,o=Math.imul(L,V),i=i+Math.imul(U,Z)|0,n=(n=n+Math.imul(U,H)|0)+Math.imul(F,Z)|0,o=o+Math.imul(F,H)|0,i=i+Math.imul(T,J)|0,n=(n=n+Math.imul(T,X)|0)+Math.imul(P,J)|0,o=o+Math.imul(P,X)|0,i=i+Math.imul(x,Q)|0,n=(n=n+Math.imul(x,tt)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,tt)|0,i=i+Math.imul(S,rt)|0,n=(n=n+Math.imul(S,it)|0)+Math.imul(R,rt)|0,o=o+Math.imul(R,it)|0,i=i+Math.imul(_,ot)|0,n=(n=n+Math.imul(_,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,i=i+Math.imul(b,ht)|0,n=(n=n+Math.imul(b,ut)|0)+Math.imul(M,ht)|0,o=o+Math.imul(M,ut)|0,i=i+Math.imul(v,ft)|0,n=(n=n+Math.imul(v,ct)|0)+Math.imul(y,ft)|0,o=o+Math.imul(y,ct)|0;var St=(u+(i=i+Math.imul(m,mt)|0)|0)+((8191&(n=(n=n+Math.imul(m,pt)|0)+Math.imul(p,mt)|0))<<13)|0;u=((o=o+Math.imul(p,pt)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(D,Z),n=(n=Math.imul(D,H))+Math.imul(L,Z)|0,o=Math.imul(L,H),i=i+Math.imul(U,J)|0,n=(n=n+Math.imul(U,X)|0)+Math.imul(F,J)|0,o=o+Math.imul(F,X)|0,i=i+Math.imul(T,Q)|0,n=(n=n+Math.imul(T,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,i=i+Math.imul(x,rt)|0,n=(n=n+Math.imul(x,it)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,it)|0,i=i+Math.imul(S,ot)|0,n=(n=n+Math.imul(S,st)|0)+Math.imul(R,ot)|0,o=o+Math.imul(R,st)|0,i=i+Math.imul(_,ht)|0,n=(n=n+Math.imul(_,ut)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,ut)|0,i=i+Math.imul(b,ft)|0,n=(n=n+Math.imul(b,ct)|0)+Math.imul(M,ft)|0,o=o+Math.imul(M,ct)|0;var Rt=(u+(i=i+Math.imul(v,mt)|0)|0)+((8191&(n=(n=n+Math.imul(v,pt)|0)+Math.imul(y,mt)|0))<<13)|0;u=((o=o+Math.imul(y,pt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(D,J),n=(n=Math.imul(D,X))+Math.imul(L,J)|0,o=Math.imul(L,X),i=i+Math.imul(U,Q)|0,n=(n=n+Math.imul(U,tt)|0)+Math.imul(F,Q)|0,o=o+Math.imul(F,tt)|0,i=i+Math.imul(T,rt)|0,n=(n=n+Math.imul(T,it)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,it)|0,i=i+Math.imul(x,ot)|0,n=(n=n+Math.imul(x,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,i=i+Math.imul(S,ht)|0,n=(n=n+Math.imul(S,ut)|0)+Math.imul(R,ht)|0,o=o+Math.imul(R,ut)|0,i=i+Math.imul(_,ft)|0,n=(n=n+Math.imul(_,ct)|0)+Math.imul(N,ft)|0,o=o+Math.imul(N,ct)|0;var It=(u+(i=i+Math.imul(b,mt)|0)|0)+((8191&(n=(n=n+Math.imul(b,pt)|0)+Math.imul(M,mt)|0))<<13)|0;u=((o=o+Math.imul(M,pt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(D,Q),n=(n=Math.imul(D,tt))+Math.imul(L,Q)|0,o=Math.imul(L,tt),i=i+Math.imul(U,rt)|0,n=(n=n+Math.imul(U,it)|0)+Math.imul(F,rt)|0,o=o+Math.imul(F,it)|0,i=i+Math.imul(T,ot)|0,n=(n=n+Math.imul(T,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,i=i+Math.imul(x,ht)|0,n=(n=n+Math.imul(x,ut)|0)+Math.imul(k,ht)|0,o=o+Math.imul(k,ut)|0,i=i+Math.imul(S,ft)|0,n=(n=n+Math.imul(S,ct)|0)+Math.imul(R,ft)|0,o=o+Math.imul(R,ct)|0;var xt=(u+(i=i+Math.imul(_,mt)|0)|0)+((8191&(n=(n=n+Math.imul(_,pt)|0)+Math.imul(N,mt)|0))<<13)|0;u=((o=o+Math.imul(N,pt)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(D,rt),n=(n=Math.imul(D,it))+Math.imul(L,rt)|0,o=Math.imul(L,it),i=i+Math.imul(U,ot)|0,n=(n=n+Math.imul(U,st)|0)+Math.imul(F,ot)|0,o=o+Math.imul(F,st)|0,i=i+Math.imul(T,ht)|0,n=(n=n+Math.imul(T,ut)|0)+Math.imul(P,ht)|0,o=o+Math.imul(P,ut)|0,i=i+Math.imul(x,ft)|0,n=(n=n+Math.imul(x,ct)|0)+Math.imul(k,ft)|0,o=o+Math.imul(k,ct)|0;var kt=(u+(i=i+Math.imul(S,mt)|0)|0)+((8191&(n=(n=n+Math.imul(S,pt)|0)+Math.imul(R,mt)|0))<<13)|0;u=((o=o+Math.imul(R,pt)|0)+(n>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(D,ot),n=(n=Math.imul(D,st))+Math.imul(L,ot)|0,o=Math.imul(L,st),i=i+Math.imul(U,ht)|0,n=(n=n+Math.imul(U,ut)|0)+Math.imul(F,ht)|0,o=o+Math.imul(F,ut)|0,i=i+Math.imul(T,ft)|0,n=(n=n+Math.imul(T,ct)|0)+Math.imul(P,ft)|0,o=o+Math.imul(P,ct)|0;var Ot=(u+(i=i+Math.imul(x,mt)|0)|0)+((8191&(n=(n=n+Math.imul(x,pt)|0)+Math.imul(k,mt)|0))<<13)|0;u=((o=o+Math.imul(k,pt)|0)+(n>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,i=Math.imul(D,ht),n=(n=Math.imul(D,ut))+Math.imul(L,ht)|0,o=Math.imul(L,ut),i=i+Math.imul(U,ft)|0,n=(n=n+Math.imul(U,ct)|0)+Math.imul(F,ft)|0,o=o+Math.imul(F,ct)|0;var Tt=(u+(i=i+Math.imul(T,mt)|0)|0)+((8191&(n=(n=n+Math.imul(T,pt)|0)+Math.imul(P,mt)|0))<<13)|0;u=((o=o+Math.imul(P,pt)|0)+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(D,ft),n=(n=Math.imul(D,ct))+Math.imul(L,ft)|0,o=Math.imul(L,ct);var Pt=(u+(i=i+Math.imul(U,mt)|0)|0)+((8191&(n=(n=n+Math.imul(U,pt)|0)+Math.imul(F,mt)|0))<<13)|0;u=((o=o+Math.imul(F,pt)|0)+(n>>>13)|0)+(Pt>>>26)|0,Pt&=67108863;var Ct=(u+(i=Math.imul(D,mt))|0)+((8191&(n=(n=Math.imul(D,pt))+Math.imul(L,mt)|0))<<13)|0;return u=((o=Math.imul(L,pt))+(n>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,h[0]=gt,h[1]=vt,h[2]=yt,h[3]=wt,h[4]=bt,h[5]=Mt,h[6]=Et,h[7]=_t,h[8]=Nt,h[9]=At,h[10]=St,h[11]=Rt,h[12]=It,h[13]=xt,h[14]=kt,h[15]=Ot,h[16]=Tt,h[17]=Pt,h[18]=Ct,0!==u&&(h[19]=u,r.length++),r};function m(t,e,r){return(new p).mulp(t,e,r)}function p(t,e){this.x=t,this.y=e}Math.imul||(d=c),n.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?d(this,t,e):r<63?c(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,o=0;o<r.length-1;o++){var s=n;n=0;for(var a=67108863&i,h=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=h;u++){var l=o-u,f=(0|t.words[l])*(0|e.words[u]),c=67108863&f;a=67108863&(c=c+a|0),n+=(s=(s=s+(f/67108864|0)|0)+(c>>>26)|0)>>>26,s&=67108863}r.words[o]=a,i=s,s=n}return 0!==i?r.words[o]=i:r.length--,r.strip()}(this,t,e):m(this,t,e)},p.prototype.makeRBT=function(t){for(var e=new Array(t),r=n.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},p.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var i=0,n=0;n<e;n++)i|=(1&t)<<e-n-1,t>>=1;return i},p.prototype.permute=function(t,e,r,i,n,o){for(var s=0;s<o;s++)i[s]=e[t[s]],n[s]=r[t[s]]},p.prototype.transform=function(t,e,r,i,n,o){this.permute(o,t,e,r,i,n);for(var s=1;s<n;s<<=1)for(var a=s<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<n;l+=a)for(var f=h,c=u,d=0;d<s;d++){var m=r[l+d],p=i[l+d],g=r[l+d+s],v=i[l+d+s],y=f*g-c*v;v=f*v+c*g,g=y,r[l+d]=m+g,i[l+d]=p+v,r[l+d+s]=m-g,i[l+d+s]=p-v,d!==a&&(y=h*f-u*c,c=h*c+u*f,f=y)}},p.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},p.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},p.prototype.normalize13b=function(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=67108863&n,r=n<67108864?0:n/67108864|0}return t},p.prototype.convert13b=function(t,e,i,n){for(var o=0,s=0;s<e;s++)o+=0|t[s],i[2*s]=8191&o,o>>>=13,i[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<n;++s)i[s]=0;r(0===o),r(0==(-8192&o))},p.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},p.prototype.mulp=function(t,e,r){var i=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(i),o=this.stub(i),s=new Array(i),a=new Array(i),h=new Array(i),u=new Array(i),l=new Array(i),f=new Array(i),c=r.words;c.length=i,this.convert13b(t.words,t.length,s,i),this.convert13b(e.words,e.length,u,i),this.transform(s,o,a,h,i,n),this.transform(u,o,l,f,i,n);for(var d=0;d<i;d++){var m=a[d]*l[d]-h[d]*f[d];h[d]=a[d]*f[d]+h[d]*l[d],a[d]=m}return this.conjugate(a,h,i),this.transform(a,h,c,o,i,n),this.conjugate(c,o,i),this.normalize13b(c,i),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},n.prototype.mul=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},n.prototype.mulf=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),m(this,t,e)},n.prototype.imul=function(t){return this.clone().mulTo(t,this)},n.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,i=0;i<this.length;i++){var n=(0|this.words[i])*t,o=(67108863&n)+(67108863&e);e>>=26,e+=n/67108864|0,e+=o>>>26,this.words[i]=67108863&o}return 0!==e&&(this.words[i]=e,this.length++),this},n.prototype.muln=function(t){return this.clone().imuln(t)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=(t.words[i]&1<<n)>>>n}return e}(t);if(0===e.length)return new n(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var o=r.sqr();i<e.length;i++,o=o.sqr())0!==e[i]&&(r=r.mul(o));return r},n.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,i=t%26,n=(t-i)/26,o=67108863>>>26-i<<26-i;if(0!==i){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,h=(0|this.words[e])-a<<i;this.words[e]=h|s,s=a>>>26-i}s&&(this.words[e]=s,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this.strip()},n.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},n.prototype.iushrn=function(t,e,i){var n;r("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,h=i;if(n-=s,n=Math.max(0,n),h){for(var u=0;u<s;u++)h.words[u]=this.words[u];h.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=n);u--){var f=0|this.words[u];this.words[u]=l<<26-o|f>>>o,l=f&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(t,e,i){return r(0===this.negative),this.iushrn(t,e,i)},n.prototype.shln=function(t){return this.clone().ishln(t)},n.prototype.ushln=function(t){return this.clone().iushln(t)},n.prototype.shrn=function(t){return this.clone().ishrn(t)},n.prototype.ushrn=function(t){return this.clone().iushrn(t)},n.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26,n=1<<e;return!(this.length<=i)&&!!(this.words[i]&n)},n.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this.strip()},n.prototype.maskn=function(t){return this.clone().imaskn(t)},n.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},n.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},n.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},n.prototype.addn=function(t){return this.clone().iaddn(t)},n.prototype.subn=function(t){return this.clone().isubn(t)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(t,e,i){var n,o,s=t.length+i;this._expand(s);var a=0;for(n=0;n<t.length;n++){o=(0|this.words[n+i])+a;var h=(0|t.words[n])*e;a=((o-=67108863&h)>>26)-(h/67108864|0),this.words[n+i]=67108863&o}for(;n<this.length-i;n++)a=(o=(0|this.words[n+i])+a)>>26,this.words[n+i]=67108863&o;if(0===a)return this.strip();for(r(-1===a),a=0,n=0;n<this.length;n++)a=(o=-(0|this.words[n])+a)>>26,this.words[n]=67108863&o;return this.negative=1,this.strip()},n.prototype._wordDiv=function(t,e){var r=(this.length,t.length),i=this.clone(),o=t,s=0|o.words[o.length-1];0!==(r=26-this._countBits(s))&&(o=o.ushln(r),i.iushln(r),s=0|o.words[o.length-1]);var a,h=i.length-o.length;if("mod"!==e){(a=new n(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=i.clone()._ishlnsubmul(o,1,h);0===l.negative&&(i=l,a&&(a.words[h]=1));for(var f=h-1;f>=0;f--){var c=67108864*(0|i.words[o.length+f])+(0|i.words[o.length+f-1]);for(c=Math.min(c/s|0,67108863),i._ishlnsubmul(o,c,f);0!==i.negative;)c--,i.negative=0,i._ishlnsubmul(o,1,f),i.isZero()||(i.negative^=1);a&&(a.words[f]=c)}return a&&a.strip(),i.strip(),"div"!==e&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},n.prototype.divmod=function(t,e,i){return r(!t.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(o=a.div.neg()),"div"!==e&&(s=a.mod.neg(),i&&0!==s.negative&&s.iadd(t)),{div:o,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(o=a.div.neg()),{div:o,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),i&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new n(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new n(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new n(this.modn(t.words[0]))}:this._wordDiv(t,e);var o,s,a},n.prototype.div=function(t){return this.divmod(t,"div",!1).div},n.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},n.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},n.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),o=r.cmp(i);return o<0||1===n&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},n.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,i=0,n=this.length-1;n>=0;n--)i=(e*i+(0|this.words[n]))%t;return i},n.prototype.idivn=function(t){r(t<=67108863);for(var e=0,i=this.length-1;i>=0;i--){var n=(0|this.words[i])+67108864*e;this.words[i]=n/t|0,e=n%t}return this.strip()},n.prototype.divn=function(t){return this.clone().idivn(t)},n.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new n(1),s=new n(0),a=new n(0),h=new n(1),u=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++u;for(var l=i.clone(),f=e.clone();!e.isZero();){for(var c=0,d=1;0==(e.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(e.iushrn(c);c-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(l),s.isub(f)),o.iushrn(1),s.iushrn(1);for(var m=0,p=1;0==(i.words[0]&p)&&m<26;++m,p<<=1);if(m>0)for(i.iushrn(m);m-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(f)),a.iushrn(1),h.iushrn(1);e.cmp(i)>=0?(e.isub(i),o.isub(a),s.isub(h)):(i.isub(e),a.isub(o),h.isub(s))}return{a:a,b:h,gcd:i.iushln(u)}},n.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,s=new n(1),a=new n(0),h=i.clone();e.cmpn(1)>0&&i.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var f=0,c=1;0==(i.words[0]&c)&&f<26;++f,c<<=1);if(f>0)for(i.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(i)>=0?(e.isub(i),s.isub(a)):(i.isub(e),a.isub(s))}return(o=0===e.cmpn(1)?s:a).cmpn(0)<0&&o.iadd(t),o},n.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var o=e;e=r,r=o}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},n.prototype.invm=function(t){return this.egcd(t).a.umod(t)},n.prototype.isEven=function(){return 0==(1&this.words[0])},n.prototype.isOdd=function(){return 1==(1&this.words[0])},n.prototype.andln=function(t){return this.words[0]&t},n.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,i=(t-e)/26,n=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var o=n,s=i;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(t){var e,i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)e=1;else{i&&(t=-t),r(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},n.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},n.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},n.prototype.gtn=function(t){return 1===this.cmpn(t)},n.prototype.gt=function(t){return 1===this.cmp(t)},n.prototype.gten=function(t){return this.cmpn(t)>=0},n.prototype.gte=function(t){return this.cmp(t)>=0},n.prototype.ltn=function(t){return-1===this.cmpn(t)},n.prototype.lt=function(t){return-1===this.cmp(t)},n.prototype.lten=function(t){return this.cmpn(t)<=0},n.prototype.lte=function(t){return this.cmp(t)<=0},n.prototype.eqn=function(t){return 0===this.cmpn(t)},n.prototype.eq=function(t){return 0===this.cmp(t)},n.red=function(t){return new E(t)},n.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(t){return this.red=t,this},n.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},n.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},n.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},n.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},n.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},n.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},n.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},n.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new n(e,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(t){if("string"==typeof t){var e=n._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function _(t){E.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new n(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},i(y,v),y.prototype.split=function(t,e){for(var r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var n=t.words[9];for(e.words[e.length++]=4194303&n,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(4194303&o)<<4|n>>>22,n=o}n>>>=22,t.words[i-10]=n,0===n&&t.length>10?t.length-=10:t.length-=9},y.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,v),i(b,v),i(M,v),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=19*(0|t.words[r])+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},n._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new y;else if("p224"===t)e=new w;else if("p192"===t)e=new b;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return g[t]=e,e},E.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},E.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},E.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},E.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},E.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},E.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},E.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},E.prototype.isqr=function(t){return this.imul(t,t.clone())},E.prototype.sqr=function(t){return this.mul(t,t)},E.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var i=this.m.add(new n(1)).iushrn(2);return this.pow(t,i)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new n(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new n(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var f=this.pow(l,o),c=this.pow(t,o.addn(1).iushrn(1)),d=this.pow(t,o),m=s;0!==d.cmp(a);){for(var p=d,g=0;0!==p.cmp(a);g++)p=p.redSqr();r(g<m);var v=this.pow(f,new n(1).iushln(m-g-1));c=c.redMul(v),f=v.redSqr(),d=d.redMul(f),m=g}return c},E.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},E.prototype.pow=function(t,e){if(e.isZero())return new n(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new n(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var o=r[0],s=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),i=e.length-1;i>=0;i--){for(var u=e.words[i],l=h-1;l>=0;l--){var f=u>>l&1;o!==r[0]&&(o=this.sqr(o)),0!==f||0!==s?(s<<=1,s|=f,(4===++a||0===i&&0===l)&&(o=this.mul(o,r[s]),a=0,s=0)):a=0}h=26}return o},E.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},E.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},n.mont=function(t){return new _(t)},i(_,E),_.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},_.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},_.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},_.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new n(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(i).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},_.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,n)}));let Pt=!1,Ct=!1;const Ut={debug:1,default:2,info:2,warning:3,error:4,off:5};let Ft=Ut.default,Bt=null;const Dt=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var Lt,$t;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(Lt||(Lt={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}($t||($t={}));class jt{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Ut[r]&&this.throwArgumentError("invalid log level name","logLevel",t),Ft>Ut[r]||console.log.apply(console,e)}debug(...t){this._log(jt.levels.DEBUG,t)}info(...t){this._log(jt.levels.INFO,t)}warn(...t){this._log(jt.levels.WARNING,t)}makeError(t,e,r){if(Ct)return this.makeError("censored error",e,{});e||(e=jt.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(t=>{try{i.push(t+"="+JSON.stringify(r[t]))}catch(e){i.push(t+"="+JSON.stringify(r[t].toString()))}}),i.push("code="+e),i.push("version="+this.version);const n=t;i.length&&(t+=" ("+i.join(", ")+")");const o=new Error(t);return o.reason=n,o.code=e,Object.keys(r).forEach((function(t){o[t]=r[t]})),o}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,jt.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,i){t||this.throwError(e,r,i)}assertArgument(t,e,r,i){t||this.throwArgumentError(e,r,i)}checkNormalize(t){Dt&&this.throwError("platform missing String.prototype.normalize",jt.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Dt})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,jt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,jt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,jt.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,jt.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",jt.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",jt.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",jt.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Bt||(Bt=new jt("logger/5.3.0")),Bt}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",jt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Pt){if(!t)return;this.globalLogger().throwError("error censorship permanent",jt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Ct=!!t,Pt=!!e}static setLogLevel(t){const e=Ut[t.toLowerCase()];null!=e?Ft=e:jt.globalLogger().warn("invalid log level - "+t)}static from(t){return new jt(t)}}jt.errors=$t,jt.levels=Lt;const zt=new jt("bytes/5.3.0");function qt(t){return!!t.toHexString}function Gt(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Gt(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Vt(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(null==t.length)return!1;for(let e=0;e<t.length;e++){const r=t[e];if("number"!=typeof r||r<0||r>=256||r%1)return!1}return!0}function Kt(t,e){if(e||(e={}),"number"==typeof t){zt.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),Gt(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),qt(t)&&(t=t.toHexString()),Ht(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0x0"+r.substring(2):"right"===e.hexPad?r+="0":zt.throwArgumentError("hex data is odd-length","value",t));const i=[];for(let t=0;t<r.length;t+=2)i.push(parseInt(r.substring(t,t+2),16));return Gt(new Uint8Array(i))}return Vt(t)?Gt(new Uint8Array(t)):zt.throwArgumentError("invalid arrayify value","value",t)}function Zt(t){const e=t.map(t=>Kt(t)),r=e.reduce((t,e)=>t+e.length,0),i=new Uint8Array(r);return e.reduce((t,e)=>(i.set(e,t),t+e.length),0),Gt(i)}function Ht(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}function Wt(t,e){if(e||(e={}),"number"==typeof t){zt.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e="0123456789abcdef"[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),qt(t))return t.toHexString();if(Ht(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":zt.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Vt(t)){let e="0x";for(let r=0;r<t.length;r++){let i=t[r];e+="0123456789abcdef"[(240&i)>>4]+"0123456789abcdef"[15&i]}return e}return zt.throwArgumentError("invalid hexlify value","value",t)}function Jt(t,e){for("string"!=typeof t?t=Wt(t):Ht(t)||zt.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&zt.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}var Xt=Tt.BN;const Yt=new jt("bignumber/5.3.0"),Qt={};let te=!1;class ee{constructor(t,e){Yt.checkNew(new.target,ee),t!==Qt&&Yt.throwError("cannot call constructor directly; use BigNumber.from",jt.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return ie(ne(this).fromTwos(t))}toTwos(t){return ie(ne(this).toTwos(t))}abs(){return"-"===this._hex[0]?ee.from(this._hex.substring(1)):this}add(t){return ie(ne(this).add(ne(t)))}sub(t){return ie(ne(this).sub(ne(t)))}div(t){return ee.from(t).isZero()&&oe("division by zero","div"),ie(ne(this).div(ne(t)))}mul(t){return ie(ne(this).mul(ne(t)))}mod(t){const e=ne(t);return e.isNeg()&&oe("cannot modulo negative values","mod"),ie(ne(this).umod(e))}pow(t){const e=ne(t);return e.isNeg()&&oe("cannot raise to negative values","pow"),ie(ne(this).pow(e))}and(t){const e=ne(t);return(this.isNegative()||e.isNeg())&&oe("cannot 'and' negative values","and"),ie(ne(this).and(e))}or(t){const e=ne(t);return(this.isNegative()||e.isNeg())&&oe("cannot 'or' negative values","or"),ie(ne(this).or(e))}xor(t){const e=ne(t);return(this.isNegative()||e.isNeg())&&oe("cannot 'xor' negative values","xor"),ie(ne(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&oe("cannot mask negative values","mask"),ie(ne(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&oe("cannot shift negative values","shl"),ie(ne(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&oe("cannot shift negative values","shr"),ie(ne(this).shrn(t))}eq(t){return ne(this).eq(ne(t))}lt(t){return ne(this).lt(ne(t))}lte(t){return ne(this).lte(ne(t))}gt(t){return ne(this).gt(ne(t))}gte(t){return ne(this).gte(ne(t))}isNegative(){return"-"===this._hex[0]}isZero(){return ne(this).isZero()}toNumber(){try{return ne(this).toNumber()}catch(t){oe("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return Yt.throwError("this platform does not support BigInt",jt.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?te||(te=!0,Yt.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?Yt.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",jt.errors.UNEXPECTED_ARGUMENT,{}):Yt.throwError("BigNumber.toString does not accept parameters",jt.errors.UNEXPECTED_ARGUMENT,{})),ne(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof ee)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new ee(Qt,re(t)):t.match(/^-?[0-9]+$/)?new ee(Qt,re(new Xt(t))):Yt.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&oe("underflow","BigNumber.from",t),(t>=9007199254740991||t<=-9007199254740991)&&oe("overflow","BigNumber.from",t),ee.from(String(t));const e=t;if("bigint"==typeof e)return ee.from(e.toString());if(Vt(e))return ee.from(Wt(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return ee.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(Ht(t)||"-"===t[0]&&Ht(t.substring(1))))return ee.from(t)}return Yt.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function re(t){if("string"!=typeof t)return re(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&Yt.throwArgumentError("invalid hex","value",t),"0x00"===(t=re(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function ie(t){return ee.from(re(t))}function ne(t){const e=ee.from(t).toHexString();return"-"===e[0]?new Xt("-"+e.substring(3),16):new Xt(e.substring(2),16)}function oe(t,e,r){const i={fault:t,operation:e};return null!=r&&(i.value=r),Yt.throwError(t,jt.errors.NUMERIC_FAULT,i)}window&&window.__awaiter;const se=new jt("properties/5.3.0");function ae(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function he(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||"object"!=typeof t.prototype)break;t=Object.getPrototypeOf(t.prototype).constructor}return null}const ue={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function le(t){if(function t(e){if(null==e||ue[typeof e])return!0;if(Array.isArray(e)||"object"==typeof e){if(!Object.isFrozen(e))return!1;const r=Object.keys(e);for(let i=0;i<r.length;i++)if(!t(e[r[i]]))return!1;return!0}return se.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}(t))return t;if(Array.isArray(t))return Object.freeze(t.map(t=>fe(t)));if("object"==typeof t){const e={};for(const r in t){const i=t[r];void 0!==i&&ae(e,r,fe(i))}return e}return se.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function fe(t){return le(t)}class ce{constructor(t){for(const e in t)this[e]=fe(t[e])}}const de=new jt("abi/5.3.1"),me={};let pe={calldata:!0,memory:!0,storage:!0},ge={calldata:!0,memory:!0};function ve(t,e){if("bytes"===t||"string"===t){if(pe[e])return!0}else if("address"===t){if("payable"===e)return!0}else if((t.indexOf("[")>=0||"tuple"===t)&&ge[e])return!0;return(pe[e]||"payable"===e)&&de.throwArgumentError("invalid modifier","name",e),!1}function ye(t,e){for(let r in e)ae(t,r,e[r])}const we=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),be=new RegExp(/^(.*)\[([0-9]*)\]$/);class Me{constructor(t,e){t!==me&&de.throwError("use fromString",jt.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),ye(this,e);let r=this.type.match(be);ye(this,r?{arrayLength:parseInt(r[2]||"-1"),arrayChildren:Me.fromObject({type:r[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(t){if(t||(t=we.sighash),we[t]||de.throwArgumentError("invalid format type","format",t),t===we.json){let e={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(e.indexed=this.indexed),this.components&&(e.components=this.components.map(e=>JSON.parse(e.format(t)))),JSON.stringify(e)}let e="";return"array"===this.baseType?(e+=this.arrayChildren.format(t),e+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(t!==we.sighash&&(e+=this.type),e+="("+this.components.map(e=>e.format(t)).join(t===we.full?", ":",")+")"):e+=this.type,t!==we.sighash&&(!0===this.indexed&&(e+=" indexed"),t===we.full&&this.name&&(e+=" "+this.name)),e}static from(t,e){return"string"==typeof t?Me.fromString(t,e):Me.fromObject(t)}static fromObject(t){return Me.isParamType(t)?t:new Me(me,{name:t.name||null,type:Te(t.type),indexed:null==t.indexed?null:!!t.indexed,components:t.components?t.components.map(Me.fromObject):null})}static fromString(t,e){return r=function(t,e){let r=t;function i(e){de.throwArgumentError("unexpected character at position "+e,"param",t)}function n(t){let r={type:"",name:"",parent:t,state:{allowType:!0}};return e&&(r.indexed=!1),r}t=t.replace(/\s/g," ");let o={type:"",name:"",state:{allowType:!0}},s=o;for(let r=0;r<t.length;r++){let o=t[r];switch(o){case"(":s.state.allowType&&""===s.type?s.type="tuple":s.state.allowParams||i(r),s.state.allowType=!1,s.type=Te(s.type),s.components=[n(s)],s=s.components[0];break;case")":delete s.state,"indexed"===s.name&&(e||i(r),s.indexed=!0,s.name=""),ve(s.type,s.name)&&(s.name=""),s.type=Te(s.type);let t=s;s=s.parent,s||i(r),delete t.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,"indexed"===s.name&&(e||i(r),s.indexed=!0,s.name=""),ve(s.type,s.name)&&(s.name=""),s.type=Te(s.type);let a=n(s.parent);s.parent.components.push(a),delete s.parent,s=a;break;case" ":s.state.allowType&&""!==s.type&&(s.type=Te(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&""!==s.name&&("indexed"===s.name?(e||i(r),s.indexed&&i(r),s.indexed=!0,s.name=""):ve(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||i(r),s.type+=o,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||i(r),s.type+=o,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=o,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=o,delete s.state.allowArray):s.state.readArray?s.type+=o:i(r)}}return s.parent&&de.throwArgumentError("unexpected eof","param",t),delete o.state,"indexed"===s.name?(e||i(r.length-7),s.indexed&&i(r.length-7),s.indexed=!0,s.name=""):ve(s.type,s.name)&&(s.name=""),o.type=Te(o.type),o}(t,!!e),Me.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components});var r}static isParamType(t){return!(null==t||!t._isParamType)}}function Ee(t,e){return function(t){t=t.trim();let e=[],r="",i=0;for(let n=0;n<t.length;n++){let o=t[n];","===o&&0===i?(e.push(r),r=""):(r+=o,"("===o?i++:")"===o&&(i--,-1===i&&de.throwArgumentError("unbalanced parenthesis","value",t)))}r&&e.push(r);return e}(t).map(t=>Me.fromString(t,e))}class _e{constructor(t,e){t!==me&&de.throwError("use a static from method",jt.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),ye(this,e),this._isFragment=!0,Object.freeze(this)}static from(t){return _e.isFragment(t)?t:"string"==typeof t?_e.fromString(t):_e.fromObject(t)}static fromObject(t){if(_e.isFragment(t))return t;switch(t.type){case"function":return xe.fromObject(t);case"event":return Ne.fromObject(t);case"constructor":return Ie.fromObject(t);case"error":return Oe.fromObject(t);case"fallback":case"receive":return null}return de.throwArgumentError("invalid fragment object","value",t)}static fromString(t){return"event"===(t=(t=(t=t.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?Ne.fromString(t.substring(5).trim()):"function"===t.split(" ")[0]?xe.fromString(t.substring(8).trim()):"constructor"===t.split("(")[0].trim()?Ie.fromString(t.trim()):"error"===t.split(" ")[0]?Oe.fromString(t.substring(5).trim()):de.throwArgumentError("unsupported fragment","value",t)}static isFragment(t){return!(!t||!t._isFragment)}}class Ne extends _e{format(t){if(t||(t=we.sighash),we[t]||de.throwArgumentError("invalid format type","format",t),t===we.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(e=>JSON.parse(e.format(t)))});let e="";return t!==we.sighash&&(e+="event "),e+=this.name+"("+this.inputs.map(e=>e.format(t)).join(t===we.full?", ":",")+") ",t!==we.sighash&&this.anonymous&&(e+="anonymous "),e.trim()}static from(t){return"string"==typeof t?Ne.fromString(t):Ne.fromObject(t)}static fromObject(t){if(Ne.isEventFragment(t))return t;"event"!==t.type&&de.throwArgumentError("invalid event object","value",t);const e={name:Ce(t.name),anonymous:t.anonymous,inputs:t.inputs?t.inputs.map(Me.fromObject):[],type:"event"};return new Ne(me,e)}static fromString(t){let e=t.match(Ue);e||de.throwArgumentError("invalid event string","value",t);let r=!1;return e[3].split(" ").forEach(t=>{switch(t.trim()){case"anonymous":r=!0;break;case"":break;default:de.warn("unknown modifier: "+t)}}),Ne.fromObject({name:e[1].trim(),anonymous:r,inputs:Ee(e[2],!0),type:"event"})}static isEventFragment(t){return t&&t._isFragment&&"event"===t.type}}function Ae(t,e){e.gas=null;let r=t.split("@");return 1!==r.length?(r.length>2&&de.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||de.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=ee.from(r[1]),r[0]):t}function Se(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}})}function Re(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return null!=t.stateMutability?(e.stateMutability=t.stateMutability,e.constant="view"===e.stateMutability||"pure"===e.stateMutability,null!=t.constant&&!!t.constant!==e.constant&&de.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable="payable"===e.stateMutability,null!=t.payable&&!!t.payable!==e.payable&&de.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):null!=t.payable?(e.payable=!!t.payable,null!=t.constant||e.payable||"constructor"===t.type||de.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&de.throwArgumentError("cannot have constant payable function","value",t)):null!=t.constant?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):"constructor"!==t.type&&de.throwArgumentError("unable to determine stateMutability","value",t),e}class Ie extends _e{format(t){if(t||(t=we.sighash),we[t]||de.throwArgumentError("invalid format type","format",t),t===we.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(e=>JSON.parse(e.format(t)))});t===we.sighash&&de.throwError("cannot format a constructor for sighash",jt.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let e="constructor("+this.inputs.map(e=>e.format(t)).join(t===we.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "),e.trim()}static from(t){return"string"==typeof t?Ie.fromString(t):Ie.fromObject(t)}static fromObject(t){if(Ie.isConstructorFragment(t))return t;"constructor"!==t.type&&de.throwArgumentError("invalid constructor object","value",t);let e=Re(t);e.constant&&de.throwArgumentError("constructor cannot be constant","value",t);const r={name:null,type:t.type,inputs:t.inputs?t.inputs.map(Me.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?ee.from(t.gas):null};return new Ie(me,r)}static fromString(t){let e={type:"constructor"},r=(t=Ae(t,e)).match(Ue);return r&&"constructor"===r[1].trim()||de.throwArgumentError("invalid constructor string","value",t),e.inputs=Ee(r[2].trim(),!1),Se(r[3].trim(),e),Ie.fromObject(e)}static isConstructorFragment(t){return t&&t._isFragment&&"constructor"===t.type}}class xe extends Ie{format(t){if(t||(t=we.sighash),we[t]||de.throwArgumentError("invalid format type","format",t),t===we.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(e=>JSON.parse(e.format(t))),outputs:this.outputs.map(e=>JSON.parse(e.format(t)))});let e="";return t!==we.sighash&&(e+="function "),e+=this.name+"("+this.inputs.map(e=>e.format(t)).join(t===we.full?", ":",")+") ",t!==we.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "):this.constant&&(e+="view "),this.outputs&&this.outputs.length&&(e+="returns ("+this.outputs.map(e=>e.format(t)).join(", ")+") "),null!=this.gas&&(e+="@"+this.gas.toString()+" ")),e.trim()}static from(t){return"string"==typeof t?xe.fromString(t):xe.fromObject(t)}static fromObject(t){if(xe.isFunctionFragment(t))return t;"function"!==t.type&&de.throwArgumentError("invalid function object","value",t);let e=Re(t);const r={type:t.type,name:Ce(t.name),constant:e.constant,inputs:t.inputs?t.inputs.map(Me.fromObject):[],outputs:t.outputs?t.outputs.map(Me.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?ee.from(t.gas):null};return new xe(me,r)}static fromString(t){let e={type:"function"},r=(t=Ae(t,e)).split(" returns ");r.length>2&&de.throwArgumentError("invalid function string","value",t);let i=r[0].match(Ue);if(i||de.throwArgumentError("invalid function signature","value",t),e.name=i[1].trim(),e.name&&Ce(e.name),e.inputs=Ee(i[2],!1),Se(i[3].trim(),e),r.length>1){let i=r[1].match(Ue);""==i[1].trim()&&""==i[3].trim()||de.throwArgumentError("unexpected tokens","value",t),e.outputs=Ee(i[2],!1)}else e.outputs=[];return xe.fromObject(e)}static isFunctionFragment(t){return t&&t._isFragment&&"function"===t.type}}function ke(t){const e=t.format();return"Error(string)"!==e&&"Panic(uint256)"!==e||de.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class Oe extends _e{format(t){if(t||(t=we.sighash),we[t]||de.throwArgumentError("invalid format type","format",t),t===we.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(e=>JSON.parse(e.format(t)))});let e="";return t!==we.sighash&&(e+="error "),e+=this.name+"("+this.inputs.map(e=>e.format(t)).join(t===we.full?", ":",")+") ",e.trim()}static from(t){return"string"==typeof t?Oe.fromString(t):Oe.fromObject(t)}static fromObject(t){if(Oe.isErrorFragment(t))return t;"error"!==t.type&&de.throwArgumentError("invalid error object","value",t);const e={type:t.type,name:Ce(t.name),inputs:t.inputs?t.inputs.map(Me.fromObject):[]};return ke(new Oe(me,e))}static fromString(t){let e={type:"error"},r=t.match(Ue);return r||de.throwArgumentError("invalid error signature","value",t),e.name=r[1].trim(),e.name&&Ce(e.name),e.inputs=Ee(r[2],!1),ke(Oe.fromObject(e))}static isErrorFragment(t){return t&&t._isFragment&&"error"===t.type}}function Te(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const Pe=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Ce(t){return t&&t.match(Pe)||de.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const Ue=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");const Fe=new jt("abi/5.3.1");class Be{constructor(t,e,r,i){this.name=t,this.type=e,this.localName=r,this.dynamic=i}_throwError(t,e){Fe.throwArgumentError(t,this.localName,e)}}class De{constructor(t){ae(this,"wordSize",t||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(t)}get data(){return function(t){let e="0x";return t.forEach(t=>{e+=Wt(t).substring(2)}),e}(this._data)}get length(){return this._dataLength}_writeData(t){return this._data.push(t),this._dataLength+=t.length,t.length}appendWriter(t){return this._writeData(Zt(t._data))}writeBytes(t){let e=Kt(t);const r=e.length%this.wordSize;return r&&(e=Zt([e,this._padding.slice(r)])),this._writeData(e)}_getValue(t){let e=Kt(ee.from(t));return e.length>this.wordSize&&Fe.throwError("value out-of-bounds",jt.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:e.length}),e.length%this.wordSize&&(e=Zt([this._padding.slice(e.length%this.wordSize),e])),e}writeValue(t){return this._writeData(this._getValue(t))}writeUpdatableValue(){const t=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,e=>{this._data[t]=this._getValue(e)}}}class Le{constructor(t,e,r,i){ae(this,"_data",Kt(t)),ae(this,"wordSize",e||32),ae(this,"_coerceFunc",r),ae(this,"allowLoose",i),this._offset=0}get data(){return Wt(this._data)}get consumed(){return this._offset}static coerce(t,e){let r=t.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(e=e.toNumber()),e}coerce(t,e){return this._coerceFunc?this._coerceFunc(t,e):Le.coerce(t,e)}_peekBytes(t,e,r){let i=Math.ceil(e/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&r&&this._offset+e<=this._data.length?i=e:Fe.throwError("data out-of-bounds",jt.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(t){return new Le(this._data.slice(this._offset+t),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(t,e){let r=this._peekBytes(0,t,!!e);return this._offset+=r.length,r.slice(0,t)}readValue(){return ee.from(this.readBytes(this.wordSize))}}function $e(){throw new Error("setTimeout has not been defined")}function je(){throw new Error("clearTimeout has not been defined")}var ze=$e,qe=je;function Ge(t){if(ze===setTimeout)return setTimeout(t,0);if((ze===$e||!ze)&&setTimeout)return ze=setTimeout,setTimeout(t,0);try{return ze(t,0)}catch(e){try{return ze.call(null,t,0)}catch(e){return ze.call(this,t,0)}}}"function"==typeof T.setTimeout&&(ze=setTimeout),"function"==typeof T.clearTimeout&&(qe=clearTimeout);var Ve,Ke=[],Ze=!1,He=-1;function We(){Ze&&Ve&&(Ze=!1,Ve.length?Ke=Ve.concat(Ke):He=-1,Ke.length&&Je())}function Je(){if(!Ze){var t=Ge(We);Ze=!0;for(var e=Ke.length;e;){for(Ve=Ke,Ke=[];++He<e;)Ve&&Ve[He].run();He=-1,e=Ke.length}Ve=null,Ze=!1,function(t){if(qe===clearTimeout)return clearTimeout(t);if((qe===je||!qe)&&clearTimeout)return qe=clearTimeout,clearTimeout(t);try{qe(t)}catch(e){try{return qe.call(null,t)}catch(e){return qe.call(this,t)}}}(t)}}function Xe(t,e){this.fun=t,this.array=e}Xe.prototype.run=function(){this.fun.apply(null,this.array)};function Ye(){}var Qe=Ye,tr=Ye,er=Ye,rr=Ye,ir=Ye,nr=Ye,or=Ye;var sr=T.performance||{},ar=sr.now||sr.mozNow||sr.msNow||sr.oNow||sr.webkitNow||function(){return(new Date).getTime()};var hr=new Date;var ur={nextTick:function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Ke.push(new Xe(t,e)),1!==Ke.length||Ze||Ge(Je)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:Qe,addListener:tr,once:er,off:rr,removeListener:ir,removeAllListeners:nr,emit:or,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*ar.call(sr),r=Math.floor(e),i=Math.floor(e%1*1e9);return t&&(r-=t[0],(i-=t[1])<0&&(r--,i+=1e9)),[r,i]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-hr)/1e3}},lr=a((function(t){!function(){var e="object"==typeof window?window:{};!e.JS_SHA3_NO_NODE_JS&&"object"==typeof ur&&ur.versions&&ur.versions.node&&(e=n);for(var r=!e.JS_SHA3_NO_COMMON_JS&&t.exports,i="0123456789abcdef".split(""),o=[0,8,16,24],s=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],a=[224,256,384,512],h=["hex","buffer","arrayBuffer","array"],u=function(t,e,r){return function(i){return new b(t,e,t).update(i)[r]()}},l=function(t,e,r){return function(i,n){return new b(t,e,n).update(i)[r]()}},f=function(t,e){var r=u(t,e,"hex");r.create=function(){return new b(t,e,t)},r.update=function(t){return r.create().update(t)};for(var i=0;i<h.length;++i){var n=h[i];r[n]=u(t,e,n)}return r},c=[{name:"keccak",padding:[1,256,65536,16777216],bits:a,createMethod:f},{name:"sha3",padding:[6,1536,393216,100663296],bits:a,createMethod:f},{name:"shake",padding:[31,7936,2031616,520093696],bits:[128,256],createMethod:function(t,e){var r=l(t,e,"hex");r.create=function(r){return new b(t,e,r)},r.update=function(t,e){return r.create(e).update(t)};for(var i=0;i<h.length;++i){var n=h[i];r[n]=l(t,e,n)}return r}}],d={},m=[],p=0;p<c.length;++p)for(var g=c[p],v=g.bits,y=0;y<v.length;++y){var w=g.name+"_"+v[y];m.push(w),d[w]=g.createMethod(v[y],g.padding)}function b(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var i=0;i<50;++i)this.s[i]=0}b.prototype.update=function(t){var e="string"!=typeof t;e&&t.constructor===ArrayBuffer&&(t=new Uint8Array(t));for(var r,i,n=t.length,s=this.blocks,a=this.byteCount,h=this.blockCount,u=0,l=this.s;u<n;){if(this.reset)for(this.reset=!1,s[0]=this.block,r=1;r<h+1;++r)s[r]=0;if(e)for(r=this.start;u<n&&r<a;++u)s[r>>2]|=t[u]<<o[3&r++];else for(r=this.start;u<n&&r<a;++u)(i=t.charCodeAt(u))<128?s[r>>2]|=i<<o[3&r++]:i<2048?(s[r>>2]|=(192|i>>6)<<o[3&r++],s[r>>2]|=(128|63&i)<<o[3&r++]):i<55296||i>=57344?(s[r>>2]|=(224|i>>12)<<o[3&r++],s[r>>2]|=(128|i>>6&63)<<o[3&r++],s[r>>2]|=(128|63&i)<<o[3&r++]):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++u)),s[r>>2]|=(240|i>>18)<<o[3&r++],s[r>>2]|=(128|i>>12&63)<<o[3&r++],s[r>>2]|=(128|i>>6&63)<<o[3&r++],s[r>>2]|=(128|63&i)<<o[3&r++]);if(this.lastByteIndex=r,r>=a){for(this.start=r-a,this.block=s[h],r=0;r<h;++r)l[r]^=s[r];M(l),this.reset=!0}else this.start=r}return this},b.prototype.finalize=function(){var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,i=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[r],e=1;e<r+1;++e)t[e]=0;for(t[r-1]|=2147483648,e=0;e<r;++e)i[e]^=t[e];M(i)},b.prototype.toString=b.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,n=this.outputBlocks,o=this.extraBytes,s=0,a=0,h="";a<n;){for(s=0;s<e&&a<n;++s,++a)t=r[s],h+=i[t>>4&15]+i[15&t]+i[t>>12&15]+i[t>>8&15]+i[t>>20&15]+i[t>>16&15]+i[t>>28&15]+i[t>>24&15];a%e==0&&(M(r),s=0)}return o&&(t=r[s],o>0&&(h+=i[t>>4&15]+i[15&t]),o>1&&(h+=i[t>>12&15]+i[t>>8&15]),o>2&&(h+=i[t>>20&15]+i[t>>16&15])),h},b.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,r=this.s,i=this.outputBlocks,n=this.extraBytes,o=0,s=0,a=this.outputBits>>3;t=n?new ArrayBuffer(i+1<<2):new ArrayBuffer(a);for(var h=new Uint32Array(t);s<i;){for(o=0;o<e&&s<i;++o,++s)h[s]=r[o];s%e==0&&M(r)}return n&&(h[o]=r[o],t=t.slice(0,a)),t},b.prototype.buffer=b.prototype.arrayBuffer,b.prototype.digest=b.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,i=this.s,n=this.outputBlocks,o=this.extraBytes,s=0,a=0,h=[];a<n;){for(s=0;s<r&&a<n;++s,++a)t=a<<2,e=i[s],h[t]=255&e,h[t+1]=e>>8&255,h[t+2]=e>>16&255,h[t+3]=e>>24&255;a%r==0&&M(i)}return o&&(t=a<<2,e=i[s],o>0&&(h[t]=255&e),o>1&&(h[t+1]=e>>8&255),o>2&&(h[t+2]=e>>16&255)),h};var M=function(t){var e,r,i,n,o,a,h,u,l,f,c,d,m,p,g,v,y,w,b,M,E,_,N,A,S,R,I,x,k,O,T,P,C,U,F,B,D,L,$,j,z,q,G,V,K,Z,H,W,J,X,Y,Q,tt,et,rt,it,nt,ot,st,at,ht,ut,lt;for(i=0;i<48;i+=2)n=t[0]^t[10]^t[20]^t[30]^t[40],o=t[1]^t[11]^t[21]^t[31]^t[41],a=t[2]^t[12]^t[22]^t[32]^t[42],h=t[3]^t[13]^t[23]^t[33]^t[43],u=t[4]^t[14]^t[24]^t[34]^t[44],l=t[5]^t[15]^t[25]^t[35]^t[45],f=t[6]^t[16]^t[26]^t[36]^t[46],c=t[7]^t[17]^t[27]^t[37]^t[47],e=(d=t[8]^t[18]^t[28]^t[38]^t[48])^(a<<1|h>>>31),r=(m=t[9]^t[19]^t[29]^t[39]^t[49])^(h<<1|a>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=n^(u<<1|l>>>31),r=o^(l<<1|u>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=a^(f<<1|c>>>31),r=h^(c<<1|f>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=u^(d<<1|m>>>31),r=l^(m<<1|d>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=f^(n<<1|o>>>31),r=c^(o<<1|n>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,p=t[0],g=t[1],Z=t[11]<<4|t[10]>>>28,H=t[10]<<4|t[11]>>>28,x=t[20]<<3|t[21]>>>29,k=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,ht=t[30]<<9|t[31]>>>23,q=t[40]<<18|t[41]>>>14,G=t[41]<<18|t[40]>>>14,U=t[2]<<1|t[3]>>>31,F=t[3]<<1|t[2]>>>31,v=t[13]<<12|t[12]>>>20,y=t[12]<<12|t[13]>>>20,W=t[22]<<10|t[23]>>>22,J=t[23]<<10|t[22]>>>22,O=t[33]<<13|t[32]>>>19,T=t[32]<<13|t[33]>>>19,ut=t[42]<<2|t[43]>>>30,lt=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,B=t[14]<<6|t[15]>>>26,D=t[15]<<6|t[14]>>>26,w=t[25]<<11|t[24]>>>21,b=t[24]<<11|t[25]>>>21,X=t[34]<<15|t[35]>>>17,Y=t[35]<<15|t[34]>>>17,P=t[45]<<29|t[44]>>>3,C=t[44]<<29|t[45]>>>3,A=t[6]<<28|t[7]>>>4,S=t[7]<<28|t[6]>>>4,it=t[17]<<23|t[16]>>>9,nt=t[16]<<23|t[17]>>>9,L=t[26]<<25|t[27]>>>7,$=t[27]<<25|t[26]>>>7,M=t[36]<<21|t[37]>>>11,E=t[37]<<21|t[36]>>>11,Q=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,V=t[8]<<27|t[9]>>>5,K=t[9]<<27|t[8]>>>5,R=t[18]<<20|t[19]>>>12,I=t[19]<<20|t[18]>>>12,ot=t[29]<<7|t[28]>>>25,st=t[28]<<7|t[29]>>>25,j=t[38]<<8|t[39]>>>24,z=t[39]<<8|t[38]>>>24,_=t[48]<<14|t[49]>>>18,N=t[49]<<14|t[48]>>>18,t[0]=p^~v&w,t[1]=g^~y&b,t[10]=A^~R&x,t[11]=S^~I&k,t[20]=U^~B&L,t[21]=F^~D&$,t[30]=V^~Z&W,t[31]=K^~H&J,t[40]=et^~it&ot,t[41]=rt^~nt&st,t[2]=v^~w&M,t[3]=y^~b&E,t[12]=R^~x&O,t[13]=I^~k&T,t[22]=B^~L&j,t[23]=D^~$&z,t[32]=Z^~W&X,t[33]=H^~J&Y,t[42]=it^~ot&at,t[43]=nt^~st&ht,t[4]=w^~M&_,t[5]=b^~E&N,t[14]=x^~O&P,t[15]=k^~T&C,t[24]=L^~j&q,t[25]=$^~z&G,t[34]=W^~X&Q,t[35]=J^~Y&tt,t[44]=ot^~at&ut,t[45]=st^~ht&lt,t[6]=M^~_&p,t[7]=E^~N&g,t[16]=O^~P&A,t[17]=T^~C&S,t[26]=j^~q&U,t[27]=z^~G&F,t[36]=X^~Q&V,t[37]=Y^~tt&K,t[46]=at^~ut&et,t[47]=ht^~lt&rt,t[8]=_^~p&v,t[9]=N^~g&y,t[18]=P^~A&R,t[19]=C^~S&I,t[28]=q^~U&B,t[29]=G^~F&D,t[38]=Q^~V&Z,t[39]=tt^~K&H,t[48]=ut^~et&it,t[49]=lt^~rt&nt,t[0]^=s[i],t[1]^=s[i+1]};if(r)t.exports=d;else for(p=0;p<m.length;++p)e[m[p]]=d[m[p]]}()}));function fr(t){return"0x"+lr.keccak_256(Kt(t))}const cr=new jt("address/5.3.0");function dr(t){Ht(t,20)||cr.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let t=0;t<40;t++)r[t]=e[t].charCodeAt(0);const i=Kt(fr(r));for(let t=0;t<40;t+=2)i[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&i[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return"0x"+e.join("")}const mr={};for(let t=0;t<10;t++)mr[String(t)]=String(t);for(let t=0;t<26;t++)mr[String.fromCharCode(65+t)]=String(10+t);const pr=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function gr(t){let e=null;if("string"!=typeof t&&cr.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=dr(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&cr.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==function(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map(t=>mr[t]).join("");for(;e.length>=pr;){let t=e.substring(0,pr);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}(t)&&cr.throwArgumentError("bad icap checksum","address",t),r=t.substring(4),e=new Xt(r,36).toString(16);e.length<40;)e="0"+e;e=dr("0x"+e)}else cr.throwArgumentError("invalid address","address",t);var r;return e}class vr extends Be{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){try{gr(e)}catch(t){this._throwError(t.message,e)}return t.writeValue(e)}decode(t){return gr(Jt(t.readValue().toHexString(),20))}}class yr extends Be{constructor(t){super(t.name,t.type,void 0,t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,e){return this.coder.encode(t,e)}decode(t){return this.coder.decode(t)}}const wr=new jt("abi/5.3.1");function br(t,e,r){let i=null;if(Array.isArray(r))i=r;else if(r&&"object"==typeof r){let t={};i=e.map(e=>{const i=e.localName;return i||wr.throwError("cannot encode object for signature with missing names",jt.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),t[i]&&wr.throwError("cannot encode object for signature with duplicate names",jt.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),t[i]=!0,r[i]})}else wr.throwArgumentError("invalid tuple value","tuple",r);e.length!==i.length&&wr.throwArgumentError("types/value length mismatch","tuple",r);let n=new De(t.wordSize),o=new De(t.wordSize),s=[];e.forEach((t,e)=>{let r=i[e];if(t.dynamic){let e=o.length;t.encode(o,r);let i=n.writeUpdatableValue();s.push(t=>{i(t+e)})}else t.encode(n,r)}),s.forEach(t=>{t(n.length)});let a=t.appendWriter(n);return a+=t.appendWriter(o),a}function Mr(t,e){let r=[],i=t.subReader(0);e.forEach(e=>{let n=null;if(e.dynamic){let r=t.readValue(),o=i.subReader(r.toNumber());try{n=e.decode(o)}catch(t){if(t.code===jt.errors.BUFFER_OVERRUN)throw t;n=t,n.baseType=e.name,n.name=e.localName,n.type=e.type}}else try{n=e.decode(t)}catch(t){if(t.code===jt.errors.BUFFER_OVERRUN)throw t;n=t,n.baseType=e.name,n.name=e.localName,n.type=e.type}null!=n&&r.push(n)});const n=e.reduce((t,e)=>{const r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t},{});e.forEach((t,e)=>{let i=t.localName;if(!i||1!==n[i])return;if("length"===i&&(i="_length"),null!=r[i])return;const o=r[e];o instanceof Error?Object.defineProperty(r,i,{get:()=>{throw o}}):r[i]=o});for(let t=0;t<r.length;t++){const e=r[t];e instanceof Error&&Object.defineProperty(r,t,{get:()=>{throw e}})}return Object.freeze(r)}class Er extends Be{constructor(t,e,r){super("array",t.type+"["+(e>=0?e:"")+"]",r,-1===e||t.dynamic),this.coder=t,this.length=e}defaultValue(){const t=this.coder.defaultValue(),e=[];for(let r=0;r<this.length;r++)e.push(t);return e}encode(t,e){Array.isArray(e)||this._throwError("expected array value",e);let r=this.length;-1===r&&(r=e.length,t.writeValue(e.length)),wr.checkArgumentCount(e.length,r,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let t=0;t<e.length;t++)i.push(this.coder);return br(t,i,e)}decode(t){let e=this.length;-1===e&&(e=t.readValue().toNumber(),32*e>t._data.length&&wr.throwError("insufficient data length",jt.errors.BUFFER_OVERRUN,{length:t._data.length,count:e}));let r=[];for(let t=0;t<e;t++)r.push(new yr(this.coder));return t.coerce(this.name,Mr(t,r))}}class _r extends Be{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){return t.writeValue(e?1:0)}decode(t){return t.coerce(this.type,!t.readValue().isZero())}}class Nr extends Be{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=Kt(e);let r=t.writeValue(e.length);return r+=t.writeBytes(e),r}decode(t){return t.readBytes(t.readValue().toNumber(),!0)}}class Ar extends Nr{constructor(t){super("bytes",t)}decode(t){return t.coerce(this.name,Wt(super.decode(t)))}}class Sr extends Be{constructor(t,e){let r="bytes"+String(t);super(r,r,e,!1),this.size=t}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(t,e){let r=Kt(e);return r.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(r)}decode(t){return t.coerce(this.name,Wt(t.readBytes(this.size)))}}class Rr extends Be{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return null!=e&&this._throwError("not null",e),t.writeBytes([])}decode(t){return t.readBytes(0),t.coerce(this.name,null)}}const Ir=ee.from(-1),xr=ee.from(0),kr=ee.from(1),Or=ee.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Tr extends Be{constructor(t,e,r){const i=(e?"int":"uint")+8*t;super(i,i,r,!1),this.size=t,this.signed=e}defaultValue(){return 0}encode(t,e){let r=ee.from(e),i=Or.mask(8*t.wordSize);if(this.signed){let t=i.mask(8*this.size-1);(r.gt(t)||r.lt(t.add(kr).mul(Ir)))&&this._throwError("value out-of-bounds",e)}else(r.lt(xr)||r.gt(i.mask(8*this.size)))&&this._throwError("value out-of-bounds",e);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*t.wordSize)),t.writeValue(r)}decode(t){let e=t.readValue().mask(8*this.size);return this.signed&&(e=e.fromTwos(8*this.size)),t.coerce(this.name,e)}}const Pr=new jt("strings/5.3.0");var Cr,Ur;function Fr(t,e,r,i,n){if(t===Ur.BAD_PREFIX||t===Ur.UNEXPECTED_CONTINUE){let t=0;for(let i=e+1;i<r.length&&r[i]>>6==2;i++)t++;return t}return t===Ur.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(Cr||(Cr={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(Ur||(Ur={}));const Br=Object.freeze({error:function(t,e,r,i,n){return Pr.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:Fr,replace:function(t,e,r,i,n){return t===Ur.OVERLONG?(i.push(n),0):(i.push(65533),Fr(t,e,r))}});function Dr(t,e){return function(t,e){null==e&&(e=Br.error),t=Kt(t);const r=[];let i=0;for(;i<t.length;){const n=t[i++];if(n>>7==0){r.push(n);continue}let o=null,s=null;if(192==(224&n))o=1,s=127;else if(224==(240&n))o=2,s=2047;else{if(240!=(248&n)){i+=e(128==(192&n)?Ur.UNEXPECTED_CONTINUE:Ur.BAD_PREFIX,i-1,t,r);continue}o=3,s=65535}if(i-1+o>=t.length){i+=e(Ur.OVERRUN,i-1,t,r);continue}let a=n&(1<<8-o-1)-1;for(let n=0;n<o;n++){let n=t[i];if(128!=(192&n)){i+=e(Ur.MISSING_CONTINUE,i,t,r),a=null;break}a=a<<6|63&n,i++}null!==a&&(a>1114111?i+=e(Ur.OUT_OF_RANGE,i-1-o,t,r,a):a>=55296&&a<=57343?i+=e(Ur.UTF16_SURROGATE,i-1-o,t,r,a):a<=s?i+=e(Ur.OVERLONG,i-1-o,t,r,a):r.push(a))}return r}(t,e).map(t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t)))).join("")}class Lr extends Nr{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,function(t,e=Cr.current){e!=Cr.current&&(Pr.checkNormalize(),t=t.normalize(e));let r=[];for(let e=0;e<t.length;e++){const i=t.charCodeAt(e);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(63&i|128);else if(55296==(64512&i)){e++;const n=t.charCodeAt(e);if(e>=t.length||56320!=(64512&n))throw new Error("invalid utf-8 string");const o=65536+((1023&i)<<10)+(1023&n);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(63&i|128)}return Kt(r)}(e))}decode(t){return Dr(super.decode(t))}}class $r extends Be{constructor(t,e){let r=!1;const i=[];t.forEach(t=>{t.dynamic&&(r=!0),i.push(t.type)});super("tuple","tuple("+i.join(",")+")",e,r),this.coders=t}defaultValue(){const t=[];this.coders.forEach(e=>{t.push(e.defaultValue())});const e=this.coders.reduce((t,e)=>{const r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t},{});return this.coders.forEach((r,i)=>{let n=r.localName;n&&1===e[n]&&("length"===n&&(n="_length"),null==t[n]&&(t[n]=t[i]))}),Object.freeze(t)}encode(t,e){return br(t,this.coders,e)}decode(t){return t.coerce(this.name,Mr(t,this.coders))}}const jr=new jt("abi/5.3.1"),zr=new RegExp(/^bytes([0-9]*)$/),qr=new RegExp(/^(u?int)([0-9]*)$/);class Gr{constructor(t){jr.checkNew(new.target,Gr),ae(this,"coerceFunc",t||null)}_getCoder(t){switch(t.baseType){case"address":return new vr(t.name);case"bool":return new _r(t.name);case"string":return new Lr(t.name);case"bytes":return new Ar(t.name);case"array":return new Er(this._getCoder(t.arrayChildren),t.arrayLength,t.name);case"tuple":return new $r((t.components||[]).map(t=>this._getCoder(t)),t.name);case"":return new Rr(t.name)}let e=t.type.match(qr);if(e){let r=parseInt(e[2]||"256");return(0===r||r>256||r%8!=0)&&jr.throwArgumentError("invalid "+e[1]+" bit length","param",t),new Tr(r/8,"int"===e[1],t.name)}if(e=t.type.match(zr),e){let r=parseInt(e[1]);return(0===r||r>32)&&jr.throwArgumentError("invalid bytes length","param",t),new Sr(r,t.name)}return jr.throwArgumentError("invalid type","type",t.type)}_getWordSize(){return 32}_getReader(t,e){return new Le(t,this._getWordSize(),this.coerceFunc,e)}_getWriter(){return new De(this._getWordSize())}getDefaultValue(t){const e=t.map(t=>this._getCoder(Me.from(t)));return new $r(e,"_").defaultValue()}encode(t,e){t.length!==e.length&&jr.throwError("types/values length mismatch",jt.errors.INVALID_ARGUMENT,{count:{types:t.length,values:e.length},value:{types:t,values:e}});const r=t.map(t=>this._getCoder(Me.from(t))),i=new $r(r,"_"),n=this._getWriter();return i.encode(n,e),n.data}decode(t,e,r){const i=t.map(t=>this._getCoder(Me.from(t)));return new $r(i,"_").decode(this._getReader(Kt(e),r))}}const Vr=new Gr;let Kr=!1,Zr=!1;const Hr={debug:1,default:2,info:2,warning:3,error:4,off:5};let Wr=Hr.default,Jr=null;const Xr=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var Yr,Qr;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(Yr||(Yr={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(Qr||(Qr={}));class ti{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Hr[r]&&this.throwArgumentError("invalid log level name","logLevel",t),Wr>Hr[r]||console.log.apply(console,e)}debug(...t){this._log(ti.levels.DEBUG,t)}info(...t){this._log(ti.levels.INFO,t)}warn(...t){this._log(ti.levels.WARNING,t)}makeError(t,e,r){if(Zr)return this.makeError("censored error",e,{});e||(e=ti.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(t=>{try{i.push(t+"="+JSON.stringify(r[t]))}catch(e){i.push(t+"="+JSON.stringify(r[t].toString()))}}),i.push("code="+e),i.push("version="+this.version);const n=t;i.length&&(t+=" ("+i.join(", ")+")");const o=new Error(t);return o.reason=n,o.code=e,Object.keys(r).forEach((function(t){o[t]=r[t]})),o}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,ti.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,i){t||this.throwError(e,r,i)}assertArgument(t,e,r,i){t||this.throwArgumentError(e,r,i)}checkNormalize(t){Xr&&this.throwError("platform missing String.prototype.normalize",ti.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Xr})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,ti.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,ti.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,ti.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,ti.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",ti.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",ti.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",ti.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Jr||(Jr=new ti("logger/5.3.0")),Jr}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",ti.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Kr){if(!t)return;this.globalLogger().throwError("error censorship permanent",ti.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Zr=!!t,Kr=!!e}static setLogLevel(t){const e=Hr[t.toLowerCase()];null!=e?Wr=e:ti.globalLogger().warn("invalid log level - "+t)}static from(t){return new ti(t)}}ti.errors=Qr,ti.levels=Yr;const ei=new ti("bytes/5.3.0");function ri(t){return!!t.toHexString}function ii(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return ii(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function ni(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(null==t.length)return!1;for(let e=0;e<t.length;e++){const r=t[e];if("number"!=typeof r||r<0||r>=256||r%1)return!1}return!0}function oi(t,e){if(e||(e={}),"number"==typeof t){ei.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),ii(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),ri(t)&&(t=t.toHexString()),ai(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0x0"+r.substring(2):"right"===e.hexPad?r+="0":ei.throwArgumentError("hex data is odd-length","value",t));const i=[];for(let t=0;t<r.length;t+=2)i.push(parseInt(r.substring(t,t+2),16));return ii(new Uint8Array(i))}return ni(t)?ii(new Uint8Array(t)):ei.throwArgumentError("invalid arrayify value","value",t)}function si(t){const e=t.map(t=>oi(t)),r=e.reduce((t,e)=>t+e.length,0),i=new Uint8Array(r);return e.reduce((t,e)=>(i.set(e,t),t+e.length),0),ii(i)}function ai(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}function hi(t,e){if(e||(e={}),"number"==typeof t){ei.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e="0123456789abcdef"[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),ri(t))return t.toHexString();if(ai(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":ei.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(ni(t)){let e="0x";for(let r=0;r<t.length;r++){let i=t[r];e+="0123456789abcdef"[(240&i)>>4]+"0123456789abcdef"[15&i]}return e}return ei.throwArgumentError("invalid hexlify value","value",t)}function ui(t){let e="0x";return t.forEach(t=>{e+=hi(t).substring(2)}),e}function li(t,e){for("string"!=typeof t?t=hi(t):ai(t)||ei.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&ei.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function fi(t){return"0x"+lr.keccak_256(oi(t))}var ci=a((function(t){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function n(t,e,r){if(n.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:Ot.Buffer}catch(t){}function s(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function a(t,e,r){var i=s(t,r);return r-1>=e&&(i|=s(t,r-1)<<4),i}function h(t,e,r,i){for(var n=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;n*=i,n+=a>=49?a-49+10:a>=17?a-17+10:a}return n}n.isBN=function(t){return t instanceof n||null!==t&&"object"==typeof t&&t.constructor.wordSize===n.wordSize&&Array.isArray(t.words)},n.max=function(t,e){return t.cmp(e)>0?t:e},n.min=function(t,e){return t.cmp(e)<0?t:e},n.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<t.length&&(16===e?this._parseHex(t,n,i):(this._parseBase(t,e,n),"le"===i&&this._initArray(this.toArray(),e,i)))},n.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},n.prototype._initArray=function(t,e,i){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,s,a=0;if("be"===i)for(n=t.length-1,o=0;n>=0;n-=3)s=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===i)for(n=0,o=0;n<t.length;n+=3)s=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},n.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,o=0,s=0;if("be"===r)for(i=t.length-1;i>=e;i-=2)n=a(t,e,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)n=a(t,e,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;this.strip()},n.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0;for(var o=t.length-r,s=o%i,a=Math.min(o,o-s)+r,u=0,l=r;l<a;l+=i)u=h(t,l,l+i,e),this.imuln(n),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var f=1;for(u=h(t,l,t.length,e),l=0;l<s;l++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},n.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},n.prototype.clone=function(){var t=new n(null);return this.copy(t),t},n.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function c(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],o=0|e.words[0],s=n*o,a=67108863&s,h=s/67108864|0;r.words[0]=a;for(var u=1;u<i;u++){for(var l=h>>>26,f=67108863&h,c=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=c;d++){var m=u-d|0;l+=(s=(n=0|t.words[m])*(o=0|e.words[d])+f)/67108864|0,f=67108863&s}r.words[u]=0|f,h=0|l}return 0!==h?r.words[u]=0|h:r.length--,r.strip()}n.prototype.toString=function(t,e){var i;if(e=0|e||1,16===(t=t||10)||"hex"===t){i="";for(var n=0,o=0,s=0;s<this.length;s++){var a=this.words[s],h=(16777215&(a<<n|o)).toString(16);i=0!==(o=a>>>24-n&16777215)||s!==this.length-1?u[6-h.length]+h+i:h+i,(n+=2)>=26&&(n-=26,s--)}for(0!==o&&(i=o.toString(16)+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var c=l[t],d=f[t];i="";var m=this.clone();for(m.negative=0;!m.isZero();){var p=m.modn(d).toString(t);i=(m=m.idivn(d)).isZero()?p+i:u[c-p.length]+p+i}for(this.isZero()&&(i="0"+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(t,e){return r(void 0!==o),this.toArrayLike(o,t,e)},n.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},n.prototype.toArrayLike=function(t,e,i){var n=this.byteLength(),o=i||Math.max(1,n);r(n<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,h="le"===e,u=new t(o),l=this.clone();if(h){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-n;a++)u[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[o-a-1]=s}return u},Math.clz32?n.prototype._countBits=function(t){return 32-Math.clz32(t)}:n.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},n.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},n.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},n.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},n.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},n.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},n.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},n.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},n.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},n.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},n.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},n.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},n.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},n.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},n.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},n.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this.strip()},n.prototype.notn=function(t){return this.clone().inotn(t)},n.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var i=t/26|0,n=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<n:this.words[i]&~(1<<n),this.strip()},n.prototype.iadd=function(t){var e,r,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this);for(var n=0,o=0;o<i.length;o++)e=(0|r.words[o])+(0|i.words[o])+n,this.words[o]=67108863&e,n=e>>>26;for(;0!==n&&o<r.length;o++)e=(0|r.words[o])+n,this.words[o]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},n.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},n.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,i,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=t):(r=t,i=this);for(var o=0,s=0;s<i.length;s++)o=(e=(0|r.words[s])-(0|i.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,r){var i,n,o,s=t.words,a=e.words,h=r.words,u=0,l=0|s[0],f=8191&l,c=l>>>13,d=0|s[1],m=8191&d,p=d>>>13,g=0|s[2],v=8191&g,y=g>>>13,w=0|s[3],b=8191&w,M=w>>>13,E=0|s[4],_=8191&E,N=E>>>13,A=0|s[5],S=8191&A,R=A>>>13,I=0|s[6],x=8191&I,k=I>>>13,O=0|s[7],T=8191&O,P=O>>>13,C=0|s[8],U=8191&C,F=C>>>13,B=0|s[9],D=8191&B,L=B>>>13,$=0|a[0],j=8191&$,z=$>>>13,q=0|a[1],G=8191&q,V=q>>>13,K=0|a[2],Z=8191&K,H=K>>>13,W=0|a[3],J=8191&W,X=W>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,it=et>>>13,nt=0|a[6],ot=8191&nt,st=nt>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ft=8191&lt,ct=lt>>>13,dt=0|a[9],mt=8191&dt,pt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(u+(i=Math.imul(f,j))|0)+((8191&(n=(n=Math.imul(f,z))+Math.imul(c,j)|0))<<13)|0;u=((o=Math.imul(c,z))+(n>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(m,j),n=(n=Math.imul(m,z))+Math.imul(p,j)|0,o=Math.imul(p,z);var vt=(u+(i=i+Math.imul(f,G)|0)|0)+((8191&(n=(n=n+Math.imul(f,V)|0)+Math.imul(c,G)|0))<<13)|0;u=((o=o+Math.imul(c,V)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(v,j),n=(n=Math.imul(v,z))+Math.imul(y,j)|0,o=Math.imul(y,z),i=i+Math.imul(m,G)|0,n=(n=n+Math.imul(m,V)|0)+Math.imul(p,G)|0,o=o+Math.imul(p,V)|0;var yt=(u+(i=i+Math.imul(f,Z)|0)|0)+((8191&(n=(n=n+Math.imul(f,H)|0)+Math.imul(c,Z)|0))<<13)|0;u=((o=o+Math.imul(c,H)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(b,j),n=(n=Math.imul(b,z))+Math.imul(M,j)|0,o=Math.imul(M,z),i=i+Math.imul(v,G)|0,n=(n=n+Math.imul(v,V)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,V)|0,i=i+Math.imul(m,Z)|0,n=(n=n+Math.imul(m,H)|0)+Math.imul(p,Z)|0,o=o+Math.imul(p,H)|0;var wt=(u+(i=i+Math.imul(f,J)|0)|0)+((8191&(n=(n=n+Math.imul(f,X)|0)+Math.imul(c,J)|0))<<13)|0;u=((o=o+Math.imul(c,X)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(_,j),n=(n=Math.imul(_,z))+Math.imul(N,j)|0,o=Math.imul(N,z),i=i+Math.imul(b,G)|0,n=(n=n+Math.imul(b,V)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,V)|0,i=i+Math.imul(v,Z)|0,n=(n=n+Math.imul(v,H)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,H)|0,i=i+Math.imul(m,J)|0,n=(n=n+Math.imul(m,X)|0)+Math.imul(p,J)|0,o=o+Math.imul(p,X)|0;var bt=(u+(i=i+Math.imul(f,Q)|0)|0)+((8191&(n=(n=n+Math.imul(f,tt)|0)+Math.imul(c,Q)|0))<<13)|0;u=((o=o+Math.imul(c,tt)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(S,j),n=(n=Math.imul(S,z))+Math.imul(R,j)|0,o=Math.imul(R,z),i=i+Math.imul(_,G)|0,n=(n=n+Math.imul(_,V)|0)+Math.imul(N,G)|0,o=o+Math.imul(N,V)|0,i=i+Math.imul(b,Z)|0,n=(n=n+Math.imul(b,H)|0)+Math.imul(M,Z)|0,o=o+Math.imul(M,H)|0,i=i+Math.imul(v,J)|0,n=(n=n+Math.imul(v,X)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,X)|0,i=i+Math.imul(m,Q)|0,n=(n=n+Math.imul(m,tt)|0)+Math.imul(p,Q)|0,o=o+Math.imul(p,tt)|0;var Mt=(u+(i=i+Math.imul(f,rt)|0)|0)+((8191&(n=(n=n+Math.imul(f,it)|0)+Math.imul(c,rt)|0))<<13)|0;u=((o=o+Math.imul(c,it)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(x,j),n=(n=Math.imul(x,z))+Math.imul(k,j)|0,o=Math.imul(k,z),i=i+Math.imul(S,G)|0,n=(n=n+Math.imul(S,V)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,V)|0,i=i+Math.imul(_,Z)|0,n=(n=n+Math.imul(_,H)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,H)|0,i=i+Math.imul(b,J)|0,n=(n=n+Math.imul(b,X)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,X)|0,i=i+Math.imul(v,Q)|0,n=(n=n+Math.imul(v,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,i=i+Math.imul(m,rt)|0,n=(n=n+Math.imul(m,it)|0)+Math.imul(p,rt)|0,o=o+Math.imul(p,it)|0;var Et=(u+(i=i+Math.imul(f,ot)|0)|0)+((8191&(n=(n=n+Math.imul(f,st)|0)+Math.imul(c,ot)|0))<<13)|0;u=((o=o+Math.imul(c,st)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(T,j),n=(n=Math.imul(T,z))+Math.imul(P,j)|0,o=Math.imul(P,z),i=i+Math.imul(x,G)|0,n=(n=n+Math.imul(x,V)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,V)|0,i=i+Math.imul(S,Z)|0,n=(n=n+Math.imul(S,H)|0)+Math.imul(R,Z)|0,o=o+Math.imul(R,H)|0,i=i+Math.imul(_,J)|0,n=(n=n+Math.imul(_,X)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,X)|0,i=i+Math.imul(b,Q)|0,n=(n=n+Math.imul(b,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,i=i+Math.imul(v,rt)|0,n=(n=n+Math.imul(v,it)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,it)|0,i=i+Math.imul(m,ot)|0,n=(n=n+Math.imul(m,st)|0)+Math.imul(p,ot)|0,o=o+Math.imul(p,st)|0;var _t=(u+(i=i+Math.imul(f,ht)|0)|0)+((8191&(n=(n=n+Math.imul(f,ut)|0)+Math.imul(c,ht)|0))<<13)|0;u=((o=o+Math.imul(c,ut)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(U,j),n=(n=Math.imul(U,z))+Math.imul(F,j)|0,o=Math.imul(F,z),i=i+Math.imul(T,G)|0,n=(n=n+Math.imul(T,V)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,V)|0,i=i+Math.imul(x,Z)|0,n=(n=n+Math.imul(x,H)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,H)|0,i=i+Math.imul(S,J)|0,n=(n=n+Math.imul(S,X)|0)+Math.imul(R,J)|0,o=o+Math.imul(R,X)|0,i=i+Math.imul(_,Q)|0,n=(n=n+Math.imul(_,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,i=i+Math.imul(b,rt)|0,n=(n=n+Math.imul(b,it)|0)+Math.imul(M,rt)|0,o=o+Math.imul(M,it)|0,i=i+Math.imul(v,ot)|0,n=(n=n+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,i=i+Math.imul(m,ht)|0,n=(n=n+Math.imul(m,ut)|0)+Math.imul(p,ht)|0,o=o+Math.imul(p,ut)|0;var Nt=(u+(i=i+Math.imul(f,ft)|0)|0)+((8191&(n=(n=n+Math.imul(f,ct)|0)+Math.imul(c,ft)|0))<<13)|0;u=((o=o+Math.imul(c,ct)|0)+(n>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,i=Math.imul(D,j),n=(n=Math.imul(D,z))+Math.imul(L,j)|0,o=Math.imul(L,z),i=i+Math.imul(U,G)|0,n=(n=n+Math.imul(U,V)|0)+Math.imul(F,G)|0,o=o+Math.imul(F,V)|0,i=i+Math.imul(T,Z)|0,n=(n=n+Math.imul(T,H)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,H)|0,i=i+Math.imul(x,J)|0,n=(n=n+Math.imul(x,X)|0)+Math.imul(k,J)|0,o=o+Math.imul(k,X)|0,i=i+Math.imul(S,Q)|0,n=(n=n+Math.imul(S,tt)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,tt)|0,i=i+Math.imul(_,rt)|0,n=(n=n+Math.imul(_,it)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,it)|0,i=i+Math.imul(b,ot)|0,n=(n=n+Math.imul(b,st)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,st)|0,i=i+Math.imul(v,ht)|0,n=(n=n+Math.imul(v,ut)|0)+Math.imul(y,ht)|0,o=o+Math.imul(y,ut)|0,i=i+Math.imul(m,ft)|0,n=(n=n+Math.imul(m,ct)|0)+Math.imul(p,ft)|0,o=o+Math.imul(p,ct)|0;var At=(u+(i=i+Math.imul(f,mt)|0)|0)+((8191&(n=(n=n+Math.imul(f,pt)|0)+Math.imul(c,mt)|0))<<13)|0;u=((o=o+Math.imul(c,pt)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(D,G),n=(n=Math.imul(D,V))+Math.imul(L,G)|0,o=Math.imul(L,V),i=i+Math.imul(U,Z)|0,n=(n=n+Math.imul(U,H)|0)+Math.imul(F,Z)|0,o=o+Math.imul(F,H)|0,i=i+Math.imul(T,J)|0,n=(n=n+Math.imul(T,X)|0)+Math.imul(P,J)|0,o=o+Math.imul(P,X)|0,i=i+Math.imul(x,Q)|0,n=(n=n+Math.imul(x,tt)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,tt)|0,i=i+Math.imul(S,rt)|0,n=(n=n+Math.imul(S,it)|0)+Math.imul(R,rt)|0,o=o+Math.imul(R,it)|0,i=i+Math.imul(_,ot)|0,n=(n=n+Math.imul(_,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,i=i+Math.imul(b,ht)|0,n=(n=n+Math.imul(b,ut)|0)+Math.imul(M,ht)|0,o=o+Math.imul(M,ut)|0,i=i+Math.imul(v,ft)|0,n=(n=n+Math.imul(v,ct)|0)+Math.imul(y,ft)|0,o=o+Math.imul(y,ct)|0;var St=(u+(i=i+Math.imul(m,mt)|0)|0)+((8191&(n=(n=n+Math.imul(m,pt)|0)+Math.imul(p,mt)|0))<<13)|0;u=((o=o+Math.imul(p,pt)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(D,Z),n=(n=Math.imul(D,H))+Math.imul(L,Z)|0,o=Math.imul(L,H),i=i+Math.imul(U,J)|0,n=(n=n+Math.imul(U,X)|0)+Math.imul(F,J)|0,o=o+Math.imul(F,X)|0,i=i+Math.imul(T,Q)|0,n=(n=n+Math.imul(T,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,i=i+Math.imul(x,rt)|0,n=(n=n+Math.imul(x,it)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,it)|0,i=i+Math.imul(S,ot)|0,n=(n=n+Math.imul(S,st)|0)+Math.imul(R,ot)|0,o=o+Math.imul(R,st)|0,i=i+Math.imul(_,ht)|0,n=(n=n+Math.imul(_,ut)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,ut)|0,i=i+Math.imul(b,ft)|0,n=(n=n+Math.imul(b,ct)|0)+Math.imul(M,ft)|0,o=o+Math.imul(M,ct)|0;var Rt=(u+(i=i+Math.imul(v,mt)|0)|0)+((8191&(n=(n=n+Math.imul(v,pt)|0)+Math.imul(y,mt)|0))<<13)|0;u=((o=o+Math.imul(y,pt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(D,J),n=(n=Math.imul(D,X))+Math.imul(L,J)|0,o=Math.imul(L,X),i=i+Math.imul(U,Q)|0,n=(n=n+Math.imul(U,tt)|0)+Math.imul(F,Q)|0,o=o+Math.imul(F,tt)|0,i=i+Math.imul(T,rt)|0,n=(n=n+Math.imul(T,it)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,it)|0,i=i+Math.imul(x,ot)|0,n=(n=n+Math.imul(x,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,i=i+Math.imul(S,ht)|0,n=(n=n+Math.imul(S,ut)|0)+Math.imul(R,ht)|0,o=o+Math.imul(R,ut)|0,i=i+Math.imul(_,ft)|0,n=(n=n+Math.imul(_,ct)|0)+Math.imul(N,ft)|0,o=o+Math.imul(N,ct)|0;var It=(u+(i=i+Math.imul(b,mt)|0)|0)+((8191&(n=(n=n+Math.imul(b,pt)|0)+Math.imul(M,mt)|0))<<13)|0;u=((o=o+Math.imul(M,pt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(D,Q),n=(n=Math.imul(D,tt))+Math.imul(L,Q)|0,o=Math.imul(L,tt),i=i+Math.imul(U,rt)|0,n=(n=n+Math.imul(U,it)|0)+Math.imul(F,rt)|0,o=o+Math.imul(F,it)|0,i=i+Math.imul(T,ot)|0,n=(n=n+Math.imul(T,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,i=i+Math.imul(x,ht)|0,n=(n=n+Math.imul(x,ut)|0)+Math.imul(k,ht)|0,o=o+Math.imul(k,ut)|0,i=i+Math.imul(S,ft)|0,n=(n=n+Math.imul(S,ct)|0)+Math.imul(R,ft)|0,o=o+Math.imul(R,ct)|0;var xt=(u+(i=i+Math.imul(_,mt)|0)|0)+((8191&(n=(n=n+Math.imul(_,pt)|0)+Math.imul(N,mt)|0))<<13)|0;u=((o=o+Math.imul(N,pt)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(D,rt),n=(n=Math.imul(D,it))+Math.imul(L,rt)|0,o=Math.imul(L,it),i=i+Math.imul(U,ot)|0,n=(n=n+Math.imul(U,st)|0)+Math.imul(F,ot)|0,o=o+Math.imul(F,st)|0,i=i+Math.imul(T,ht)|0,n=(n=n+Math.imul(T,ut)|0)+Math.imul(P,ht)|0,o=o+Math.imul(P,ut)|0,i=i+Math.imul(x,ft)|0,n=(n=n+Math.imul(x,ct)|0)+Math.imul(k,ft)|0,o=o+Math.imul(k,ct)|0;var kt=(u+(i=i+Math.imul(S,mt)|0)|0)+((8191&(n=(n=n+Math.imul(S,pt)|0)+Math.imul(R,mt)|0))<<13)|0;u=((o=o+Math.imul(R,pt)|0)+(n>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(D,ot),n=(n=Math.imul(D,st))+Math.imul(L,ot)|0,o=Math.imul(L,st),i=i+Math.imul(U,ht)|0,n=(n=n+Math.imul(U,ut)|0)+Math.imul(F,ht)|0,o=o+Math.imul(F,ut)|0,i=i+Math.imul(T,ft)|0,n=(n=n+Math.imul(T,ct)|0)+Math.imul(P,ft)|0,o=o+Math.imul(P,ct)|0;var Ot=(u+(i=i+Math.imul(x,mt)|0)|0)+((8191&(n=(n=n+Math.imul(x,pt)|0)+Math.imul(k,mt)|0))<<13)|0;u=((o=o+Math.imul(k,pt)|0)+(n>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,i=Math.imul(D,ht),n=(n=Math.imul(D,ut))+Math.imul(L,ht)|0,o=Math.imul(L,ut),i=i+Math.imul(U,ft)|0,n=(n=n+Math.imul(U,ct)|0)+Math.imul(F,ft)|0,o=o+Math.imul(F,ct)|0;var Tt=(u+(i=i+Math.imul(T,mt)|0)|0)+((8191&(n=(n=n+Math.imul(T,pt)|0)+Math.imul(P,mt)|0))<<13)|0;u=((o=o+Math.imul(P,pt)|0)+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(D,ft),n=(n=Math.imul(D,ct))+Math.imul(L,ft)|0,o=Math.imul(L,ct);var Pt=(u+(i=i+Math.imul(U,mt)|0)|0)+((8191&(n=(n=n+Math.imul(U,pt)|0)+Math.imul(F,mt)|0))<<13)|0;u=((o=o+Math.imul(F,pt)|0)+(n>>>13)|0)+(Pt>>>26)|0,Pt&=67108863;var Ct=(u+(i=Math.imul(D,mt))|0)+((8191&(n=(n=Math.imul(D,pt))+Math.imul(L,mt)|0))<<13)|0;return u=((o=Math.imul(L,pt))+(n>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,h[0]=gt,h[1]=vt,h[2]=yt,h[3]=wt,h[4]=bt,h[5]=Mt,h[6]=Et,h[7]=_t,h[8]=Nt,h[9]=At,h[10]=St,h[11]=Rt,h[12]=It,h[13]=xt,h[14]=kt,h[15]=Ot,h[16]=Tt,h[17]=Pt,h[18]=Ct,0!==u&&(h[19]=u,r.length++),r};function m(t,e,r){return(new p).mulp(t,e,r)}function p(t,e){this.x=t,this.y=e}Math.imul||(d=c),n.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?d(this,t,e):r<63?c(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,o=0;o<r.length-1;o++){var s=n;n=0;for(var a=67108863&i,h=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=h;u++){var l=o-u,f=(0|t.words[l])*(0|e.words[u]),c=67108863&f;a=67108863&(c=c+a|0),n+=(s=(s=s+(f/67108864|0)|0)+(c>>>26)|0)>>>26,s&=67108863}r.words[o]=a,i=s,s=n}return 0!==i?r.words[o]=i:r.length--,r.strip()}(this,t,e):m(this,t,e)},p.prototype.makeRBT=function(t){for(var e=new Array(t),r=n.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},p.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var i=0,n=0;n<e;n++)i|=(1&t)<<e-n-1,t>>=1;return i},p.prototype.permute=function(t,e,r,i,n,o){for(var s=0;s<o;s++)i[s]=e[t[s]],n[s]=r[t[s]]},p.prototype.transform=function(t,e,r,i,n,o){this.permute(o,t,e,r,i,n);for(var s=1;s<n;s<<=1)for(var a=s<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<n;l+=a)for(var f=h,c=u,d=0;d<s;d++){var m=r[l+d],p=i[l+d],g=r[l+d+s],v=i[l+d+s],y=f*g-c*v;v=f*v+c*g,g=y,r[l+d]=m+g,i[l+d]=p+v,r[l+d+s]=m-g,i[l+d+s]=p-v,d!==a&&(y=h*f-u*c,c=h*c+u*f,f=y)}},p.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},p.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},p.prototype.normalize13b=function(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=67108863&n,r=n<67108864?0:n/67108864|0}return t},p.prototype.convert13b=function(t,e,i,n){for(var o=0,s=0;s<e;s++)o+=0|t[s],i[2*s]=8191&o,o>>>=13,i[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<n;++s)i[s]=0;r(0===o),r(0==(-8192&o))},p.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},p.prototype.mulp=function(t,e,r){var i=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(i),o=this.stub(i),s=new Array(i),a=new Array(i),h=new Array(i),u=new Array(i),l=new Array(i),f=new Array(i),c=r.words;c.length=i,this.convert13b(t.words,t.length,s,i),this.convert13b(e.words,e.length,u,i),this.transform(s,o,a,h,i,n),this.transform(u,o,l,f,i,n);for(var d=0;d<i;d++){var m=a[d]*l[d]-h[d]*f[d];h[d]=a[d]*f[d]+h[d]*l[d],a[d]=m}return this.conjugate(a,h,i),this.transform(a,h,c,o,i,n),this.conjugate(c,o,i),this.normalize13b(c,i),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},n.prototype.mul=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},n.prototype.mulf=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),m(this,t,e)},n.prototype.imul=function(t){return this.clone().mulTo(t,this)},n.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,i=0;i<this.length;i++){var n=(0|this.words[i])*t,o=(67108863&n)+(67108863&e);e>>=26,e+=n/67108864|0,e+=o>>>26,this.words[i]=67108863&o}return 0!==e&&(this.words[i]=e,this.length++),this},n.prototype.muln=function(t){return this.clone().imuln(t)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=(t.words[i]&1<<n)>>>n}return e}(t);if(0===e.length)return new n(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var o=r.sqr();i<e.length;i++,o=o.sqr())0!==e[i]&&(r=r.mul(o));return r},n.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,i=t%26,n=(t-i)/26,o=67108863>>>26-i<<26-i;if(0!==i){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,h=(0|this.words[e])-a<<i;this.words[e]=h|s,s=a>>>26-i}s&&(this.words[e]=s,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this.strip()},n.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},n.prototype.iushrn=function(t,e,i){var n;r("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,h=i;if(n-=s,n=Math.max(0,n),h){for(var u=0;u<s;u++)h.words[u]=this.words[u];h.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=n);u--){var f=0|this.words[u];this.words[u]=l<<26-o|f>>>o,l=f&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(t,e,i){return r(0===this.negative),this.iushrn(t,e,i)},n.prototype.shln=function(t){return this.clone().ishln(t)},n.prototype.ushln=function(t){return this.clone().iushln(t)},n.prototype.shrn=function(t){return this.clone().ishrn(t)},n.prototype.ushrn=function(t){return this.clone().iushrn(t)},n.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26,n=1<<e;return!(this.length<=i)&&!!(this.words[i]&n)},n.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this.strip()},n.prototype.maskn=function(t){return this.clone().imaskn(t)},n.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},n.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},n.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},n.prototype.addn=function(t){return this.clone().iaddn(t)},n.prototype.subn=function(t){return this.clone().isubn(t)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(t,e,i){var n,o,s=t.length+i;this._expand(s);var a=0;for(n=0;n<t.length;n++){o=(0|this.words[n+i])+a;var h=(0|t.words[n])*e;a=((o-=67108863&h)>>26)-(h/67108864|0),this.words[n+i]=67108863&o}for(;n<this.length-i;n++)a=(o=(0|this.words[n+i])+a)>>26,this.words[n+i]=67108863&o;if(0===a)return this.strip();for(r(-1===a),a=0,n=0;n<this.length;n++)a=(o=-(0|this.words[n])+a)>>26,this.words[n]=67108863&o;return this.negative=1,this.strip()},n.prototype._wordDiv=function(t,e){var r=(this.length,t.length),i=this.clone(),o=t,s=0|o.words[o.length-1];0!==(r=26-this._countBits(s))&&(o=o.ushln(r),i.iushln(r),s=0|o.words[o.length-1]);var a,h=i.length-o.length;if("mod"!==e){(a=new n(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=i.clone()._ishlnsubmul(o,1,h);0===l.negative&&(i=l,a&&(a.words[h]=1));for(var f=h-1;f>=0;f--){var c=67108864*(0|i.words[o.length+f])+(0|i.words[o.length+f-1]);for(c=Math.min(c/s|0,67108863),i._ishlnsubmul(o,c,f);0!==i.negative;)c--,i.negative=0,i._ishlnsubmul(o,1,f),i.isZero()||(i.negative^=1);a&&(a.words[f]=c)}return a&&a.strip(),i.strip(),"div"!==e&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},n.prototype.divmod=function(t,e,i){return r(!t.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(o=a.div.neg()),"div"!==e&&(s=a.mod.neg(),i&&0!==s.negative&&s.iadd(t)),{div:o,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(o=a.div.neg()),{div:o,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),i&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new n(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new n(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new n(this.modn(t.words[0]))}:this._wordDiv(t,e);var o,s,a},n.prototype.div=function(t){return this.divmod(t,"div",!1).div},n.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},n.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},n.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),o=r.cmp(i);return o<0||1===n&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},n.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,i=0,n=this.length-1;n>=0;n--)i=(e*i+(0|this.words[n]))%t;return i},n.prototype.idivn=function(t){r(t<=67108863);for(var e=0,i=this.length-1;i>=0;i--){var n=(0|this.words[i])+67108864*e;this.words[i]=n/t|0,e=n%t}return this.strip()},n.prototype.divn=function(t){return this.clone().idivn(t)},n.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new n(1),s=new n(0),a=new n(0),h=new n(1),u=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++u;for(var l=i.clone(),f=e.clone();!e.isZero();){for(var c=0,d=1;0==(e.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(e.iushrn(c);c-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(l),s.isub(f)),o.iushrn(1),s.iushrn(1);for(var m=0,p=1;0==(i.words[0]&p)&&m<26;++m,p<<=1);if(m>0)for(i.iushrn(m);m-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(f)),a.iushrn(1),h.iushrn(1);e.cmp(i)>=0?(e.isub(i),o.isub(a),s.isub(h)):(i.isub(e),a.isub(o),h.isub(s))}return{a:a,b:h,gcd:i.iushln(u)}},n.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,s=new n(1),a=new n(0),h=i.clone();e.cmpn(1)>0&&i.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var f=0,c=1;0==(i.words[0]&c)&&f<26;++f,c<<=1);if(f>0)for(i.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(i)>=0?(e.isub(i),s.isub(a)):(i.isub(e),a.isub(s))}return(o=0===e.cmpn(1)?s:a).cmpn(0)<0&&o.iadd(t),o},n.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var o=e;e=r,r=o}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},n.prototype.invm=function(t){return this.egcd(t).a.umod(t)},n.prototype.isEven=function(){return 0==(1&this.words[0])},n.prototype.isOdd=function(){return 1==(1&this.words[0])},n.prototype.andln=function(t){return this.words[0]&t},n.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,i=(t-e)/26,n=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var o=n,s=i;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(t){var e,i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)e=1;else{i&&(t=-t),r(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},n.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},n.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},n.prototype.gtn=function(t){return 1===this.cmpn(t)},n.prototype.gt=function(t){return 1===this.cmp(t)},n.prototype.gten=function(t){return this.cmpn(t)>=0},n.prototype.gte=function(t){return this.cmp(t)>=0},n.prototype.ltn=function(t){return-1===this.cmpn(t)},n.prototype.lt=function(t){return-1===this.cmp(t)},n.prototype.lten=function(t){return this.cmpn(t)<=0},n.prototype.lte=function(t){return this.cmp(t)<=0},n.prototype.eqn=function(t){return 0===this.cmpn(t)},n.prototype.eq=function(t){return 0===this.cmp(t)},n.red=function(t){return new E(t)},n.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(t){return this.red=t,this},n.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},n.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},n.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},n.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},n.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},n.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},n.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},n.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new n(e,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(t){if("string"==typeof t){var e=n._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function _(t){E.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new n(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},i(y,v),y.prototype.split=function(t,e){for(var r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var n=t.words[9];for(e.words[e.length++]=4194303&n,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(4194303&o)<<4|n>>>22,n=o}n>>>=22,t.words[i-10]=n,0===n&&t.length>10?t.length-=10:t.length-=9},y.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,v),i(b,v),i(M,v),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=19*(0|t.words[r])+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},n._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new y;else if("p224"===t)e=new w;else if("p192"===t)e=new b;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return g[t]=e,e},E.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},E.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},E.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},E.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},E.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},E.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},E.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},E.prototype.isqr=function(t){return this.imul(t,t.clone())},E.prototype.sqr=function(t){return this.mul(t,t)},E.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var i=this.m.add(new n(1)).iushrn(2);return this.pow(t,i)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new n(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new n(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var f=this.pow(l,o),c=this.pow(t,o.addn(1).iushrn(1)),d=this.pow(t,o),m=s;0!==d.cmp(a);){for(var p=d,g=0;0!==p.cmp(a);g++)p=p.redSqr();r(g<m);var v=this.pow(f,new n(1).iushln(m-g-1));c=c.redMul(v),f=v.redSqr(),d=d.redMul(f),m=g}return c},E.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},E.prototype.pow=function(t,e){if(e.isZero())return new n(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new n(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var o=r[0],s=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),i=e.length-1;i>=0;i--){for(var u=e.words[i],l=h-1;l>=0;l--){var f=u>>l&1;o!==r[0]&&(o=this.sqr(o)),0!==f||0!==s?(s<<=1,s|=f,(4===++a||0===i&&0===l)&&(o=this.mul(o,r[s]),a=0,s=0)):a=0}h=26}return o},E.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},E.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},n.mont=function(t){return new _(t)},i(_,E),_.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},_.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},_.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},_.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new n(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(i).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},_.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,n)})).BN;const di=new ti("bignumber/5.3.0"),mi={};let pi=!1;class gi{constructor(t,e){di.checkNew(new.target,gi),t!==mi&&di.throwError("cannot call constructor directly; use BigNumber.from",ti.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return yi(wi(this).fromTwos(t))}toTwos(t){return yi(wi(this).toTwos(t))}abs(){return"-"===this._hex[0]?gi.from(this._hex.substring(1)):this}add(t){return yi(wi(this).add(wi(t)))}sub(t){return yi(wi(this).sub(wi(t)))}div(t){return gi.from(t).isZero()&&bi("division by zero","div"),yi(wi(this).div(wi(t)))}mul(t){return yi(wi(this).mul(wi(t)))}mod(t){const e=wi(t);return e.isNeg()&&bi("cannot modulo negative values","mod"),yi(wi(this).umod(e))}pow(t){const e=wi(t);return e.isNeg()&&bi("cannot raise to negative values","pow"),yi(wi(this).pow(e))}and(t){const e=wi(t);return(this.isNegative()||e.isNeg())&&bi("cannot 'and' negative values","and"),yi(wi(this).and(e))}or(t){const e=wi(t);return(this.isNegative()||e.isNeg())&&bi("cannot 'or' negative values","or"),yi(wi(this).or(e))}xor(t){const e=wi(t);return(this.isNegative()||e.isNeg())&&bi("cannot 'xor' negative values","xor"),yi(wi(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&bi("cannot mask negative values","mask"),yi(wi(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&bi("cannot shift negative values","shl"),yi(wi(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&bi("cannot shift negative values","shr"),yi(wi(this).shrn(t))}eq(t){return wi(this).eq(wi(t))}lt(t){return wi(this).lt(wi(t))}lte(t){return wi(this).lte(wi(t))}gt(t){return wi(this).gt(wi(t))}gte(t){return wi(this).gte(wi(t))}isNegative(){return"-"===this._hex[0]}isZero(){return wi(this).isZero()}toNumber(){try{return wi(this).toNumber()}catch(t){bi("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return di.throwError("this platform does not support BigInt",ti.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?pi||(pi=!0,di.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?di.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",ti.errors.UNEXPECTED_ARGUMENT,{}):di.throwError("BigNumber.toString does not accept parameters",ti.errors.UNEXPECTED_ARGUMENT,{})),wi(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof gi)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new gi(mi,vi(t)):t.match(/^-?[0-9]+$/)?new gi(mi,vi(new ci(t))):di.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&bi("underflow","BigNumber.from",t),(t>=9007199254740991||t<=-9007199254740991)&&bi("overflow","BigNumber.from",t),gi.from(String(t));const e=t;if("bigint"==typeof e)return gi.from(e.toString());if(ni(e))return gi.from(hi(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return gi.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(ai(t)||"-"===t[0]&&ai(t.substring(1))))return gi.from(t)}return di.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function vi(t){if("string"!=typeof t)return vi(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&di.throwArgumentError("invalid hex","value",t),"0x00"===(t=vi(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function yi(t){return gi.from(vi(t))}function wi(t){const e=gi.from(t).toHexString();return"-"===e[0]?new ci("-"+e.substring(3),16):new ci(e.substring(2),16)}function bi(t,e,r){const i={fault:t,operation:e};return null!=r&&(i.value=r),di.throwError(t,ti.errors.NUMERIC_FAULT,i)}const Mi=new ti("strings/5.3.0");var Ei,_i;function Ni(t,e,r,i,n){if(t===_i.BAD_PREFIX||t===_i.UNEXPECTED_CONTINUE){let t=0;for(let i=e+1;i<r.length&&r[i]>>6==2;i++)t++;return t}return t===_i.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(Ei||(Ei={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(_i||(_i={}));const Ai=Object.freeze({error:function(t,e,r,i,n){return Mi.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:Ni,replace:function(t,e,r,i,n){return t===_i.OVERLONG?(i.push(n),0):(i.push(65533),Ni(t,e,r))}});function Si(t,e=Ei.current){e!=Ei.current&&(Mi.checkNormalize(),t=t.normalize(e));let r=[];for(let e=0;e<t.length;e++){const i=t.charCodeAt(e);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(63&i|128);else if(55296==(64512&i)){e++;const n=t.charCodeAt(e);if(e>=t.length||56320!=(64512&n))throw new Error("invalid utf-8 string");const o=65536+((1023&i)<<10)+(1023&n);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(63&i|128)}return oi(r)}function Ri(t){return t.map(t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t)))).join("")}function Ii(t,e=Ei.current){return function(t,e){null==e&&(e=Ai.error),t=oi(t);const r=[];let i=0;for(;i<t.length;){const n=t[i++];if(n>>7==0){r.push(n);continue}let o=null,s=null;if(192==(224&n))o=1,s=127;else if(224==(240&n))o=2,s=2047;else{if(240!=(248&n)){i+=e(128==(192&n)?_i.UNEXPECTED_CONTINUE:_i.BAD_PREFIX,i-1,t,r);continue}o=3,s=65535}if(i-1+o>=t.length){i+=e(_i.OVERRUN,i-1,t,r);continue}let a=n&(1<<8-o-1)-1;for(let n=0;n<o;n++){let n=t[i];if(128!=(192&n)){i+=e(_i.MISSING_CONTINUE,i,t,r),a=null;break}a=a<<6|63&n,i++}null!==a&&(a>1114111?i+=e(_i.OUT_OF_RANGE,i-1-o,t,r,a):a>=55296&&a<=57343?i+=e(_i.UTF16_SURROGATE,i-1-o,t,r,a):a<=s?i+=e(_i.OVERLONG,i-1-o,t,r,a):r.push(a))}return r}(Si(t,e))}function xi(t,e){e||(e=function(t){return[parseInt(t,16)]});let r=0,i={};return t.split(",").forEach(t=>{let n=t.split(":");r+=parseInt(n[0],16),i[r]=e(n[1])}),i}function ki(t){let e=0;return t.split(",").map(t=>{let r=t.split("-");1===r.length?r[1]="0":""===r[1]&&(r[1]="1");let i=e+parseInt(r[0],16);return e=parseInt(r[1],16),{l:i,h:e}})}function Oi(t,e){let r=0;for(let i=0;i<e.length;i++){let n=e[i];if(r+=n.l,t>=r&&t<=r+n.h&&(t-r)%(n.d||1)==0){if(n.e&&-1!==n.e.indexOf(t-r))continue;return n}}return null}const Ti=ki("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Pi="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(t=>parseInt(t,16)),Ci=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Ui=xi("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Fi=xi("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Bi=xi("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(t){if(t.length%4!=0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e})),Di=ki("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function Li(t){if(t.match(/^[a-z0-9-]*$/i)&&t.length<=59)return t.toLowerCase();let e=Ii(t);var r;r=e.map(t=>{if(Pi.indexOf(t)>=0)return[];if(t>=65024&&t<=65039)return[];let e=function(t){let e=Oi(t,Ci);if(e)return[t+e.s];let r=Ui[t];if(r)return r;let i=Fi[t];return i?[t+i[0]]:Bi[t]||null}(t);return e||[t]}),e=r.reduce((t,e)=>(e.forEach(e=>{t.push(e)}),t),[]),e=Ii(Ri(e),Ei.NFKC),e.forEach(t=>{if(Oi(t,Di))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(t=>{if(Oi(t,Ti))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let i=Ri(e);if("-"===i.substring(0,1)||"--"===i.substring(2,4)||"-"===i.substring(i.length-1))throw new Error("invalid hyphen");if(i.length>63)throw new Error("too long");return i}function $i(t){return fi(Si(t))}const ji=new ti("hash/5.3.0"),zi=new Uint8Array(32);zi.fill(0);const qi=new RegExp("^((.*)\\.)?([^.]+)$");const Gi=new ti("address/5.3.0");function Vi(t){ai(t,20)||Gi.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let t=0;t<40;t++)r[t]=e[t].charCodeAt(0);const i=oi(fi(r));for(let t=0;t<40;t+=2)i[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&i[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return"0x"+e.join("")}const Ki={};for(let t=0;t<10;t++)Ki[String(t)]=String(t);for(let t=0;t<26;t++)Ki[String.fromCharCode(65+t)]=String(10+t);const Zi=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function Hi(t){let e=null;if("string"!=typeof t&&Gi.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=Vi(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Gi.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==function(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map(t=>Ki[t]).join("");for(;e.length>=Zi;){let t=e.substring(0,Zi);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}(t)&&Gi.throwArgumentError("bad icap checksum","address",t),r=t.substring(4),e=new ci(r,36).toString(16);e.length<40;)e="0"+e;e=Vi("0x"+e)}else Gi.throwArgumentError("invalid address","address",t);var r;return e}window&&window.__awaiter;const Wi=new ti("properties/5.3.0");function Ji(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Xi(t){const e={};for(const r in t)e[r]=t[r];return e}const Yi={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Qi(t){if(function t(e){if(null==e||Yi[typeof e])return!0;if(Array.isArray(e)||"object"==typeof e){if(!Object.isFrozen(e))return!1;const r=Object.keys(e);for(let i=0;i<r.length;i++)if(!t(e[r[i]]))return!1;return!0}return Wi.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}(t))return t;if(Array.isArray(t))return Object.freeze(t.map(t=>tn(t)));if("object"==typeof t){const e={};for(const r in t){const i=t[r];void 0!==i&&Ji(e,r,tn(i))}return e}return Wi.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function tn(t){return Qi(t)}var en=window&&window.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function s(t){try{h(i.next(t))}catch(t){o(t)}}function a(t){try{h(i.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}h((i=i.apply(t,e||[])).next())}))};const rn=new ti("hash/5.3.0"),nn=new Uint8Array(32);nn.fill(0);const on=gi.from(-1),sn=gi.from(0),an=gi.from(1),hn=gi.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const un=li(an.toHexString(),32),ln=li(sn.toHexString(),32),fn={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},cn=["name","version","chainId","verifyingContract","salt"];function dn(t){return function(e){return"string"!=typeof e&&rn.throwArgumentError("invalid domain value for "+JSON.stringify(t),"domain."+t,e),e}}const mn={name:dn("name"),version:dn("version"),chainId:function(t){try{return gi.from(t).toString()}catch(t){}return rn.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return Hi(t).toLowerCase()}catch(t){}return rn.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=oi(t);if(32!==e.length)throw new Error("bad length");return hi(e)}catch(t){}return rn.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function pn(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=""===e[1],i=parseInt(e[2]||"256");(i%8!=0||i>256||e[2]&&e[2]!==String(i))&&rn.throwArgumentError("invalid numeric width","type",t);const n=hn.mask(r?i-1:i),o=r?n.add(an).mul(on):sn;return function(e){const r=gi.from(e);return(r.lt(o)||r.gt(n))&&rn.throwArgumentError("value out-of-bounds for "+t,"value",e),li(r.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(0===r||r>32||e[1]!==String(r))&&rn.throwArgumentError("invalid bytes width","type",t),function(e){return oi(e).length!==r&&rn.throwArgumentError("invalid length for "+t,"value",e),function(t){const e=oi(t),r=e.length%32;return r?ui([e,nn.slice(r)]):hi(e)}(e)}}}switch(t){case"address":return function(t){return li(Hi(t),32)};case"bool":return function(t){return t?un:ln};case"bytes":return function(t){return fi(t)};case"string":return function(t){return $i(t)}}return null}function gn(t,e){return`${t}(${e.map(({name:t,type:e})=>e+" "+t).join(",")})`}class vn{constructor(t){Ji(this,"types",Object.freeze(tn(t))),Ji(this,"_encoderCache",{}),Ji(this,"_types",{});const e={},r={},i={};Object.keys(t).forEach(t=>{e[t]={},r[t]=[],i[t]={}});for(const i in t){const n={};t[i].forEach(o=>{n[o.name]&&rn.throwArgumentError(`duplicate variable name ${JSON.stringify(o.name)} in ${JSON.stringify(i)}`,"types",t),n[o.name]=!0;const s=o.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===i&&rn.throwArgumentError("circular type reference to "+JSON.stringify(s),"types",t);pn(s)||(r[s]||rn.throwArgumentError("unknown type "+JSON.stringify(s),"types",t),r[s].push(i),e[i][s]=!0)})}const n=Object.keys(r).filter(t=>0===r[t].length);0===n.length?rn.throwArgumentError("missing primary type","types",t):n.length>1&&rn.throwArgumentError("ambiguous primary types or unused types: "+n.map(t=>JSON.stringify(t)).join(", "),"types",t),Ji(this,"primaryType",n[0]),function n(o,s){s[o]&&rn.throwArgumentError("circular type reference to "+JSON.stringify(o),"types",t),s[o]=!0,Object.keys(e[o]).forEach(t=>{r[t]&&(n(t,s),Object.keys(s).forEach(e=>{i[e][t]=!0}))}),delete s[o]}(this.primaryType,{});for(const e in i){const r=Object.keys(i[e]);r.sort(),this._types[e]=gn(e,t[e])+r.map(e=>gn(e,t[e])).join("")}}getEncoder(t){let e=this._encoderCache[t];return e||(e=this._encoderCache[t]=this._getEncoder(t)),e}_getEncoder(t){{const e=pn(t);if(e)return e}const e=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){const t=e[1],r=this.getEncoder(t),i=parseInt(e[3]);return e=>{i>=0&&e.length!==i&&rn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e);let n=e.map(r);return this._types[t]&&(n=n.map(fi)),fi(ui(n))}}const r=this.types[t];if(r){const e=$i(this._types[t]);return t=>{const i=r.map(({name:e,type:r})=>{const i=this.getEncoder(r)(t[e]);return this._types[r]?fi(i):i});return i.unshift(e),ui(i)}}return rn.throwArgumentError("unknown type: "+t,"type",t)}encodeType(t){const e=this._types[t];return e||rn.throwArgumentError("unknown type: "+JSON.stringify(t),"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return fi(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,r){if(pn(t))return r(t,e);const i=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const t=i[1],n=parseInt(i[3]);return n>=0&&e.length!==n&&rn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e),e.map(e=>this._visit(t,e,r))}const n=this.types[t];return n?n.reduce((t,{name:i,type:n})=>(t[i]=this._visit(n,e[i],r),t),{}):rn.throwArgumentError("unknown type: "+t,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new vn(t)}static getPrimaryType(t){return vn.from(t).primaryType}static hashStruct(t,e,r){return vn.from(e).hashStruct(t,r)}static hashDomain(t){const e=[];for(const r in t){const i=fn[r];i||rn.throwArgumentError("invalid typed-data domain key: "+JSON.stringify(r),"domain",t),e.push({name:r,type:i})}return e.sort((t,e)=>cn.indexOf(t.name)-cn.indexOf(e.name)),vn.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,r){return ui(["0x1901",vn.hashDomain(t),vn.from(e).hash(r)])}static hash(t,e,r){return fi(vn.encode(t,e,r))}static resolveNames(t,e,r,i){return en(this,void 0,void 0,(function*(){t=Xi(t);const n={};t.verifyingContract&&!ai(t.verifyingContract,20)&&(n[t.verifyingContract]="0x");const o=vn.from(e);o.visit(r,(t,e)=>("address"!==t||ai(e,20)||(n[e]="0x"),e));for(const t in n)n[t]=yield i(t);return t.verifyingContract&&n[t.verifyingContract]&&(t.verifyingContract=n[t.verifyingContract]),r=o.visit(r,(t,e)=>"address"===t&&n[e]?n[e]:e),{domain:t,value:r}}))}static getPayload(t,e,r){vn.hashDomain(t);const i={},n=[];cn.forEach(e=>{const r=t[e];null!=r&&(i[e]=mn[e](r),n.push({name:e,type:fn[e]}))});const o=vn.from(e),s=Xi(e);return s.EIP712Domain?rn.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",e):s.EIP712Domain=n,o.encode(r),{types:s,domain:i,primaryType:o.primaryType,message:o.visit(r,(t,e)=>{if(t.match(/^bytes(\d*)/))return hi(oi(e));if(t.match(/^u?int/))return gi.from(e).toString();switch(t){case"address":return e.toLowerCase();case"bool":return!!e;case"string":return"string"!=typeof e&&rn.throwArgumentError("invalid string","value",e),e}return rn.throwArgumentError("unsupported type","type",t)})}}}const yn=new jt("abi/5.3.1");class wn extends ce{}class bn extends ce{}class Mn extends ce{static isIndexed(t){return!(!t||!t._isIndexed)}}const En={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function _n(t,e){const r=new Error("deferred error during ABI decoding triggered accessing "+t);return r.error=e,r}class Nn{constructor(t){yn.checkNew(new.target,Nn);let e=[];e="string"==typeof t?JSON.parse(t):t,ae(this,"fragments",e.map(t=>_e.from(t)).filter(t=>null!=t)),ae(this,"_abiCoder",he(new.target,"getAbiCoder")()),ae(this,"functions",{}),ae(this,"errors",{}),ae(this,"events",{}),ae(this,"structs",{}),this.fragments.forEach(t=>{let e=null;switch(t.type){case"constructor":return this.deploy?void yn.warn("duplicate definition - constructor"):void ae(this,"deploy",t);case"function":e=this.functions;break;case"event":e=this.events;break;case"error":e=this.errors;break;default:return}let r=t.format();e[r]?yn.warn("duplicate definition - "+r):e[r]=t}),this.deploy||ae(this,"deploy",Ie.from({payable:!1,type:"constructor"})),ae(this,"_isInterface",!0)}format(t){t||(t=we.full),t===we.sighash&&yn.throwArgumentError("interface does not support formatting sighash","format",t);const e=this.fragments.map(e=>e.format(t));return t===we.json?JSON.stringify(e.map(t=>JSON.parse(t))):e}static getAbiCoder(){return Vr}static getAddress(t){return gr(t)}static getSighash(t){return e=$i(t.format()),r=0,i=4,"string"!=typeof e?e=Wt(e):(!Ht(e)||e.length%2)&&zt.throwArgumentError("invalid hexData","value",e),r=2+2*r,null!=i?"0x"+e.substring(r,2+2*i):"0x"+e.substring(r);var e,r,i}static getEventTopic(t){return $i(t.format())}getFunction(t){if(Ht(t)){for(const e in this.functions)if(t===this.getSighash(e))return this.functions[e];yn.throwArgumentError("no matching function","sighash",t)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.functions).filter(t=>t.split("(")[0]===e);return 0===r.length?yn.throwArgumentError("no matching function","name",e):r.length>1&&yn.throwArgumentError("multiple matching functions","name",e),this.functions[r[0]]}const e=this.functions[xe.fromString(t).format()];return e||yn.throwArgumentError("no matching function","signature",t),e}getEvent(t){if(Ht(t)){const e=t.toLowerCase();for(const t in this.events)if(e===this.getEventTopic(t))return this.events[t];yn.throwArgumentError("no matching event","topichash",e)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.events).filter(t=>t.split("(")[0]===e);return 0===r.length?yn.throwArgumentError("no matching event","name",e):r.length>1&&yn.throwArgumentError("multiple matching events","name",e),this.events[r[0]]}const e=this.events[Ne.fromString(t).format()];return e||yn.throwArgumentError("no matching event","signature",t),e}getError(t){if(Ht(t)){const e=he(this.constructor,"getSighash");for(const r in this.errors){if(t===e(this.errors[r]))return this.errors[r]}yn.throwArgumentError("no matching error","sighash",t)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.errors).filter(t=>t.split("(")[0]===e);return 0===r.length?yn.throwArgumentError("no matching error","name",e):r.length>1&&yn.throwArgumentError("multiple matching errors","name",e),this.errors[r[0]]}const e=this.errors[xe.fromString(t).format()];return e||yn.throwArgumentError("no matching error","signature",t),e}getSighash(t){return"string"==typeof t&&(t=this.getFunction(t)),he(this.constructor,"getSighash")(t)}getEventTopic(t){return"string"==typeof t&&(t=this.getEvent(t)),he(this.constructor,"getEventTopic")(t)}_decodeParams(t,e){return this._abiCoder.decode(t,e)}_encodeParams(t,e){return this._abiCoder.encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeFunctionData(t,e){"string"==typeof t&&(t=this.getFunction(t));const r=Kt(e);return Wt(r.slice(0,4))!==this.getSighash(t)&&yn.throwArgumentError(`data signature does not match function ${t.name}.`,"data",Wt(r)),this._decodeParams(t.inputs,r.slice(4))}encodeFunctionData(t,e){return"string"==typeof t&&(t=this.getFunction(t)),Wt(Zt([this.getSighash(t),this._encodeParams(t.inputs,e||[])]))}decodeFunctionResult(t,e){"string"==typeof t&&(t=this.getFunction(t));let r=Kt(e),i=null,n=null,o=null,s=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(t.outputs,r)}catch(t){}break;case 4:{const t=Wt(r.slice(0,4)),e=En[t];if(e)n=this._abiCoder.decode(e.inputs,r.slice(4)),o=e.name,s=e.signature,e.reason&&(i=n[0]);else try{const e=this.getError(t);n=this._abiCoder.decode(e.inputs,r.slice(4)),o=e.name,s=e.format()}catch(t){console.log(t)}break}}return yn.throwError("call revert exception",jt.errors.CALL_EXCEPTION,{method:t.format(),errorArgs:n,errorName:o,errorSignature:s,reason:i})}encodeFunctionResult(t,e){return"string"==typeof t&&(t=this.getFunction(t)),Wt(this._abiCoder.encode(t.outputs,e||[]))}encodeFilterTopics(t,e){"string"==typeof t&&(t=this.getEvent(t)),e.length>t.inputs.length&&yn.throwError("too many arguments for "+t.format(),jt.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:e});let r=[];t.anonymous||r.push(this.getEventTopic(t));const i=(t,e)=>"string"===t.type?$i(e):"bytes"===t.type?fr(Wt(e)):("address"===t.type&&this._abiCoder.encode(["address"],[e]),Jt(Wt(e),32));for(e.forEach((e,n)=>{let o=t.inputs[n];o.indexed?null==e?r.push(null):"array"===o.baseType||"tuple"===o.baseType?yn.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,e):Array.isArray(e)?r.push(e.map(t=>i(o,t))):r.push(i(o,e)):null!=e&&yn.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,e)});r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(t,e){"string"==typeof t&&(t=this.getEvent(t));const r=[],i=[],n=[];return t.anonymous||r.push(this.getEventTopic(t)),e.length!==t.inputs.length&&yn.throwArgumentError("event arguments/values mismatch","values",e),t.inputs.forEach((t,o)=>{const s=e[o];if(t.indexed)if("string"===t.type)r.push($i(s));else if("bytes"===t.type)r.push(fr(s));else{if("tuple"===t.baseType||"array"===t.baseType)throw new Error("not implemented");r.push(this._abiCoder.encode([t.type],[s]))}else i.push(t),n.push(s)}),{data:this._abiCoder.encode(i,n),topics:r}}decodeEventLog(t,e,r){if("string"==typeof t&&(t=this.getEvent(t)),null!=r&&!t.anonymous){let e=this.getEventTopic(t);Ht(r[0],32)&&r[0].toLowerCase()===e||yn.throwError("fragment/topic mismatch",jt.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:e,value:r[0]}),r=r.slice(1)}let i=[],n=[],o=[];t.inputs.forEach((t,e)=>{t.indexed?"string"===t.type||"bytes"===t.type||"tuple"===t.baseType||"array"===t.baseType?(i.push(Me.fromObject({type:"bytes32",name:t.name})),o.push(!0)):(i.push(t),o.push(!1)):(n.push(t),o.push(!1))});let s=null!=r?this._abiCoder.decode(i,Zt(r)):null,a=this._abiCoder.decode(n,e,!0),h=[],u=0,l=0;t.inputs.forEach((t,e)=>{if(t.indexed)if(null==s)h[e]=new Mn({_isIndexed:!0,hash:null});else if(o[e])h[e]=new Mn({_isIndexed:!0,hash:s[l++]});else try{h[e]=s[l++]}catch(t){h[e]=t}else try{h[e]=a[u++]}catch(t){h[e]=t}if(t.name&&null==h[t.name]){const r=h[e];r instanceof Error?Object.defineProperty(h,t.name,{get:()=>{throw _n("property "+JSON.stringify(t.name),r)}}):h[t.name]=r}});for(let t=0;t<h.length;t++){const e=h[t];e instanceof Error&&Object.defineProperty(h,t,{get:()=>{throw _n("index "+t,e)}})}return Object.freeze(h)}parseTransaction(t){let e=this.getFunction(t.data.substring(0,10).toLowerCase());return e?new bn({args:this._abiCoder.decode(e.inputs,"0x"+t.data.substring(10)),functionFragment:e,name:e.name,signature:e.format(),sighash:this.getSighash(e),value:ee.from(t.value||"0")}):null}parseLog(t){let e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new wn({eventFragment:e,name:e.name,signature:e.format(),topic:this.getEventTopic(e),args:this.decodeEventLog(e,t.data,t.topics)})}static isInterface(t){return!(!t||!t._isInterface)}}var An=a((function(t){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function n(t,e,r){if(n.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:Ot.Buffer}catch(t){}function s(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function a(t,e,r){var i=s(t,r);return r-1>=e&&(i|=s(t,r-1)<<4),i}function h(t,e,r,i){for(var n=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;n*=i,n+=a>=49?a-49+10:a>=17?a-17+10:a}return n}n.isBN=function(t){return t instanceof n||null!==t&&"object"==typeof t&&t.constructor.wordSize===n.wordSize&&Array.isArray(t.words)},n.max=function(t,e){return t.cmp(e)>0?t:e},n.min=function(t,e){return t.cmp(e)<0?t:e},n.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<t.length&&(16===e?this._parseHex(t,n,i):(this._parseBase(t,e,n),"le"===i&&this._initArray(this.toArray(),e,i)))},n.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},n.prototype._initArray=function(t,e,i){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,s,a=0;if("be"===i)for(n=t.length-1,o=0;n>=0;n-=3)s=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===i)for(n=0,o=0;n<t.length;n+=3)s=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},n.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,o=0,s=0;if("be"===r)for(i=t.length-1;i>=e;i-=2)n=a(t,e,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)n=a(t,e,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;this.strip()},n.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0;for(var o=t.length-r,s=o%i,a=Math.min(o,o-s)+r,u=0,l=r;l<a;l+=i)u=h(t,l,l+i,e),this.imuln(n),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var f=1;for(u=h(t,l,t.length,e),l=0;l<s;l++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},n.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},n.prototype.clone=function(){var t=new n(null);return this.copy(t),t},n.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function c(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],o=0|e.words[0],s=n*o,a=67108863&s,h=s/67108864|0;r.words[0]=a;for(var u=1;u<i;u++){for(var l=h>>>26,f=67108863&h,c=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=c;d++){var m=u-d|0;l+=(s=(n=0|t.words[m])*(o=0|e.words[d])+f)/67108864|0,f=67108863&s}r.words[u]=0|f,h=0|l}return 0!==h?r.words[u]=0|h:r.length--,r.strip()}n.prototype.toString=function(t,e){var i;if(e=0|e||1,16===(t=t||10)||"hex"===t){i="";for(var n=0,o=0,s=0;s<this.length;s++){var a=this.words[s],h=(16777215&(a<<n|o)).toString(16);i=0!==(o=a>>>24-n&16777215)||s!==this.length-1?u[6-h.length]+h+i:h+i,(n+=2)>=26&&(n-=26,s--)}for(0!==o&&(i=o.toString(16)+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var c=l[t],d=f[t];i="";var m=this.clone();for(m.negative=0;!m.isZero();){var p=m.modn(d).toString(t);i=(m=m.idivn(d)).isZero()?p+i:u[c-p.length]+p+i}for(this.isZero()&&(i="0"+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(t,e){return r(void 0!==o),this.toArrayLike(o,t,e)},n.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},n.prototype.toArrayLike=function(t,e,i){var n=this.byteLength(),o=i||Math.max(1,n);r(n<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,h="le"===e,u=new t(o),l=this.clone();if(h){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-n;a++)u[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[o-a-1]=s}return u},Math.clz32?n.prototype._countBits=function(t){return 32-Math.clz32(t)}:n.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},n.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},n.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},n.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},n.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},n.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},n.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},n.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},n.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},n.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},n.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},n.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},n.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},n.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},n.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},n.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this.strip()},n.prototype.notn=function(t){return this.clone().inotn(t)},n.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var i=t/26|0,n=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<n:this.words[i]&~(1<<n),this.strip()},n.prototype.iadd=function(t){var e,r,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this);for(var n=0,o=0;o<i.length;o++)e=(0|r.words[o])+(0|i.words[o])+n,this.words[o]=67108863&e,n=e>>>26;for(;0!==n&&o<r.length;o++)e=(0|r.words[o])+n,this.words[o]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},n.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},n.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,i,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=t):(r=t,i=this);for(var o=0,s=0;s<i.length;s++)o=(e=(0|r.words[s])-(0|i.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,r){var i,n,o,s=t.words,a=e.words,h=r.words,u=0,l=0|s[0],f=8191&l,c=l>>>13,d=0|s[1],m=8191&d,p=d>>>13,g=0|s[2],v=8191&g,y=g>>>13,w=0|s[3],b=8191&w,M=w>>>13,E=0|s[4],_=8191&E,N=E>>>13,A=0|s[5],S=8191&A,R=A>>>13,I=0|s[6],x=8191&I,k=I>>>13,O=0|s[7],T=8191&O,P=O>>>13,C=0|s[8],U=8191&C,F=C>>>13,B=0|s[9],D=8191&B,L=B>>>13,$=0|a[0],j=8191&$,z=$>>>13,q=0|a[1],G=8191&q,V=q>>>13,K=0|a[2],Z=8191&K,H=K>>>13,W=0|a[3],J=8191&W,X=W>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,it=et>>>13,nt=0|a[6],ot=8191&nt,st=nt>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ft=8191&lt,ct=lt>>>13,dt=0|a[9],mt=8191&dt,pt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(u+(i=Math.imul(f,j))|0)+((8191&(n=(n=Math.imul(f,z))+Math.imul(c,j)|0))<<13)|0;u=((o=Math.imul(c,z))+(n>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(m,j),n=(n=Math.imul(m,z))+Math.imul(p,j)|0,o=Math.imul(p,z);var vt=(u+(i=i+Math.imul(f,G)|0)|0)+((8191&(n=(n=n+Math.imul(f,V)|0)+Math.imul(c,G)|0))<<13)|0;u=((o=o+Math.imul(c,V)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(v,j),n=(n=Math.imul(v,z))+Math.imul(y,j)|0,o=Math.imul(y,z),i=i+Math.imul(m,G)|0,n=(n=n+Math.imul(m,V)|0)+Math.imul(p,G)|0,o=o+Math.imul(p,V)|0;var yt=(u+(i=i+Math.imul(f,Z)|0)|0)+((8191&(n=(n=n+Math.imul(f,H)|0)+Math.imul(c,Z)|0))<<13)|0;u=((o=o+Math.imul(c,H)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(b,j),n=(n=Math.imul(b,z))+Math.imul(M,j)|0,o=Math.imul(M,z),i=i+Math.imul(v,G)|0,n=(n=n+Math.imul(v,V)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,V)|0,i=i+Math.imul(m,Z)|0,n=(n=n+Math.imul(m,H)|0)+Math.imul(p,Z)|0,o=o+Math.imul(p,H)|0;var wt=(u+(i=i+Math.imul(f,J)|0)|0)+((8191&(n=(n=n+Math.imul(f,X)|0)+Math.imul(c,J)|0))<<13)|0;u=((o=o+Math.imul(c,X)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(_,j),n=(n=Math.imul(_,z))+Math.imul(N,j)|0,o=Math.imul(N,z),i=i+Math.imul(b,G)|0,n=(n=n+Math.imul(b,V)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,V)|0,i=i+Math.imul(v,Z)|0,n=(n=n+Math.imul(v,H)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,H)|0,i=i+Math.imul(m,J)|0,n=(n=n+Math.imul(m,X)|0)+Math.imul(p,J)|0,o=o+Math.imul(p,X)|0;var bt=(u+(i=i+Math.imul(f,Q)|0)|0)+((8191&(n=(n=n+Math.imul(f,tt)|0)+Math.imul(c,Q)|0))<<13)|0;u=((o=o+Math.imul(c,tt)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(S,j),n=(n=Math.imul(S,z))+Math.imul(R,j)|0,o=Math.imul(R,z),i=i+Math.imul(_,G)|0,n=(n=n+Math.imul(_,V)|0)+Math.imul(N,G)|0,o=o+Math.imul(N,V)|0,i=i+Math.imul(b,Z)|0,n=(n=n+Math.imul(b,H)|0)+Math.imul(M,Z)|0,o=o+Math.imul(M,H)|0,i=i+Math.imul(v,J)|0,n=(n=n+Math.imul(v,X)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,X)|0,i=i+Math.imul(m,Q)|0,n=(n=n+Math.imul(m,tt)|0)+Math.imul(p,Q)|0,o=o+Math.imul(p,tt)|0;var Mt=(u+(i=i+Math.imul(f,rt)|0)|0)+((8191&(n=(n=n+Math.imul(f,it)|0)+Math.imul(c,rt)|0))<<13)|0;u=((o=o+Math.imul(c,it)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(x,j),n=(n=Math.imul(x,z))+Math.imul(k,j)|0,o=Math.imul(k,z),i=i+Math.imul(S,G)|0,n=(n=n+Math.imul(S,V)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,V)|0,i=i+Math.imul(_,Z)|0,n=(n=n+Math.imul(_,H)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,H)|0,i=i+Math.imul(b,J)|0,n=(n=n+Math.imul(b,X)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,X)|0,i=i+Math.imul(v,Q)|0,n=(n=n+Math.imul(v,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,i=i+Math.imul(m,rt)|0,n=(n=n+Math.imul(m,it)|0)+Math.imul(p,rt)|0,o=o+Math.imul(p,it)|0;var Et=(u+(i=i+Math.imul(f,ot)|0)|0)+((8191&(n=(n=n+Math.imul(f,st)|0)+Math.imul(c,ot)|0))<<13)|0;u=((o=o+Math.imul(c,st)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(T,j),n=(n=Math.imul(T,z))+Math.imul(P,j)|0,o=Math.imul(P,z),i=i+Math.imul(x,G)|0,n=(n=n+Math.imul(x,V)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,V)|0,i=i+Math.imul(S,Z)|0,n=(n=n+Math.imul(S,H)|0)+Math.imul(R,Z)|0,o=o+Math.imul(R,H)|0,i=i+Math.imul(_,J)|0,n=(n=n+Math.imul(_,X)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,X)|0,i=i+Math.imul(b,Q)|0,n=(n=n+Math.imul(b,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,i=i+Math.imul(v,rt)|0,n=(n=n+Math.imul(v,it)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,it)|0,i=i+Math.imul(m,ot)|0,n=(n=n+Math.imul(m,st)|0)+Math.imul(p,ot)|0,o=o+Math.imul(p,st)|0;var _t=(u+(i=i+Math.imul(f,ht)|0)|0)+((8191&(n=(n=n+Math.imul(f,ut)|0)+Math.imul(c,ht)|0))<<13)|0;u=((o=o+Math.imul(c,ut)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(U,j),n=(n=Math.imul(U,z))+Math.imul(F,j)|0,o=Math.imul(F,z),i=i+Math.imul(T,G)|0,n=(n=n+Math.imul(T,V)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,V)|0,i=i+Math.imul(x,Z)|0,n=(n=n+Math.imul(x,H)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,H)|0,i=i+Math.imul(S,J)|0,n=(n=n+Math.imul(S,X)|0)+Math.imul(R,J)|0,o=o+Math.imul(R,X)|0,i=i+Math.imul(_,Q)|0,n=(n=n+Math.imul(_,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,i=i+Math.imul(b,rt)|0,n=(n=n+Math.imul(b,it)|0)+Math.imul(M,rt)|0,o=o+Math.imul(M,it)|0,i=i+Math.imul(v,ot)|0,n=(n=n+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,i=i+Math.imul(m,ht)|0,n=(n=n+Math.imul(m,ut)|0)+Math.imul(p,ht)|0,o=o+Math.imul(p,ut)|0;var Nt=(u+(i=i+Math.imul(f,ft)|0)|0)+((8191&(n=(n=n+Math.imul(f,ct)|0)+Math.imul(c,ft)|0))<<13)|0;u=((o=o+Math.imul(c,ct)|0)+(n>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,i=Math.imul(D,j),n=(n=Math.imul(D,z))+Math.imul(L,j)|0,o=Math.imul(L,z),i=i+Math.imul(U,G)|0,n=(n=n+Math.imul(U,V)|0)+Math.imul(F,G)|0,o=o+Math.imul(F,V)|0,i=i+Math.imul(T,Z)|0,n=(n=n+Math.imul(T,H)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,H)|0,i=i+Math.imul(x,J)|0,n=(n=n+Math.imul(x,X)|0)+Math.imul(k,J)|0,o=o+Math.imul(k,X)|0,i=i+Math.imul(S,Q)|0,n=(n=n+Math.imul(S,tt)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,tt)|0,i=i+Math.imul(_,rt)|0,n=(n=n+Math.imul(_,it)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,it)|0,i=i+Math.imul(b,ot)|0,n=(n=n+Math.imul(b,st)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,st)|0,i=i+Math.imul(v,ht)|0,n=(n=n+Math.imul(v,ut)|0)+Math.imul(y,ht)|0,o=o+Math.imul(y,ut)|0,i=i+Math.imul(m,ft)|0,n=(n=n+Math.imul(m,ct)|0)+Math.imul(p,ft)|0,o=o+Math.imul(p,ct)|0;var At=(u+(i=i+Math.imul(f,mt)|0)|0)+((8191&(n=(n=n+Math.imul(f,pt)|0)+Math.imul(c,mt)|0))<<13)|0;u=((o=o+Math.imul(c,pt)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(D,G),n=(n=Math.imul(D,V))+Math.imul(L,G)|0,o=Math.imul(L,V),i=i+Math.imul(U,Z)|0,n=(n=n+Math.imul(U,H)|0)+Math.imul(F,Z)|0,o=o+Math.imul(F,H)|0,i=i+Math.imul(T,J)|0,n=(n=n+Math.imul(T,X)|0)+Math.imul(P,J)|0,o=o+Math.imul(P,X)|0,i=i+Math.imul(x,Q)|0,n=(n=n+Math.imul(x,tt)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,tt)|0,i=i+Math.imul(S,rt)|0,n=(n=n+Math.imul(S,it)|0)+Math.imul(R,rt)|0,o=o+Math.imul(R,it)|0,i=i+Math.imul(_,ot)|0,n=(n=n+Math.imul(_,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,i=i+Math.imul(b,ht)|0,n=(n=n+Math.imul(b,ut)|0)+Math.imul(M,ht)|0,o=o+Math.imul(M,ut)|0,i=i+Math.imul(v,ft)|0,n=(n=n+Math.imul(v,ct)|0)+Math.imul(y,ft)|0,o=o+Math.imul(y,ct)|0;var St=(u+(i=i+Math.imul(m,mt)|0)|0)+((8191&(n=(n=n+Math.imul(m,pt)|0)+Math.imul(p,mt)|0))<<13)|0;u=((o=o+Math.imul(p,pt)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(D,Z),n=(n=Math.imul(D,H))+Math.imul(L,Z)|0,o=Math.imul(L,H),i=i+Math.imul(U,J)|0,n=(n=n+Math.imul(U,X)|0)+Math.imul(F,J)|0,o=o+Math.imul(F,X)|0,i=i+Math.imul(T,Q)|0,n=(n=n+Math.imul(T,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,i=i+Math.imul(x,rt)|0,n=(n=n+Math.imul(x,it)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,it)|0,i=i+Math.imul(S,ot)|0,n=(n=n+Math.imul(S,st)|0)+Math.imul(R,ot)|0,o=o+Math.imul(R,st)|0,i=i+Math.imul(_,ht)|0,n=(n=n+Math.imul(_,ut)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,ut)|0,i=i+Math.imul(b,ft)|0,n=(n=n+Math.imul(b,ct)|0)+Math.imul(M,ft)|0,o=o+Math.imul(M,ct)|0;var Rt=(u+(i=i+Math.imul(v,mt)|0)|0)+((8191&(n=(n=n+Math.imul(v,pt)|0)+Math.imul(y,mt)|0))<<13)|0;u=((o=o+Math.imul(y,pt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(D,J),n=(n=Math.imul(D,X))+Math.imul(L,J)|0,o=Math.imul(L,X),i=i+Math.imul(U,Q)|0,n=(n=n+Math.imul(U,tt)|0)+Math.imul(F,Q)|0,o=o+Math.imul(F,tt)|0,i=i+Math.imul(T,rt)|0,n=(n=n+Math.imul(T,it)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,it)|0,i=i+Math.imul(x,ot)|0,n=(n=n+Math.imul(x,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,i=i+Math.imul(S,ht)|0,n=(n=n+Math.imul(S,ut)|0)+Math.imul(R,ht)|0,o=o+Math.imul(R,ut)|0,i=i+Math.imul(_,ft)|0,n=(n=n+Math.imul(_,ct)|0)+Math.imul(N,ft)|0,o=o+Math.imul(N,ct)|0;var It=(u+(i=i+Math.imul(b,mt)|0)|0)+((8191&(n=(n=n+Math.imul(b,pt)|0)+Math.imul(M,mt)|0))<<13)|0;u=((o=o+Math.imul(M,pt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(D,Q),n=(n=Math.imul(D,tt))+Math.imul(L,Q)|0,o=Math.imul(L,tt),i=i+Math.imul(U,rt)|0,n=(n=n+Math.imul(U,it)|0)+Math.imul(F,rt)|0,o=o+Math.imul(F,it)|0,i=i+Math.imul(T,ot)|0,n=(n=n+Math.imul(T,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,i=i+Math.imul(x,ht)|0,n=(n=n+Math.imul(x,ut)|0)+Math.imul(k,ht)|0,o=o+Math.imul(k,ut)|0,i=i+Math.imul(S,ft)|0,n=(n=n+Math.imul(S,ct)|0)+Math.imul(R,ft)|0,o=o+Math.imul(R,ct)|0;var xt=(u+(i=i+Math.imul(_,mt)|0)|0)+((8191&(n=(n=n+Math.imul(_,pt)|0)+Math.imul(N,mt)|0))<<13)|0;u=((o=o+Math.imul(N,pt)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(D,rt),n=(n=Math.imul(D,it))+Math.imul(L,rt)|0,o=Math.imul(L,it),i=i+Math.imul(U,ot)|0,n=(n=n+Math.imul(U,st)|0)+Math.imul(F,ot)|0,o=o+Math.imul(F,st)|0,i=i+Math.imul(T,ht)|0,n=(n=n+Math.imul(T,ut)|0)+Math.imul(P,ht)|0,o=o+Math.imul(P,ut)|0,i=i+Math.imul(x,ft)|0,n=(n=n+Math.imul(x,ct)|0)+Math.imul(k,ft)|0,o=o+Math.imul(k,ct)|0;var kt=(u+(i=i+Math.imul(S,mt)|0)|0)+((8191&(n=(n=n+Math.imul(S,pt)|0)+Math.imul(R,mt)|0))<<13)|0;u=((o=o+Math.imul(R,pt)|0)+(n>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(D,ot),n=(n=Math.imul(D,st))+Math.imul(L,ot)|0,o=Math.imul(L,st),i=i+Math.imul(U,ht)|0,n=(n=n+Math.imul(U,ut)|0)+Math.imul(F,ht)|0,o=o+Math.imul(F,ut)|0,i=i+Math.imul(T,ft)|0,n=(n=n+Math.imul(T,ct)|0)+Math.imul(P,ft)|0,o=o+Math.imul(P,ct)|0;var Ot=(u+(i=i+Math.imul(x,mt)|0)|0)+((8191&(n=(n=n+Math.imul(x,pt)|0)+Math.imul(k,mt)|0))<<13)|0;u=((o=o+Math.imul(k,pt)|0)+(n>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,i=Math.imul(D,ht),n=(n=Math.imul(D,ut))+Math.imul(L,ht)|0,o=Math.imul(L,ut),i=i+Math.imul(U,ft)|0,n=(n=n+Math.imul(U,ct)|0)+Math.imul(F,ft)|0,o=o+Math.imul(F,ct)|0;var Tt=(u+(i=i+Math.imul(T,mt)|0)|0)+((8191&(n=(n=n+Math.imul(T,pt)|0)+Math.imul(P,mt)|0))<<13)|0;u=((o=o+Math.imul(P,pt)|0)+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(D,ft),n=(n=Math.imul(D,ct))+Math.imul(L,ft)|0,o=Math.imul(L,ct);var Pt=(u+(i=i+Math.imul(U,mt)|0)|0)+((8191&(n=(n=n+Math.imul(U,pt)|0)+Math.imul(F,mt)|0))<<13)|0;u=((o=o+Math.imul(F,pt)|0)+(n>>>13)|0)+(Pt>>>26)|0,Pt&=67108863;var Ct=(u+(i=Math.imul(D,mt))|0)+((8191&(n=(n=Math.imul(D,pt))+Math.imul(L,mt)|0))<<13)|0;return u=((o=Math.imul(L,pt))+(n>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,h[0]=gt,h[1]=vt,h[2]=yt,h[3]=wt,h[4]=bt,h[5]=Mt,h[6]=Et,h[7]=_t,h[8]=Nt,h[9]=At,h[10]=St,h[11]=Rt,h[12]=It,h[13]=xt,h[14]=kt,h[15]=Ot,h[16]=Tt,h[17]=Pt,h[18]=Ct,0!==u&&(h[19]=u,r.length++),r};function m(t,e,r){return(new p).mulp(t,e,r)}function p(t,e){this.x=t,this.y=e}Math.imul||(d=c),n.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?d(this,t,e):r<63?c(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,o=0;o<r.length-1;o++){var s=n;n=0;for(var a=67108863&i,h=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=h;u++){var l=o-u,f=(0|t.words[l])*(0|e.words[u]),c=67108863&f;a=67108863&(c=c+a|0),n+=(s=(s=s+(f/67108864|0)|0)+(c>>>26)|0)>>>26,s&=67108863}r.words[o]=a,i=s,s=n}return 0!==i?r.words[o]=i:r.length--,r.strip()}(this,t,e):m(this,t,e)},p.prototype.makeRBT=function(t){for(var e=new Array(t),r=n.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},p.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var i=0,n=0;n<e;n++)i|=(1&t)<<e-n-1,t>>=1;return i},p.prototype.permute=function(t,e,r,i,n,o){for(var s=0;s<o;s++)i[s]=e[t[s]],n[s]=r[t[s]]},p.prototype.transform=function(t,e,r,i,n,o){this.permute(o,t,e,r,i,n);for(var s=1;s<n;s<<=1)for(var a=s<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<n;l+=a)for(var f=h,c=u,d=0;d<s;d++){var m=r[l+d],p=i[l+d],g=r[l+d+s],v=i[l+d+s],y=f*g-c*v;v=f*v+c*g,g=y,r[l+d]=m+g,i[l+d]=p+v,r[l+d+s]=m-g,i[l+d+s]=p-v,d!==a&&(y=h*f-u*c,c=h*c+u*f,f=y)}},p.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},p.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},p.prototype.normalize13b=function(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=67108863&n,r=n<67108864?0:n/67108864|0}return t},p.prototype.convert13b=function(t,e,i,n){for(var o=0,s=0;s<e;s++)o+=0|t[s],i[2*s]=8191&o,o>>>=13,i[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<n;++s)i[s]=0;r(0===o),r(0==(-8192&o))},p.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},p.prototype.mulp=function(t,e,r){var i=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(i),o=this.stub(i),s=new Array(i),a=new Array(i),h=new Array(i),u=new Array(i),l=new Array(i),f=new Array(i),c=r.words;c.length=i,this.convert13b(t.words,t.length,s,i),this.convert13b(e.words,e.length,u,i),this.transform(s,o,a,h,i,n),this.transform(u,o,l,f,i,n);for(var d=0;d<i;d++){var m=a[d]*l[d]-h[d]*f[d];h[d]=a[d]*f[d]+h[d]*l[d],a[d]=m}return this.conjugate(a,h,i),this.transform(a,h,c,o,i,n),this.conjugate(c,o,i),this.normalize13b(c,i),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},n.prototype.mul=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},n.prototype.mulf=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),m(this,t,e)},n.prototype.imul=function(t){return this.clone().mulTo(t,this)},n.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,i=0;i<this.length;i++){var n=(0|this.words[i])*t,o=(67108863&n)+(67108863&e);e>>=26,e+=n/67108864|0,e+=o>>>26,this.words[i]=67108863&o}return 0!==e&&(this.words[i]=e,this.length++),this},n.prototype.muln=function(t){return this.clone().imuln(t)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=(t.words[i]&1<<n)>>>n}return e}(t);if(0===e.length)return new n(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var o=r.sqr();i<e.length;i++,o=o.sqr())0!==e[i]&&(r=r.mul(o));return r},n.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,i=t%26,n=(t-i)/26,o=67108863>>>26-i<<26-i;if(0!==i){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,h=(0|this.words[e])-a<<i;this.words[e]=h|s,s=a>>>26-i}s&&(this.words[e]=s,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this.strip()},n.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},n.prototype.iushrn=function(t,e,i){var n;r("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,h=i;if(n-=s,n=Math.max(0,n),h){for(var u=0;u<s;u++)h.words[u]=this.words[u];h.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=n);u--){var f=0|this.words[u];this.words[u]=l<<26-o|f>>>o,l=f&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(t,e,i){return r(0===this.negative),this.iushrn(t,e,i)},n.prototype.shln=function(t){return this.clone().ishln(t)},n.prototype.ushln=function(t){return this.clone().iushln(t)},n.prototype.shrn=function(t){return this.clone().ishrn(t)},n.prototype.ushrn=function(t){return this.clone().iushrn(t)},n.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26,n=1<<e;return!(this.length<=i)&&!!(this.words[i]&n)},n.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this.strip()},n.prototype.maskn=function(t){return this.clone().imaskn(t)},n.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},n.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},n.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},n.prototype.addn=function(t){return this.clone().iaddn(t)},n.prototype.subn=function(t){return this.clone().isubn(t)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(t,e,i){var n,o,s=t.length+i;this._expand(s);var a=0;for(n=0;n<t.length;n++){o=(0|this.words[n+i])+a;var h=(0|t.words[n])*e;a=((o-=67108863&h)>>26)-(h/67108864|0),this.words[n+i]=67108863&o}for(;n<this.length-i;n++)a=(o=(0|this.words[n+i])+a)>>26,this.words[n+i]=67108863&o;if(0===a)return this.strip();for(r(-1===a),a=0,n=0;n<this.length;n++)a=(o=-(0|this.words[n])+a)>>26,this.words[n]=67108863&o;return this.negative=1,this.strip()},n.prototype._wordDiv=function(t,e){var r=(this.length,t.length),i=this.clone(),o=t,s=0|o.words[o.length-1];0!==(r=26-this._countBits(s))&&(o=o.ushln(r),i.iushln(r),s=0|o.words[o.length-1]);var a,h=i.length-o.length;if("mod"!==e){(a=new n(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=i.clone()._ishlnsubmul(o,1,h);0===l.negative&&(i=l,a&&(a.words[h]=1));for(var f=h-1;f>=0;f--){var c=67108864*(0|i.words[o.length+f])+(0|i.words[o.length+f-1]);for(c=Math.min(c/s|0,67108863),i._ishlnsubmul(o,c,f);0!==i.negative;)c--,i.negative=0,i._ishlnsubmul(o,1,f),i.isZero()||(i.negative^=1);a&&(a.words[f]=c)}return a&&a.strip(),i.strip(),"div"!==e&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},n.prototype.divmod=function(t,e,i){return r(!t.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(o=a.div.neg()),"div"!==e&&(s=a.mod.neg(),i&&0!==s.negative&&s.iadd(t)),{div:o,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(o=a.div.neg()),{div:o,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),i&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new n(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new n(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new n(this.modn(t.words[0]))}:this._wordDiv(t,e);var o,s,a},n.prototype.div=function(t){return this.divmod(t,"div",!1).div},n.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},n.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},n.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),o=r.cmp(i);return o<0||1===n&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},n.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,i=0,n=this.length-1;n>=0;n--)i=(e*i+(0|this.words[n]))%t;return i},n.prototype.idivn=function(t){r(t<=67108863);for(var e=0,i=this.length-1;i>=0;i--){var n=(0|this.words[i])+67108864*e;this.words[i]=n/t|0,e=n%t}return this.strip()},n.prototype.divn=function(t){return this.clone().idivn(t)},n.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new n(1),s=new n(0),a=new n(0),h=new n(1),u=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++u;for(var l=i.clone(),f=e.clone();!e.isZero();){for(var c=0,d=1;0==(e.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(e.iushrn(c);c-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(l),s.isub(f)),o.iushrn(1),s.iushrn(1);for(var m=0,p=1;0==(i.words[0]&p)&&m<26;++m,p<<=1);if(m>0)for(i.iushrn(m);m-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(f)),a.iushrn(1),h.iushrn(1);e.cmp(i)>=0?(e.isub(i),o.isub(a),s.isub(h)):(i.isub(e),a.isub(o),h.isub(s))}return{a:a,b:h,gcd:i.iushln(u)}},n.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,s=new n(1),a=new n(0),h=i.clone();e.cmpn(1)>0&&i.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var f=0,c=1;0==(i.words[0]&c)&&f<26;++f,c<<=1);if(f>0)for(i.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(i)>=0?(e.isub(i),s.isub(a)):(i.isub(e),a.isub(s))}return(o=0===e.cmpn(1)?s:a).cmpn(0)<0&&o.iadd(t),o},n.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var o=e;e=r,r=o}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},n.prototype.invm=function(t){return this.egcd(t).a.umod(t)},n.prototype.isEven=function(){return 0==(1&this.words[0])},n.prototype.isOdd=function(){return 1==(1&this.words[0])},n.prototype.andln=function(t){return this.words[0]&t},n.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,i=(t-e)/26,n=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var o=n,s=i;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(t){var e,i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)e=1;else{i&&(t=-t),r(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},n.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},n.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},n.prototype.gtn=function(t){return 1===this.cmpn(t)},n.prototype.gt=function(t){return 1===this.cmp(t)},n.prototype.gten=function(t){return this.cmpn(t)>=0},n.prototype.gte=function(t){return this.cmp(t)>=0},n.prototype.ltn=function(t){return-1===this.cmpn(t)},n.prototype.lt=function(t){return-1===this.cmp(t)},n.prototype.lten=function(t){return this.cmpn(t)<=0},n.prototype.lte=function(t){return this.cmp(t)<=0},n.prototype.eqn=function(t){return 0===this.cmpn(t)},n.prototype.eq=function(t){return 0===this.cmp(t)},n.red=function(t){return new E(t)},n.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(t){return this.red=t,this},n.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},n.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},n.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},n.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},n.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},n.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},n.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},n.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new n(e,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(t){if("string"==typeof t){var e=n._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function _(t){E.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new n(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},i(y,v),y.prototype.split=function(t,e){for(var r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var n=t.words[9];for(e.words[e.length++]=4194303&n,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(4194303&o)<<4|n>>>22,n=o}n>>>=22,t.words[i-10]=n,0===n&&t.length>10?t.length-=10:t.length-=9},y.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,v),i(b,v),i(M,v),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=19*(0|t.words[r])+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},n._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new y;else if("p224"===t)e=new w;else if("p192"===t)e=new b;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return g[t]=e,e},E.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},E.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},E.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},E.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},E.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},E.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},E.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},E.prototype.isqr=function(t){return this.imul(t,t.clone())},E.prototype.sqr=function(t){return this.mul(t,t)},E.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var i=this.m.add(new n(1)).iushrn(2);return this.pow(t,i)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new n(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new n(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var f=this.pow(l,o),c=this.pow(t,o.addn(1).iushrn(1)),d=this.pow(t,o),m=s;0!==d.cmp(a);){for(var p=d,g=0;0!==p.cmp(a);g++)p=p.redSqr();r(g<m);var v=this.pow(f,new n(1).iushln(m-g-1));c=c.redMul(v),f=v.redSqr(),d=d.redMul(f),m=g}return c},E.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},E.prototype.pow=function(t,e){if(e.isZero())return new n(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new n(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var o=r[0],s=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),i=e.length-1;i>=0;i--){for(var u=e.words[i],l=h-1;l>=0;l--){var f=u>>l&1;o!==r[0]&&(o=this.sqr(o)),0!==f||0!==s?(s<<=1,s|=f,(4===++a||0===i&&0===l)&&(o=this.mul(o,r[s]),a=0,s=0)):a=0}h=26}return o},E.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},E.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},n.mont=function(t){return new _(t)},i(_,E),_.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},_.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},_.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},_.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new n(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(i).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},_.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,n)}));let Sn=!1,Rn=!1;const In={debug:1,default:2,info:2,warning:3,error:4,off:5};let xn=In.default,kn=null;const On=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var Tn,Pn;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(Tn||(Tn={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(Pn||(Pn={}));class Cn{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==In[r]&&this.throwArgumentError("invalid log level name","logLevel",t),xn>In[r]||console.log.apply(console,e)}debug(...t){this._log(Cn.levels.DEBUG,t)}info(...t){this._log(Cn.levels.INFO,t)}warn(...t){this._log(Cn.levels.WARNING,t)}makeError(t,e,r){if(Rn)return this.makeError("censored error",e,{});e||(e=Cn.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(t=>{try{i.push(t+"="+JSON.stringify(r[t]))}catch(e){i.push(t+"="+JSON.stringify(r[t].toString()))}}),i.push("code="+e),i.push("version="+this.version);const n=t;i.length&&(t+=" ("+i.join(", ")+")");const o=new Error(t);return o.reason=n,o.code=e,Object.keys(r).forEach((function(t){o[t]=r[t]})),o}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,Cn.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,i){t||this.throwError(e,r,i)}assertArgument(t,e,r,i){t||this.throwArgumentError(e,r,i)}checkNormalize(t){On&&this.throwError("platform missing String.prototype.normalize",Cn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:On})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,Cn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,Cn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,Cn.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,Cn.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",Cn.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",Cn.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",Cn.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return kn||(kn=new Cn("logger/5.3.0")),kn}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",Cn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Sn){if(!t)return;this.globalLogger().throwError("error censorship permanent",Cn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Rn=!!t,Sn=!!e}static setLogLevel(t){const e=In[t.toLowerCase()];null!=e?xn=e:Cn.globalLogger().warn("invalid log level - "+t)}static from(t){return new Cn(t)}}Cn.errors=Pn,Cn.levels=Tn;const Un=new Cn("bytes/5.3.0");function Fn(t){return!!t.toHexString}function Bn(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Bn(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Dn(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(null==t.length)return!1;for(let e=0;e<t.length;e++){const r=t[e];if("number"!=typeof r||r<0||r>=256||r%1)return!1}return!0}function Ln(t,e){if(e||(e={}),"number"==typeof t){Un.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),Bn(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Fn(t)&&(t=t.toHexString()),jn(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0x0"+r.substring(2):"right"===e.hexPad?r+="0":Un.throwArgumentError("hex data is odd-length","value",t));const i=[];for(let t=0;t<r.length;t+=2)i.push(parseInt(r.substring(t,t+2),16));return Bn(new Uint8Array(i))}return Dn(t)?Bn(new Uint8Array(t)):Un.throwArgumentError("invalid arrayify value","value",t)}function $n(t){const e=t.map(t=>Ln(t)),r=e.reduce((t,e)=>t+e.length,0),i=new Uint8Array(r);return e.reduce((t,e)=>(i.set(e,t),t+e.length),0),Bn(i)}function jn(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}function zn(t,e){if(e||(e={}),"number"==typeof t){Un.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e="0123456789abcdef"[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Fn(t))return t.toHexString();if(jn(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":Un.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Dn(t)){let e="0x";for(let r=0;r<t.length;r++){let i=t[r];e+="0123456789abcdef"[(240&i)>>4]+"0123456789abcdef"[15&i]}return e}return Un.throwArgumentError("invalid hexlify value","value",t)}function qn(t,e){for("string"!=typeof t?t=zn(t):jn(t)||Un.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Un.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}var Gn=An.BN;const Vn=new Cn("bignumber/5.3.0"),Kn={};let Zn=!1;class Hn{constructor(t,e){Vn.checkNew(new.target,Hn),t!==Kn&&Vn.throwError("cannot call constructor directly; use BigNumber.from",Cn.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Jn(Xn(this).fromTwos(t))}toTwos(t){return Jn(Xn(this).toTwos(t))}abs(){return"-"===this._hex[0]?Hn.from(this._hex.substring(1)):this}add(t){return Jn(Xn(this).add(Xn(t)))}sub(t){return Jn(Xn(this).sub(Xn(t)))}div(t){return Hn.from(t).isZero()&&Yn("division by zero","div"),Jn(Xn(this).div(Xn(t)))}mul(t){return Jn(Xn(this).mul(Xn(t)))}mod(t){const e=Xn(t);return e.isNeg()&&Yn("cannot modulo negative values","mod"),Jn(Xn(this).umod(e))}pow(t){const e=Xn(t);return e.isNeg()&&Yn("cannot raise to negative values","pow"),Jn(Xn(this).pow(e))}and(t){const e=Xn(t);return(this.isNegative()||e.isNeg())&&Yn("cannot 'and' negative values","and"),Jn(Xn(this).and(e))}or(t){const e=Xn(t);return(this.isNegative()||e.isNeg())&&Yn("cannot 'or' negative values","or"),Jn(Xn(this).or(e))}xor(t){const e=Xn(t);return(this.isNegative()||e.isNeg())&&Yn("cannot 'xor' negative values","xor"),Jn(Xn(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&Yn("cannot mask negative values","mask"),Jn(Xn(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&Yn("cannot shift negative values","shl"),Jn(Xn(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&Yn("cannot shift negative values","shr"),Jn(Xn(this).shrn(t))}eq(t){return Xn(this).eq(Xn(t))}lt(t){return Xn(this).lt(Xn(t))}lte(t){return Xn(this).lte(Xn(t))}gt(t){return Xn(this).gt(Xn(t))}gte(t){return Xn(this).gte(Xn(t))}isNegative(){return"-"===this._hex[0]}isZero(){return Xn(this).isZero()}toNumber(){try{return Xn(this).toNumber()}catch(t){Yn("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return Vn.throwError("this platform does not support BigInt",Cn.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?Zn||(Zn=!0,Vn.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?Vn.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Cn.errors.UNEXPECTED_ARGUMENT,{}):Vn.throwError("BigNumber.toString does not accept parameters",Cn.errors.UNEXPECTED_ARGUMENT,{})),Xn(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof Hn)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new Hn(Kn,Wn(t)):t.match(/^-?[0-9]+$/)?new Hn(Kn,Wn(new Gn(t))):Vn.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&Yn("underflow","BigNumber.from",t),(t>=9007199254740991||t<=-9007199254740991)&&Yn("overflow","BigNumber.from",t),Hn.from(String(t));const e=t;if("bigint"==typeof e)return Hn.from(e.toString());if(Dn(e))return Hn.from(zn(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return Hn.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(jn(t)||"-"===t[0]&&jn(t.substring(1))))return Hn.from(t)}return Vn.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function Wn(t){if("string"!=typeof t)return Wn(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&Vn.throwArgumentError("invalid hex","value",t),"0x00"===(t=Wn(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function Jn(t){return Hn.from(Wn(t))}function Xn(t){const e=Hn.from(t).toHexString();return"-"===e[0]?new Gn("-"+e.substring(3),16):new Gn(e.substring(2),16)}function Yn(t,e,r){const i={fault:t,operation:e};return null!=r&&(i.value=r),Vn.throwError(t,Cn.errors.NUMERIC_FAULT,i)}window&&window.__awaiter;const Qn=new Cn("properties/5.3.0");function to(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function eo(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||"object"!=typeof t.prototype)break;t=Object.getPrototypeOf(t.prototype).constructor}return null}const ro={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function io(t){if(function t(e){if(null==e||ro[typeof e])return!0;if(Array.isArray(e)||"object"==typeof e){if(!Object.isFrozen(e))return!1;const r=Object.keys(e);for(let i=0;i<r.length;i++)if(!t(e[r[i]]))return!1;return!0}return Qn.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}(t))return t;if(Array.isArray(t))return Object.freeze(t.map(t=>no(t)));if("object"==typeof t){const e={};for(const r in t){const i=t[r];void 0!==i&&to(e,r,no(i))}return e}return Qn.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function no(t){return io(t)}class oo{constructor(t){for(const e in t)this[e]=no(t[e])}}const so=new Cn("abi/5.3.1"),ao={};let ho={calldata:!0,memory:!0,storage:!0},uo={calldata:!0,memory:!0};function lo(t,e){if("bytes"===t||"string"===t){if(ho[e])return!0}else if("address"===t){if("payable"===e)return!0}else if((t.indexOf("[")>=0||"tuple"===t)&&uo[e])return!0;return(ho[e]||"payable"===e)&&so.throwArgumentError("invalid modifier","name",e),!1}function fo(t,e){for(let r in e)to(t,r,e[r])}const co=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),mo=new RegExp(/^(.*)\[([0-9]*)\]$/);class po{constructor(t,e){t!==ao&&so.throwError("use fromString",Cn.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),fo(this,e);let r=this.type.match(mo);fo(this,r?{arrayLength:parseInt(r[2]||"-1"),arrayChildren:po.fromObject({type:r[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(t){if(t||(t=co.sighash),co[t]||so.throwArgumentError("invalid format type","format",t),t===co.json){let e={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(e.indexed=this.indexed),this.components&&(e.components=this.components.map(e=>JSON.parse(e.format(t)))),JSON.stringify(e)}let e="";return"array"===this.baseType?(e+=this.arrayChildren.format(t),e+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(t!==co.sighash&&(e+=this.type),e+="("+this.components.map(e=>e.format(t)).join(t===co.full?", ":",")+")"):e+=this.type,t!==co.sighash&&(!0===this.indexed&&(e+=" indexed"),t===co.full&&this.name&&(e+=" "+this.name)),e}static from(t,e){return"string"==typeof t?po.fromString(t,e):po.fromObject(t)}static fromObject(t){return po.isParamType(t)?t:new po(ao,{name:t.name||null,type:So(t.type),indexed:null==t.indexed?null:!!t.indexed,components:t.components?t.components.map(po.fromObject):null})}static fromString(t,e){return r=function(t,e){let r=t;function i(e){so.throwArgumentError("unexpected character at position "+e,"param",t)}function n(t){let r={type:"",name:"",parent:t,state:{allowType:!0}};return e&&(r.indexed=!1),r}t=t.replace(/\s/g," ");let o={type:"",name:"",state:{allowType:!0}},s=o;for(let r=0;r<t.length;r++){let o=t[r];switch(o){case"(":s.state.allowType&&""===s.type?s.type="tuple":s.state.allowParams||i(r),s.state.allowType=!1,s.type=So(s.type),s.components=[n(s)],s=s.components[0];break;case")":delete s.state,"indexed"===s.name&&(e||i(r),s.indexed=!0,s.name=""),lo(s.type,s.name)&&(s.name=""),s.type=So(s.type);let t=s;s=s.parent,s||i(r),delete t.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,"indexed"===s.name&&(e||i(r),s.indexed=!0,s.name=""),lo(s.type,s.name)&&(s.name=""),s.type=So(s.type);let a=n(s.parent);s.parent.components.push(a),delete s.parent,s=a;break;case" ":s.state.allowType&&""!==s.type&&(s.type=So(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&""!==s.name&&("indexed"===s.name?(e||i(r),s.indexed&&i(r),s.indexed=!0,s.name=""):lo(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||i(r),s.type+=o,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||i(r),s.type+=o,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=o,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=o,delete s.state.allowArray):s.state.readArray?s.type+=o:i(r)}}return s.parent&&so.throwArgumentError("unexpected eof","param",t),delete o.state,"indexed"===s.name?(e||i(r.length-7),s.indexed&&i(r.length-7),s.indexed=!0,s.name=""):lo(s.type,s.name)&&(s.name=""),o.type=So(o.type),o}(t,!!e),po.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components});var r}static isParamType(t){return!(null==t||!t._isParamType)}}function go(t,e){return function(t){t=t.trim();let e=[],r="",i=0;for(let n=0;n<t.length;n++){let o=t[n];","===o&&0===i?(e.push(r),r=""):(r+=o,"("===o?i++:")"===o&&(i--,-1===i&&so.throwArgumentError("unbalanced parenthesis","value",t)))}r&&e.push(r);return e}(t).map(t=>po.fromString(t,e))}class vo{constructor(t,e){t!==ao&&so.throwError("use a static from method",Cn.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),fo(this,e),this._isFragment=!0,Object.freeze(this)}static from(t){return vo.isFragment(t)?t:"string"==typeof t?vo.fromString(t):vo.fromObject(t)}static fromObject(t){if(vo.isFragment(t))return t;switch(t.type){case"function":return _o.fromObject(t);case"event":return yo.fromObject(t);case"constructor":return Eo.fromObject(t);case"error":return Ao.fromObject(t);case"fallback":case"receive":return null}return so.throwArgumentError("invalid fragment object","value",t)}static fromString(t){return"event"===(t=(t=(t=t.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?yo.fromString(t.substring(5).trim()):"function"===t.split(" ")[0]?_o.fromString(t.substring(8).trim()):"constructor"===t.split("(")[0].trim()?Eo.fromString(t.trim()):"error"===t.split(" ")[0]?Ao.fromString(t.substring(5).trim()):so.throwArgumentError("unsupported fragment","value",t)}static isFragment(t){return!(!t||!t._isFragment)}}class yo extends vo{format(t){if(t||(t=co.sighash),co[t]||so.throwArgumentError("invalid format type","format",t),t===co.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(e=>JSON.parse(e.format(t)))});let e="";return t!==co.sighash&&(e+="event "),e+=this.name+"("+this.inputs.map(e=>e.format(t)).join(t===co.full?", ":",")+") ",t!==co.sighash&&this.anonymous&&(e+="anonymous "),e.trim()}static from(t){return"string"==typeof t?yo.fromString(t):yo.fromObject(t)}static fromObject(t){if(yo.isEventFragment(t))return t;"event"!==t.type&&so.throwArgumentError("invalid event object","value",t);const e={name:Io(t.name),anonymous:t.anonymous,inputs:t.inputs?t.inputs.map(po.fromObject):[],type:"event"};return new yo(ao,e)}static fromString(t){let e=t.match(xo);e||so.throwArgumentError("invalid event string","value",t);let r=!1;return e[3].split(" ").forEach(t=>{switch(t.trim()){case"anonymous":r=!0;break;case"":break;default:so.warn("unknown modifier: "+t)}}),yo.fromObject({name:e[1].trim(),anonymous:r,inputs:go(e[2],!0),type:"event"})}static isEventFragment(t){return t&&t._isFragment&&"event"===t.type}}function wo(t,e){e.gas=null;let r=t.split("@");return 1!==r.length?(r.length>2&&so.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||so.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=Hn.from(r[1]),r[0]):t}function bo(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}})}function Mo(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return null!=t.stateMutability?(e.stateMutability=t.stateMutability,e.constant="view"===e.stateMutability||"pure"===e.stateMutability,null!=t.constant&&!!t.constant!==e.constant&&so.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable="payable"===e.stateMutability,null!=t.payable&&!!t.payable!==e.payable&&so.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):null!=t.payable?(e.payable=!!t.payable,null!=t.constant||e.payable||"constructor"===t.type||so.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&so.throwArgumentError("cannot have constant payable function","value",t)):null!=t.constant?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):"constructor"!==t.type&&so.throwArgumentError("unable to determine stateMutability","value",t),e}class Eo extends vo{format(t){if(t||(t=co.sighash),co[t]||so.throwArgumentError("invalid format type","format",t),t===co.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(e=>JSON.parse(e.format(t)))});t===co.sighash&&so.throwError("cannot format a constructor for sighash",Cn.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let e="constructor("+this.inputs.map(e=>e.format(t)).join(t===co.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "),e.trim()}static from(t){return"string"==typeof t?Eo.fromString(t):Eo.fromObject(t)}static fromObject(t){if(Eo.isConstructorFragment(t))return t;"constructor"!==t.type&&so.throwArgumentError("invalid constructor object","value",t);let e=Mo(t);e.constant&&so.throwArgumentError("constructor cannot be constant","value",t);const r={name:null,type:t.type,inputs:t.inputs?t.inputs.map(po.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?Hn.from(t.gas):null};return new Eo(ao,r)}static fromString(t){let e={type:"constructor"},r=(t=wo(t,e)).match(xo);return r&&"constructor"===r[1].trim()||so.throwArgumentError("invalid constructor string","value",t),e.inputs=go(r[2].trim(),!1),bo(r[3].trim(),e),Eo.fromObject(e)}static isConstructorFragment(t){return t&&t._isFragment&&"constructor"===t.type}}class _o extends Eo{format(t){if(t||(t=co.sighash),co[t]||so.throwArgumentError("invalid format type","format",t),t===co.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(e=>JSON.parse(e.format(t))),outputs:this.outputs.map(e=>JSON.parse(e.format(t)))});let e="";return t!==co.sighash&&(e+="function "),e+=this.name+"("+this.inputs.map(e=>e.format(t)).join(t===co.full?", ":",")+") ",t!==co.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "):this.constant&&(e+="view "),this.outputs&&this.outputs.length&&(e+="returns ("+this.outputs.map(e=>e.format(t)).join(", ")+") "),null!=this.gas&&(e+="@"+this.gas.toString()+" ")),e.trim()}static from(t){return"string"==typeof t?_o.fromString(t):_o.fromObject(t)}static fromObject(t){if(_o.isFunctionFragment(t))return t;"function"!==t.type&&so.throwArgumentError("invalid function object","value",t);let e=Mo(t);const r={type:t.type,name:Io(t.name),constant:e.constant,inputs:t.inputs?t.inputs.map(po.fromObject):[],outputs:t.outputs?t.outputs.map(po.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?Hn.from(t.gas):null};return new _o(ao,r)}static fromString(t){let e={type:"function"},r=(t=wo(t,e)).split(" returns ");r.length>2&&so.throwArgumentError("invalid function string","value",t);let i=r[0].match(xo);if(i||so.throwArgumentError("invalid function signature","value",t),e.name=i[1].trim(),e.name&&Io(e.name),e.inputs=go(i[2],!1),bo(i[3].trim(),e),r.length>1){let i=r[1].match(xo);""==i[1].trim()&&""==i[3].trim()||so.throwArgumentError("unexpected tokens","value",t),e.outputs=go(i[2],!1)}else e.outputs=[];return _o.fromObject(e)}static isFunctionFragment(t){return t&&t._isFragment&&"function"===t.type}}function No(t){const e=t.format();return"Error(string)"!==e&&"Panic(uint256)"!==e||so.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class Ao extends vo{format(t){if(t||(t=co.sighash),co[t]||so.throwArgumentError("invalid format type","format",t),t===co.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(e=>JSON.parse(e.format(t)))});let e="";return t!==co.sighash&&(e+="error "),e+=this.name+"("+this.inputs.map(e=>e.format(t)).join(t===co.full?", ":",")+") ",e.trim()}static from(t){return"string"==typeof t?Ao.fromString(t):Ao.fromObject(t)}static fromObject(t){if(Ao.isErrorFragment(t))return t;"error"!==t.type&&so.throwArgumentError("invalid error object","value",t);const e={type:t.type,name:Io(t.name),inputs:t.inputs?t.inputs.map(po.fromObject):[]};return No(new Ao(ao,e))}static fromString(t){let e={type:"error"},r=t.match(xo);return r||so.throwArgumentError("invalid error signature","value",t),e.name=r[1].trim(),e.name&&Io(e.name),e.inputs=go(r[2],!1),No(Ao.fromObject(e))}static isErrorFragment(t){return t&&t._isFragment&&"error"===t.type}}function So(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const Ro=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Io(t){return t&&t.match(Ro)||so.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const xo=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");const ko=new Cn("abi/5.3.1");class Oo{constructor(t,e,r,i){this.name=t,this.type=e,this.localName=r,this.dynamic=i}_throwError(t,e){ko.throwArgumentError(t,this.localName,e)}}class To{constructor(t){to(this,"wordSize",t||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(t)}get data(){return function(t){let e="0x";return t.forEach(t=>{e+=zn(t).substring(2)}),e}(this._data)}get length(){return this._dataLength}_writeData(t){return this._data.push(t),this._dataLength+=t.length,t.length}appendWriter(t){return this._writeData($n(t._data))}writeBytes(t){let e=Ln(t);const r=e.length%this.wordSize;return r&&(e=$n([e,this._padding.slice(r)])),this._writeData(e)}_getValue(t){let e=Ln(Hn.from(t));return e.length>this.wordSize&&ko.throwError("value out-of-bounds",Cn.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:e.length}),e.length%this.wordSize&&(e=$n([this._padding.slice(e.length%this.wordSize),e])),e}writeValue(t){return this._writeData(this._getValue(t))}writeUpdatableValue(){const t=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,e=>{this._data[t]=this._getValue(e)}}}class Po{constructor(t,e,r,i){to(this,"_data",Ln(t)),to(this,"wordSize",e||32),to(this,"_coerceFunc",r),to(this,"allowLoose",i),this._offset=0}get data(){return zn(this._data)}get consumed(){return this._offset}static coerce(t,e){let r=t.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(e=e.toNumber()),e}coerce(t,e){return this._coerceFunc?this._coerceFunc(t,e):Po.coerce(t,e)}_peekBytes(t,e,r){let i=Math.ceil(e/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&r&&this._offset+e<=this._data.length?i=e:ko.throwError("data out-of-bounds",Cn.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(t){return new Po(this._data.slice(this._offset+t),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(t,e){let r=this._peekBytes(0,t,!!e);return this._offset+=r.length,r.slice(0,t)}readValue(){return Hn.from(this.readBytes(this.wordSize))}}let Co=!1,Uo=!1;const Fo={debug:1,default:2,info:2,warning:3,error:4,off:5};let Bo=Fo.default,Do=null;const Lo=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var $o,jo;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}($o||($o={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(jo||(jo={}));class zo{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Fo[r]&&this.throwArgumentError("invalid log level name","logLevel",t),Bo>Fo[r]||console.log.apply(console,e)}debug(...t){this._log(zo.levels.DEBUG,t)}info(...t){this._log(zo.levels.INFO,t)}warn(...t){this._log(zo.levels.WARNING,t)}makeError(t,e,r){if(Uo)return this.makeError("censored error",e,{});e||(e=zo.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(t=>{try{i.push(t+"="+JSON.stringify(r[t]))}catch(e){i.push(t+"="+JSON.stringify(r[t].toString()))}}),i.push("code="+e),i.push("version="+this.version);const n=t;i.length&&(t+=" ("+i.join(", ")+")");const o=new Error(t);return o.reason=n,o.code=e,Object.keys(r).forEach((function(t){o[t]=r[t]})),o}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,zo.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,i){t||this.throwError(e,r,i)}assertArgument(t,e,r,i){t||this.throwArgumentError(e,r,i)}checkNormalize(t){Lo&&this.throwError("platform missing String.prototype.normalize",zo.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Lo})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,zo.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,zo.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,zo.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,zo.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",zo.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",zo.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",zo.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Do||(Do=new zo("logger/5.3.0")),Do}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",zo.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Co){if(!t)return;this.globalLogger().throwError("error censorship permanent",zo.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Uo=!!t,Co=!!e}static setLogLevel(t){const e=Fo[t.toLowerCase()];null!=e?Bo=e:zo.globalLogger().warn("invalid log level - "+t)}static from(t){return new zo(t)}}zo.errors=jo,zo.levels=$o;const qo=new zo("bytes/5.3.0");function Go(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Go(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Vo(t,e){if(e||(e={}),"number"==typeof t){qo.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),Go(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),function(t){return!!t.toHexString}(t)&&(t=t.toHexString()),function(t,e){if("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))return!1;if(e&&t.length!==2+2*e)return!1;return!0}(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0x0"+r.substring(2):"right"===e.hexPad?r+="0":qo.throwArgumentError("hex data is odd-length","value",t));const i=[];for(let t=0;t<r.length;t+=2)i.push(parseInt(r.substring(t,t+2),16));return Go(new Uint8Array(i))}return function(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(null==t.length)return!1;for(let e=0;e<t.length;e++){const r=t[e];if("number"!=typeof r||r<0||r>=256||r%1)return!1}return!0}(t)?Go(new Uint8Array(t)):qo.throwArgumentError("invalid arrayify value","value",t)}function Ko(t){return"0x"+lr.keccak_256(Vo(t))}const Zo=new Cn("address/5.3.0");function Ho(t){jn(t,20)||Zo.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let t=0;t<40;t++)r[t]=e[t].charCodeAt(0);const i=Ln(Ko(r));for(let t=0;t<40;t+=2)i[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&i[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return"0x"+e.join("")}const Wo={};for(let t=0;t<10;t++)Wo[String(t)]=String(t);for(let t=0;t<26;t++)Wo[String.fromCharCode(65+t)]=String(10+t);const Jo=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function Xo(t){let e=null;if("string"!=typeof t&&Zo.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=Ho(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Zo.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==function(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map(t=>Wo[t]).join("");for(;e.length>=Jo;){let t=e.substring(0,Jo);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}(t)&&Zo.throwArgumentError("bad icap checksum","address",t),r=t.substring(4),e=new Gn(r,36).toString(16);e.length<40;)e="0"+e;e=Ho("0x"+e)}else Zo.throwArgumentError("invalid address","address",t);var r;return e}class Yo extends Oo{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){try{Xo(e)}catch(t){this._throwError(t.message,e)}return t.writeValue(e)}decode(t){return Xo(qn(t.readValue().toHexString(),20))}}class Qo extends Oo{constructor(t){super(t.name,t.type,void 0,t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,e){return this.coder.encode(t,e)}decode(t){return this.coder.decode(t)}}const ts=new Cn("abi/5.3.1");function es(t,e,r){let i=null;if(Array.isArray(r))i=r;else if(r&&"object"==typeof r){let t={};i=e.map(e=>{const i=e.localName;return i||ts.throwError("cannot encode object for signature with missing names",Cn.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),t[i]&&ts.throwError("cannot encode object for signature with duplicate names",Cn.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),t[i]=!0,r[i]})}else ts.throwArgumentError("invalid tuple value","tuple",r);e.length!==i.length&&ts.throwArgumentError("types/value length mismatch","tuple",r);let n=new To(t.wordSize),o=new To(t.wordSize),s=[];e.forEach((t,e)=>{let r=i[e];if(t.dynamic){let e=o.length;t.encode(o,r);let i=n.writeUpdatableValue();s.push(t=>{i(t+e)})}else t.encode(n,r)}),s.forEach(t=>{t(n.length)});let a=t.appendWriter(n);return a+=t.appendWriter(o),a}function rs(t,e){let r=[],i=t.subReader(0);e.forEach(e=>{let n=null;if(e.dynamic){let r=t.readValue(),o=i.subReader(r.toNumber());try{n=e.decode(o)}catch(t){if(t.code===Cn.errors.BUFFER_OVERRUN)throw t;n=t,n.baseType=e.name,n.name=e.localName,n.type=e.type}}else try{n=e.decode(t)}catch(t){if(t.code===Cn.errors.BUFFER_OVERRUN)throw t;n=t,n.baseType=e.name,n.name=e.localName,n.type=e.type}null!=n&&r.push(n)});const n=e.reduce((t,e)=>{const r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t},{});e.forEach((t,e)=>{let i=t.localName;if(!i||1!==n[i])return;if("length"===i&&(i="_length"),null!=r[i])return;const o=r[e];o instanceof Error?Object.defineProperty(r,i,{get:()=>{throw o}}):r[i]=o});for(let t=0;t<r.length;t++){const e=r[t];e instanceof Error&&Object.defineProperty(r,t,{get:()=>{throw e}})}return Object.freeze(r)}class is extends Oo{constructor(t,e,r){super("array",t.type+"["+(e>=0?e:"")+"]",r,-1===e||t.dynamic),this.coder=t,this.length=e}defaultValue(){const t=this.coder.defaultValue(),e=[];for(let r=0;r<this.length;r++)e.push(t);return e}encode(t,e){Array.isArray(e)||this._throwError("expected array value",e);let r=this.length;-1===r&&(r=e.length,t.writeValue(e.length)),ts.checkArgumentCount(e.length,r,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let t=0;t<e.length;t++)i.push(this.coder);return es(t,i,e)}decode(t){let e=this.length;-1===e&&(e=t.readValue().toNumber(),32*e>t._data.length&&ts.throwError("insufficient data length",Cn.errors.BUFFER_OVERRUN,{length:t._data.length,count:e}));let r=[];for(let t=0;t<e;t++)r.push(new Qo(this.coder));return t.coerce(this.name,rs(t,r))}}class ns extends Oo{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){return t.writeValue(e?1:0)}decode(t){return t.coerce(this.type,!t.readValue().isZero())}}class os extends Oo{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=Ln(e);let r=t.writeValue(e.length);return r+=t.writeBytes(e),r}decode(t){return t.readBytes(t.readValue().toNumber(),!0)}}class ss extends os{constructor(t){super("bytes",t)}decode(t){return t.coerce(this.name,zn(super.decode(t)))}}class as extends Oo{constructor(t,e){let r="bytes"+String(t);super(r,r,e,!1),this.size=t}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(t,e){let r=Ln(e);return r.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(r)}decode(t){return t.coerce(this.name,zn(t.readBytes(this.size)))}}class hs extends Oo{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return null!=e&&this._throwError("not null",e),t.writeBytes([])}decode(t){return t.readBytes(0),t.coerce(this.name,null)}}const us=Hn.from(-1),ls=Hn.from(0),fs=Hn.from(1),cs=Hn.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class ds extends Oo{constructor(t,e,r){const i=(e?"int":"uint")+8*t;super(i,i,r,!1),this.size=t,this.signed=e}defaultValue(){return 0}encode(t,e){let r=Hn.from(e),i=cs.mask(8*t.wordSize);if(this.signed){let t=i.mask(8*this.size-1);(r.gt(t)||r.lt(t.add(fs).mul(us)))&&this._throwError("value out-of-bounds",e)}else(r.lt(ls)||r.gt(i.mask(8*this.size)))&&this._throwError("value out-of-bounds",e);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*t.wordSize)),t.writeValue(r)}decode(t){let e=t.readValue().mask(8*this.size);return this.signed&&(e=e.fromTwos(8*this.size)),t.coerce(this.name,e)}}let ms=!1,ps=!1;const gs={debug:1,default:2,info:2,warning:3,error:4,off:5};let vs=gs.default,ys=null;const ws=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var bs,Ms;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(bs||(bs={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(Ms||(Ms={}));class Es{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==gs[r]&&this.throwArgumentError("invalid log level name","logLevel",t),vs>gs[r]||console.log.apply(console,e)}debug(...t){this._log(Es.levels.DEBUG,t)}info(...t){this._log(Es.levels.INFO,t)}warn(...t){this._log(Es.levels.WARNING,t)}makeError(t,e,r){if(ps)return this.makeError("censored error",e,{});e||(e=Es.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(t=>{try{i.push(t+"="+JSON.stringify(r[t]))}catch(e){i.push(t+"="+JSON.stringify(r[t].toString()))}}),i.push("code="+e),i.push("version="+this.version);const n=t;i.length&&(t+=" ("+i.join(", ")+")");const o=new Error(t);return o.reason=n,o.code=e,Object.keys(r).forEach((function(t){o[t]=r[t]})),o}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,Es.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,i){t||this.throwError(e,r,i)}assertArgument(t,e,r,i){t||this.throwArgumentError(e,r,i)}checkNormalize(t){ws&&this.throwError("platform missing String.prototype.normalize",Es.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:ws})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,Es.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,Es.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,Es.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,Es.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",Es.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",Es.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",Es.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return ys||(ys=new Es("logger/5.3.0")),ys}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",Es.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),ms){if(!t)return;this.globalLogger().throwError("error censorship permanent",Es.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}ps=!!t,ms=!!e}static setLogLevel(t){const e=gs[t.toLowerCase()];null!=e?vs=e:Es.globalLogger().warn("invalid log level - "+t)}static from(t){return new Es(t)}}Es.errors=Ms,Es.levels=bs;const _s=new Es("bytes/5.3.0");function Ns(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Ns(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function As(t,e){if(e||(e={}),"number"==typeof t){_s.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),Ns(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),function(t){return!!t.toHexString}(t)&&(t=t.toHexString()),function(t,e){if("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))return!1;if(e&&t.length!==2+2*e)return!1;return!0}(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0x0"+r.substring(2):"right"===e.hexPad?r+="0":_s.throwArgumentError("hex data is odd-length","value",t));const i=[];for(let t=0;t<r.length;t+=2)i.push(parseInt(r.substring(t,t+2),16));return Ns(new Uint8Array(i))}return function(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(null==t.length)return!1;for(let e=0;e<t.length;e++){const r=t[e];if("number"!=typeof r||r<0||r>=256||r%1)return!1}return!0}(t)?Ns(new Uint8Array(t)):_s.throwArgumentError("invalid arrayify value","value",t)}const Ss=new Es("strings/5.3.0");var Rs,Is;function xs(t,e,r,i,n){if(t===Is.BAD_PREFIX||t===Is.UNEXPECTED_CONTINUE){let t=0;for(let i=e+1;i<r.length&&r[i]>>6==2;i++)t++;return t}return t===Is.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(Rs||(Rs={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(Is||(Is={}));const ks=Object.freeze({error:function(t,e,r,i,n){return Ss.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:xs,replace:function(t,e,r,i,n){return t===Is.OVERLONG?(i.push(n),0):(i.push(65533),xs(t,e,r))}});function Os(t,e=Rs.current){e!=Rs.current&&(Ss.checkNormalize(),t=t.normalize(e));let r=[];for(let e=0;e<t.length;e++){const i=t.charCodeAt(e);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(63&i|128);else if(55296==(64512&i)){e++;const n=t.charCodeAt(e);if(e>=t.length||56320!=(64512&n))throw new Error("invalid utf-8 string");const o=65536+((1023&i)<<10)+(1023&n);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(63&i|128)}return As(r)}function Ts(t,e){return function(t,e){null==e&&(e=ks.error),t=As(t);const r=[];let i=0;for(;i<t.length;){const n=t[i++];if(n>>7==0){r.push(n);continue}let o=null,s=null;if(192==(224&n))o=1,s=127;else if(224==(240&n))o=2,s=2047;else{if(240!=(248&n)){i+=e(128==(192&n)?Is.UNEXPECTED_CONTINUE:Is.BAD_PREFIX,i-1,t,r);continue}o=3,s=65535}if(i-1+o>=t.length){i+=e(Is.OVERRUN,i-1,t,r);continue}let a=n&(1<<8-o-1)-1;for(let n=0;n<o;n++){let n=t[i];if(128!=(192&n)){i+=e(Is.MISSING_CONTINUE,i,t,r),a=null;break}a=a<<6|63&n,i++}null!==a&&(a>1114111?i+=e(Is.OUT_OF_RANGE,i-1-o,t,r,a):a>=55296&&a<=57343?i+=e(Is.UTF16_SURROGATE,i-1-o,t,r,a):a<=s?i+=e(Is.OVERLONG,i-1-o,t,r,a):r.push(a))}return r}(t,e).map(t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t)))).join("")}class Ps extends os{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,Os(e))}decode(t){return Ts(super.decode(t))}}class Cs extends Oo{constructor(t,e){let r=!1;const i=[];t.forEach(t=>{t.dynamic&&(r=!0),i.push(t.type)});super("tuple","tuple("+i.join(",")+")",e,r),this.coders=t}defaultValue(){const t=[];this.coders.forEach(e=>{t.push(e.defaultValue())});const e=this.coders.reduce((t,e)=>{const r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t},{});return this.coders.forEach((r,i)=>{let n=r.localName;n&&1===e[n]&&("length"===n&&(n="_length"),null==t[n]&&(t[n]=t[i]))}),Object.freeze(t)}encode(t,e){return es(t,this.coders,e)}decode(t){return t.coerce(this.name,rs(t,this.coders))}}const Us=new Cn("abi/5.3.1"),Fs=new RegExp(/^bytes([0-9]*)$/),Bs=new RegExp(/^(u?int)([0-9]*)$/);class Ds{constructor(t){Us.checkNew(new.target,Ds),to(this,"coerceFunc",t||null)}_getCoder(t){switch(t.baseType){case"address":return new Yo(t.name);case"bool":return new ns(t.name);case"string":return new Ps(t.name);case"bytes":return new ss(t.name);case"array":return new is(this._getCoder(t.arrayChildren),t.arrayLength,t.name);case"tuple":return new Cs((t.components||[]).map(t=>this._getCoder(t)),t.name);case"":return new hs(t.name)}let e=t.type.match(Bs);if(e){let r=parseInt(e[2]||"256");return(0===r||r>256||r%8!=0)&&Us.throwArgumentError("invalid "+e[1]+" bit length","param",t),new ds(r/8,"int"===e[1],t.name)}if(e=t.type.match(Fs),e){let r=parseInt(e[1]);return(0===r||r>32)&&Us.throwArgumentError("invalid bytes length","param",t),new as(r,t.name)}return Us.throwArgumentError("invalid type","type",t.type)}_getWordSize(){return 32}_getReader(t,e){return new Po(t,this._getWordSize(),this.coerceFunc,e)}_getWriter(){return new To(this._getWordSize())}getDefaultValue(t){const e=t.map(t=>this._getCoder(po.from(t)));return new Cs(e,"_").defaultValue()}encode(t,e){t.length!==e.length&&Us.throwError("types/values length mismatch",Cn.errors.INVALID_ARGUMENT,{count:{types:t.length,values:e.length},value:{types:t,values:e}});const r=t.map(t=>this._getCoder(po.from(t))),i=new Cs(r,"_"),n=this._getWriter();return i.encode(n,e),n.data}decode(t,e,r){const i=t.map(t=>this._getCoder(po.from(t)));return new Cs(i,"_").decode(this._getReader(Ln(e),r))}}const Ls=new Ds;function $s(t){return Ko(Os(t))}const js=new Cn("abi/5.3.1");class zs extends oo{}class qs extends oo{}class Gs extends oo{static isIndexed(t){return!(!t||!t._isIndexed)}}const Vs={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Ks(t,e){const r=new Error("deferred error during ABI decoding triggered accessing "+t);return r.error=e,r}class Zs{constructor(t){js.checkNew(new.target,Zs);let e=[];e="string"==typeof t?JSON.parse(t):t,to(this,"fragments",e.map(t=>vo.from(t)).filter(t=>null!=t)),to(this,"_abiCoder",eo(new.target,"getAbiCoder")()),to(this,"functions",{}),to(this,"errors",{}),to(this,"events",{}),to(this,"structs",{}),this.fragments.forEach(t=>{let e=null;switch(t.type){case"constructor":return this.deploy?void js.warn("duplicate definition - constructor"):void to(this,"deploy",t);case"function":e=this.functions;break;case"event":e=this.events;break;case"error":e=this.errors;break;default:return}let r=t.format();e[r]?js.warn("duplicate definition - "+r):e[r]=t}),this.deploy||to(this,"deploy",Eo.from({payable:!1,type:"constructor"})),to(this,"_isInterface",!0)}format(t){t||(t=co.full),t===co.sighash&&js.throwArgumentError("interface does not support formatting sighash","format",t);const e=this.fragments.map(e=>e.format(t));return t===co.json?JSON.stringify(e.map(t=>JSON.parse(t))):e}static getAbiCoder(){return Ls}static getAddress(t){return Xo(t)}static getSighash(t){return e=$s(t.format()),r=0,i=4,"string"!=typeof e?e=zn(e):(!jn(e)||e.length%2)&&Un.throwArgumentError("invalid hexData","value",e),r=2+2*r,null!=i?"0x"+e.substring(r,2+2*i):"0x"+e.substring(r);var e,r,i}static getEventTopic(t){return $s(t.format())}getFunction(t){if(jn(t)){for(const e in this.functions)if(t===this.getSighash(e))return this.functions[e];js.throwArgumentError("no matching function","sighash",t)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.functions).filter(t=>t.split("(")[0]===e);return 0===r.length?js.throwArgumentError("no matching function","name",e):r.length>1&&js.throwArgumentError("multiple matching functions","name",e),this.functions[r[0]]}const e=this.functions[_o.fromString(t).format()];return e||js.throwArgumentError("no matching function","signature",t),e}getEvent(t){if(jn(t)){const e=t.toLowerCase();for(const t in this.events)if(e===this.getEventTopic(t))return this.events[t];js.throwArgumentError("no matching event","topichash",e)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.events).filter(t=>t.split("(")[0]===e);return 0===r.length?js.throwArgumentError("no matching event","name",e):r.length>1&&js.throwArgumentError("multiple matching events","name",e),this.events[r[0]]}const e=this.events[yo.fromString(t).format()];return e||js.throwArgumentError("no matching event","signature",t),e}getError(t){if(jn(t)){const e=eo(this.constructor,"getSighash");for(const r in this.errors){if(t===e(this.errors[r]))return this.errors[r]}js.throwArgumentError("no matching error","sighash",t)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.errors).filter(t=>t.split("(")[0]===e);return 0===r.length?js.throwArgumentError("no matching error","name",e):r.length>1&&js.throwArgumentError("multiple matching errors","name",e),this.errors[r[0]]}const e=this.errors[_o.fromString(t).format()];return e||js.throwArgumentError("no matching error","signature",t),e}getSighash(t){return"string"==typeof t&&(t=this.getFunction(t)),eo(this.constructor,"getSighash")(t)}getEventTopic(t){return"string"==typeof t&&(t=this.getEvent(t)),eo(this.constructor,"getEventTopic")(t)}_decodeParams(t,e){return this._abiCoder.decode(t,e)}_encodeParams(t,e){return this._abiCoder.encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeFunctionData(t,e){"string"==typeof t&&(t=this.getFunction(t));const r=Ln(e);return zn(r.slice(0,4))!==this.getSighash(t)&&js.throwArgumentError(`data signature does not match function ${t.name}.`,"data",zn(r)),this._decodeParams(t.inputs,r.slice(4))}encodeFunctionData(t,e){return"string"==typeof t&&(t=this.getFunction(t)),zn($n([this.getSighash(t),this._encodeParams(t.inputs,e||[])]))}decodeFunctionResult(t,e){"string"==typeof t&&(t=this.getFunction(t));let r=Ln(e),i=null,n=null,o=null,s=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(t.outputs,r)}catch(t){}break;case 4:{const t=zn(r.slice(0,4)),e=Vs[t];if(e)n=this._abiCoder.decode(e.inputs,r.slice(4)),o=e.name,s=e.signature,e.reason&&(i=n[0]);else try{const e=this.getError(t);n=this._abiCoder.decode(e.inputs,r.slice(4)),o=e.name,s=e.format()}catch(t){console.log(t)}break}}return js.throwError("call revert exception",Cn.errors.CALL_EXCEPTION,{method:t.format(),errorArgs:n,errorName:o,errorSignature:s,reason:i})}encodeFunctionResult(t,e){return"string"==typeof t&&(t=this.getFunction(t)),zn(this._abiCoder.encode(t.outputs,e||[]))}encodeFilterTopics(t,e){"string"==typeof t&&(t=this.getEvent(t)),e.length>t.inputs.length&&js.throwError("too many arguments for "+t.format(),Cn.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:e});let r=[];t.anonymous||r.push(this.getEventTopic(t));const i=(t,e)=>"string"===t.type?$s(e):"bytes"===t.type?Ko(zn(e)):("address"===t.type&&this._abiCoder.encode(["address"],[e]),qn(zn(e),32));for(e.forEach((e,n)=>{let o=t.inputs[n];o.indexed?null==e?r.push(null):"array"===o.baseType||"tuple"===o.baseType?js.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,e):Array.isArray(e)?r.push(e.map(t=>i(o,t))):r.push(i(o,e)):null!=e&&js.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,e)});r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(t,e){"string"==typeof t&&(t=this.getEvent(t));const r=[],i=[],n=[];return t.anonymous||r.push(this.getEventTopic(t)),e.length!==t.inputs.length&&js.throwArgumentError("event arguments/values mismatch","values",e),t.inputs.forEach((t,o)=>{const s=e[o];if(t.indexed)if("string"===t.type)r.push($s(s));else if("bytes"===t.type)r.push(Ko(s));else{if("tuple"===t.baseType||"array"===t.baseType)throw new Error("not implemented");r.push(this._abiCoder.encode([t.type],[s]))}else i.push(t),n.push(s)}),{data:this._abiCoder.encode(i,n),topics:r}}decodeEventLog(t,e,r){if("string"==typeof t&&(t=this.getEvent(t)),null!=r&&!t.anonymous){let e=this.getEventTopic(t);jn(r[0],32)&&r[0].toLowerCase()===e||js.throwError("fragment/topic mismatch",Cn.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:e,value:r[0]}),r=r.slice(1)}let i=[],n=[],o=[];t.inputs.forEach((t,e)=>{t.indexed?"string"===t.type||"bytes"===t.type||"tuple"===t.baseType||"array"===t.baseType?(i.push(po.fromObject({type:"bytes32",name:t.name})),o.push(!0)):(i.push(t),o.push(!1)):(n.push(t),o.push(!1))});let s=null!=r?this._abiCoder.decode(i,$n(r)):null,a=this._abiCoder.decode(n,e,!0),h=[],u=0,l=0;t.inputs.forEach((t,e)=>{if(t.indexed)if(null==s)h[e]=new Gs({_isIndexed:!0,hash:null});else if(o[e])h[e]=new Gs({_isIndexed:!0,hash:s[l++]});else try{h[e]=s[l++]}catch(t){h[e]=t}else try{h[e]=a[u++]}catch(t){h[e]=t}if(t.name&&null==h[t.name]){const r=h[e];r instanceof Error?Object.defineProperty(h,t.name,{get:()=>{throw Ks("property "+JSON.stringify(t.name),r)}}):h[t.name]=r}});for(let t=0;t<h.length;t++){const e=h[t];e instanceof Error&&Object.defineProperty(h,t,{get:()=>{throw Ks("index "+t,e)}})}return Object.freeze(h)}parseTransaction(t){let e=this.getFunction(t.data.substring(0,10).toLowerCase());return e?new qs({args:this._abiCoder.decode(e.inputs,"0x"+t.data.substring(10)),functionFragment:e,name:e.name,signature:e.format(),sighash:this.getSighash(e),value:Hn.from(t.value||"0")}):null}parseLog(t){let e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new zs({eventFragment:e,name:e.name,signature:e.format(),topic:this.getEventTopic(e),args:this.decodeEventLog(e,t.data,t.topics)})}static isInterface(t){return!(!t||!t._isInterface)}}let Hs=!1,Ws=!1;const Js={debug:1,default:2,info:2,warning:3,error:4,off:5};let Xs=Js.default,Ys=null;const Qs=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var ta,ea;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(ta||(ta={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(ea||(ea={}));class ra{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Js[r]&&this.throwArgumentError("invalid log level name","logLevel",t),Xs>Js[r]||console.log.apply(console,e)}debug(...t){this._log(ra.levels.DEBUG,t)}info(...t){this._log(ra.levels.INFO,t)}warn(...t){this._log(ra.levels.WARNING,t)}makeError(t,e,r){if(Ws)return this.makeError("censored error",e,{});e||(e=ra.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(t=>{try{i.push(t+"="+JSON.stringify(r[t]))}catch(e){i.push(t+"="+JSON.stringify(r[t].toString()))}}),i.push("code="+e),i.push("version="+this.version);const n=t;i.length&&(t+=" ("+i.join(", ")+")");const o=new Error(t);return o.reason=n,o.code=e,Object.keys(r).forEach((function(t){o[t]=r[t]})),o}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,ra.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,i){t||this.throwError(e,r,i)}assertArgument(t,e,r,i){t||this.throwArgumentError(e,r,i)}checkNormalize(t){Qs&&this.throwError("platform missing String.prototype.normalize",ra.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Qs})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,ra.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,ra.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,ra.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,ra.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",ra.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",ra.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",ra.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Ys||(Ys=new ra("logger/5.3.0")),Ys}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",ra.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Hs){if(!t)return;this.globalLogger().throwError("error censorship permanent",ra.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Ws=!!t,Hs=!!e}static setLogLevel(t){const e=Js[t.toLowerCase()];null!=e?Xs=e:ra.globalLogger().warn("invalid log level - "+t)}static from(t){return new ra(t)}}ra.errors=ea,ra.levels=ta;window&&window.__awaiter;const ia=new ra("properties/5.3.0");function na(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}const oa={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function sa(t){if(function t(e){if(null==e||oa[typeof e])return!0;if(Array.isArray(e)||"object"==typeof e){if(!Object.isFrozen(e))return!1;const r=Object.keys(e);for(let i=0;i<r.length;i++)if(!t(e[r[i]]))return!1;return!0}return ia.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}(t))return t;if(Array.isArray(t))return Object.freeze(t.map(t=>aa(t)));if("object"==typeof t){const e={};for(const r in t){const i=t[r];void 0!==i&&na(e,r,aa(i))}return e}return ia.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function aa(t){return sa(t)}const ha=new ra("abstract-provider/5.3.0");class ua{constructor(){ha.checkAbstract(new.target,ua),na(this,"_isProvider",!0)}addListener(t,e){return this.on(t,e)}removeListener(t,e){return this.off(t,e)}static isProvider(t){return!(!t||!t._isProvider)}}let la=!1,fa=!1;const ca={debug:1,default:2,info:2,warning:3,error:4,off:5};let da=ca.default,ma=null;const pa=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var ga,va;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(ga||(ga={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(va||(va={}));class ya{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==ca[r]&&this.throwArgumentError("invalid log level name","logLevel",t),da>ca[r]||console.log.apply(console,e)}debug(...t){this._log(ya.levels.DEBUG,t)}info(...t){this._log(ya.levels.INFO,t)}warn(...t){this._log(ya.levels.WARNING,t)}makeError(t,e,r){if(fa)return this.makeError("censored error",e,{});e||(e=ya.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(t=>{try{i.push(t+"="+JSON.stringify(r[t]))}catch(e){i.push(t+"="+JSON.stringify(r[t].toString()))}}),i.push("code="+e),i.push("version="+this.version);const n=t;i.length&&(t+=" ("+i.join(", ")+")");const o=new Error(t);return o.reason=n,o.code=e,Object.keys(r).forEach((function(t){o[t]=r[t]})),o}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,ya.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,i){t||this.throwError(e,r,i)}assertArgument(t,e,r,i){t||this.throwArgumentError(e,r,i)}checkNormalize(t){pa&&this.throwError("platform missing String.prototype.normalize",ya.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:pa})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,ya.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,ya.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,ya.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,ya.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",ya.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",ya.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",ya.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return ma||(ma=new ya("logger/5.3.0")),ma}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",ya.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),la){if(!t)return;this.globalLogger().throwError("error censorship permanent",ya.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}fa=!!t,la=!!e}static setLogLevel(t){const e=ca[t.toLowerCase()];null!=e?da=e:ya.globalLogger().warn("invalid log level - "+t)}static from(t){return new ya(t)}}ya.errors=va,ya.levels=ga;var wa=window&&window.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function s(t){try{h(i.next(t))}catch(t){o(t)}}function a(t){try{h(i.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}h((i=i.apply(t,e||[])).next())}))};new ya("properties/5.3.0");function ba(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Ma(t){return wa(this,void 0,void 0,(function*(){const e=Object.keys(t).map(e=>{const r=t[e];return Promise.resolve(r).then(t=>({key:e,value:t}))});return(yield Promise.all(e)).reduce((t,e)=>(t[e.key]=e.value,t),{})}))}var Ea=window&&window.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function s(t){try{h(i.next(t))}catch(t){o(t)}}function a(t){try{h(i.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}h((i=i.apply(t,e||[])).next())}))};const _a=new ya("abstract-signer/5.3.0"),Na=["accessList","chainId","data","from","gasLimit","gasPrice","nonce","to","type","value"],Aa=[ya.errors.INSUFFICIENT_FUNDS,ya.errors.NONCE_EXPIRED,ya.errors.REPLACEMENT_UNDERPRICED];class Sa{constructor(){_a.checkAbstract(new.target,Sa),ba(this,"_isSigner",!0)}getBalance(t){return Ea(this,void 0,void 0,(function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),t)}))}getTransactionCount(t){return Ea(this,void 0,void 0,(function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),t)}))}estimateGas(t){return Ea(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const e=yield Ma(this.checkTransaction(t));return yield this.provider.estimateGas(e)}))}call(t,e){return Ea(this,void 0,void 0,(function*(){this._checkProvider("call");const r=yield Ma(this.checkTransaction(t));return yield this.provider.call(r,e)}))}sendTransaction(t){return this._checkProvider("sendTransaction"),this.populateTransaction(t).then(t=>this.signTransaction(t).then(t=>this.provider.sendTransaction(t)))}getChainId(){return Ea(this,void 0,void 0,(function*(){this._checkProvider("getChainId");return(yield this.provider.getNetwork()).chainId}))}getGasPrice(){return Ea(this,void 0,void 0,(function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()}))}resolveName(t){return Ea(this,void 0,void 0,(function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(t)}))}checkTransaction(t){for(const e in t)-1===Na.indexOf(e)&&_a.throwArgumentError("invalid transaction key: "+e,"transaction",t);const e=function(t){const e={};for(const r in t)e[r]=t[r];return e}(t);return null==e.from?e.from=this.getAddress():e.from=Promise.all([Promise.resolve(e.from),this.getAddress()]).then(e=>(e[0].toLowerCase()!==e[1].toLowerCase()&&_a.throwArgumentError("from address mismatch","transaction",t),e[0])),e}populateTransaction(t){return Ea(this,void 0,void 0,(function*(){const e=yield Ma(this.checkTransaction(t));return null!=e.to&&(e.to=Promise.resolve(e.to).then(t=>Ea(this,void 0,void 0,(function*(){if(null==t)return null;const e=yield this.resolveName(t);return null==e&&_a.throwArgumentError("provided ENS name resolves to null","tx.to",t),e})))),null==e.gasPrice&&(e.gasPrice=this.getGasPrice()),null==e.nonce&&(e.nonce=this.getTransactionCount("pending")),null==e.gasLimit&&(e.gasLimit=this.estimateGas(e).catch(t=>{if(Aa.indexOf(t.code)>=0)throw t;return _a.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ya.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,tx:e})})),null==e.chainId?e.chainId=this.getChainId():e.chainId=Promise.all([Promise.resolve(e.chainId),this.getChainId()]).then(e=>(0!==e[1]&&e[0]!==e[1]&&_a.throwArgumentError("chainId address mismatch","transaction",t),e[0])),yield Ma(e)}))}_checkProvider(t){this.provider||_a.throwError("missing provider",ya.errors.UNSUPPORTED_OPERATION,{operation:t||"_checkProvider"})}static isSigner(t){return!(!t||!t._isSigner)}}class Ra extends Sa{constructor(t,e){_a.checkNew(new.target,Ra),super(),ba(this,"address",t),ba(this,"provider",e||null)}getAddress(){return Promise.resolve(this.address)}_fail(t,e){return Promise.resolve().then(()=>{_a.throwError(t,ya.errors.UNSUPPORTED_OPERATION,{operation:e})})}signMessage(t){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(t){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(t,e,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(t){return new Ra(this.address,t)}}var Ia=a((function(t){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function n(t,e,r){if(n.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;try{o=Ot.Buffer}catch(t){}function s(t,e,r){for(var i=0,n=Math.min(t.length,r),o=e;o<n;o++){var s=t.charCodeAt(o)-48;i<<=4,i|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return i}function a(t,e,r,i){for(var n=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;n*=i,n+=a>=49?a-49+10:a>=17?a-17+10:a}return n}n.isBN=function(t){return t instanceof n||null!==t&&"object"==typeof t&&t.constructor.wordSize===n.wordSize&&Array.isArray(t.words)},n.max=function(t,e){return t.cmp(e)>0?t:e},n.min=function(t,e){return t.cmp(e)<0?t:e},n.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&n++,16===e?this._parseHex(t,n):this._parseBase(t,e,n),"-"===t[0]&&(this.negative=1),this.strip(),"le"===i&&this._initArray(this.toArray(),e,i)},n.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},n.prototype._initArray=function(t,e,i){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,s,a=0;if("be"===i)for(n=t.length-1,o=0;n>=0;n-=3)s=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===i)for(n=0,o=0;n<t.length;n+=3)s=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},n.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,n,o=0;for(r=t.length-6,i=0;r>=e;r-=6)n=s(t,r,r+6),this.words[i]|=n<<o&67108863,this.words[i+1]|=n>>>26-o&4194303,(o+=24)>=26&&(o-=26,i++);r+6!==e&&(n=s(t,e,r+6),this.words[i]|=n<<o&67108863,this.words[i+1]|=n>>>26-o&4194303),this.strip()},n.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0;for(var o=t.length-r,s=o%i,h=Math.min(o,o-s)+r,u=0,l=r;l<h;l+=i)u=a(t,l,l+i,e),this.imuln(n),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var f=1;for(u=a(t,l,t.length,e),l=0;l<s;l++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},n.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},n.prototype.clone=function(){var t=new n(null);return this.copy(t),t},n.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],o=0|e.words[0],s=n*o,a=67108863&s,h=s/67108864|0;r.words[0]=a;for(var u=1;u<i;u++){for(var l=h>>>26,f=67108863&h,c=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=c;d++){var m=u-d|0;l+=(s=(n=0|t.words[m])*(o=0|e.words[d])+f)/67108864|0,f=67108863&s}r.words[u]=0|f,h=0|l}return 0!==h?r.words[u]=0|h:r.length--,r.strip()}n.prototype.toString=function(t,e){var i;if(e=0|e||1,16===(t=t||10)||"hex"===t){i="";for(var n=0,o=0,s=0;s<this.length;s++){var a=this.words[s],f=(16777215&(a<<n|o)).toString(16);i=0!==(o=a>>>24-n&16777215)||s!==this.length-1?h[6-f.length]+f+i:f+i,(n+=2)>=26&&(n-=26,s--)}for(0!==o&&(i=o.toString(16)+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var c=u[t],d=l[t];i="";var m=this.clone();for(m.negative=0;!m.isZero();){var p=m.modn(d).toString(t);i=(m=m.idivn(d)).isZero()?p+i:h[c-p.length]+p+i}for(this.isZero()&&(i="0"+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(t,e){return r(void 0!==o),this.toArrayLike(o,t,e)},n.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},n.prototype.toArrayLike=function(t,e,i){var n=this.byteLength(),o=i||Math.max(1,n);r(n<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,h="le"===e,u=new t(o),l=this.clone();if(h){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-n;a++)u[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[o-a-1]=s}return u},Math.clz32?n.prototype._countBits=function(t){return 32-Math.clz32(t)}:n.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},n.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},n.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},n.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},n.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},n.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},n.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},n.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},n.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},n.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},n.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},n.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},n.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},n.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},n.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},n.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this.strip()},n.prototype.notn=function(t){return this.clone().inotn(t)},n.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var i=t/26|0,n=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<n:this.words[i]&~(1<<n),this.strip()},n.prototype.iadd=function(t){var e,r,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this);for(var n=0,o=0;o<i.length;o++)e=(0|r.words[o])+(0|i.words[o])+n,this.words[o]=67108863&e,n=e>>>26;for(;0!==n&&o<r.length;o++)e=(0|r.words[o])+n,this.words[o]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},n.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},n.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,i,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=t):(r=t,i=this);for(var o=0,s=0;s<i.length;s++)o=(e=(0|r.words[s])-(0|i.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(t){return this.clone().isub(t)};var c=function(t,e,r){var i,n,o,s=t.words,a=e.words,h=r.words,u=0,l=0|s[0],f=8191&l,c=l>>>13,d=0|s[1],m=8191&d,p=d>>>13,g=0|s[2],v=8191&g,y=g>>>13,w=0|s[3],b=8191&w,M=w>>>13,E=0|s[4],_=8191&E,N=E>>>13,A=0|s[5],S=8191&A,R=A>>>13,I=0|s[6],x=8191&I,k=I>>>13,O=0|s[7],T=8191&O,P=O>>>13,C=0|s[8],U=8191&C,F=C>>>13,B=0|s[9],D=8191&B,L=B>>>13,$=0|a[0],j=8191&$,z=$>>>13,q=0|a[1],G=8191&q,V=q>>>13,K=0|a[2],Z=8191&K,H=K>>>13,W=0|a[3],J=8191&W,X=W>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,it=et>>>13,nt=0|a[6],ot=8191&nt,st=nt>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ft=8191&lt,ct=lt>>>13,dt=0|a[9],mt=8191&dt,pt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(u+(i=Math.imul(f,j))|0)+((8191&(n=(n=Math.imul(f,z))+Math.imul(c,j)|0))<<13)|0;u=((o=Math.imul(c,z))+(n>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(m,j),n=(n=Math.imul(m,z))+Math.imul(p,j)|0,o=Math.imul(p,z);var vt=(u+(i=i+Math.imul(f,G)|0)|0)+((8191&(n=(n=n+Math.imul(f,V)|0)+Math.imul(c,G)|0))<<13)|0;u=((o=o+Math.imul(c,V)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(v,j),n=(n=Math.imul(v,z))+Math.imul(y,j)|0,o=Math.imul(y,z),i=i+Math.imul(m,G)|0,n=(n=n+Math.imul(m,V)|0)+Math.imul(p,G)|0,o=o+Math.imul(p,V)|0;var yt=(u+(i=i+Math.imul(f,Z)|0)|0)+((8191&(n=(n=n+Math.imul(f,H)|0)+Math.imul(c,Z)|0))<<13)|0;u=((o=o+Math.imul(c,H)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(b,j),n=(n=Math.imul(b,z))+Math.imul(M,j)|0,o=Math.imul(M,z),i=i+Math.imul(v,G)|0,n=(n=n+Math.imul(v,V)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,V)|0,i=i+Math.imul(m,Z)|0,n=(n=n+Math.imul(m,H)|0)+Math.imul(p,Z)|0,o=o+Math.imul(p,H)|0;var wt=(u+(i=i+Math.imul(f,J)|0)|0)+((8191&(n=(n=n+Math.imul(f,X)|0)+Math.imul(c,J)|0))<<13)|0;u=((o=o+Math.imul(c,X)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(_,j),n=(n=Math.imul(_,z))+Math.imul(N,j)|0,o=Math.imul(N,z),i=i+Math.imul(b,G)|0,n=(n=n+Math.imul(b,V)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,V)|0,i=i+Math.imul(v,Z)|0,n=(n=n+Math.imul(v,H)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,H)|0,i=i+Math.imul(m,J)|0,n=(n=n+Math.imul(m,X)|0)+Math.imul(p,J)|0,o=o+Math.imul(p,X)|0;var bt=(u+(i=i+Math.imul(f,Q)|0)|0)+((8191&(n=(n=n+Math.imul(f,tt)|0)+Math.imul(c,Q)|0))<<13)|0;u=((o=o+Math.imul(c,tt)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(S,j),n=(n=Math.imul(S,z))+Math.imul(R,j)|0,o=Math.imul(R,z),i=i+Math.imul(_,G)|0,n=(n=n+Math.imul(_,V)|0)+Math.imul(N,G)|0,o=o+Math.imul(N,V)|0,i=i+Math.imul(b,Z)|0,n=(n=n+Math.imul(b,H)|0)+Math.imul(M,Z)|0,o=o+Math.imul(M,H)|0,i=i+Math.imul(v,J)|0,n=(n=n+Math.imul(v,X)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,X)|0,i=i+Math.imul(m,Q)|0,n=(n=n+Math.imul(m,tt)|0)+Math.imul(p,Q)|0,o=o+Math.imul(p,tt)|0;var Mt=(u+(i=i+Math.imul(f,rt)|0)|0)+((8191&(n=(n=n+Math.imul(f,it)|0)+Math.imul(c,rt)|0))<<13)|0;u=((o=o+Math.imul(c,it)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(x,j),n=(n=Math.imul(x,z))+Math.imul(k,j)|0,o=Math.imul(k,z),i=i+Math.imul(S,G)|0,n=(n=n+Math.imul(S,V)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,V)|0,i=i+Math.imul(_,Z)|0,n=(n=n+Math.imul(_,H)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,H)|0,i=i+Math.imul(b,J)|0,n=(n=n+Math.imul(b,X)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,X)|0,i=i+Math.imul(v,Q)|0,n=(n=n+Math.imul(v,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,i=i+Math.imul(m,rt)|0,n=(n=n+Math.imul(m,it)|0)+Math.imul(p,rt)|0,o=o+Math.imul(p,it)|0;var Et=(u+(i=i+Math.imul(f,ot)|0)|0)+((8191&(n=(n=n+Math.imul(f,st)|0)+Math.imul(c,ot)|0))<<13)|0;u=((o=o+Math.imul(c,st)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(T,j),n=(n=Math.imul(T,z))+Math.imul(P,j)|0,o=Math.imul(P,z),i=i+Math.imul(x,G)|0,n=(n=n+Math.imul(x,V)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,V)|0,i=i+Math.imul(S,Z)|0,n=(n=n+Math.imul(S,H)|0)+Math.imul(R,Z)|0,o=o+Math.imul(R,H)|0,i=i+Math.imul(_,J)|0,n=(n=n+Math.imul(_,X)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,X)|0,i=i+Math.imul(b,Q)|0,n=(n=n+Math.imul(b,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,i=i+Math.imul(v,rt)|0,n=(n=n+Math.imul(v,it)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,it)|0,i=i+Math.imul(m,ot)|0,n=(n=n+Math.imul(m,st)|0)+Math.imul(p,ot)|0,o=o+Math.imul(p,st)|0;var _t=(u+(i=i+Math.imul(f,ht)|0)|0)+((8191&(n=(n=n+Math.imul(f,ut)|0)+Math.imul(c,ht)|0))<<13)|0;u=((o=o+Math.imul(c,ut)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(U,j),n=(n=Math.imul(U,z))+Math.imul(F,j)|0,o=Math.imul(F,z),i=i+Math.imul(T,G)|0,n=(n=n+Math.imul(T,V)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,V)|0,i=i+Math.imul(x,Z)|0,n=(n=n+Math.imul(x,H)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,H)|0,i=i+Math.imul(S,J)|0,n=(n=n+Math.imul(S,X)|0)+Math.imul(R,J)|0,o=o+Math.imul(R,X)|0,i=i+Math.imul(_,Q)|0,n=(n=n+Math.imul(_,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,i=i+Math.imul(b,rt)|0,n=(n=n+Math.imul(b,it)|0)+Math.imul(M,rt)|0,o=o+Math.imul(M,it)|0,i=i+Math.imul(v,ot)|0,n=(n=n+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,i=i+Math.imul(m,ht)|0,n=(n=n+Math.imul(m,ut)|0)+Math.imul(p,ht)|0,o=o+Math.imul(p,ut)|0;var Nt=(u+(i=i+Math.imul(f,ft)|0)|0)+((8191&(n=(n=n+Math.imul(f,ct)|0)+Math.imul(c,ft)|0))<<13)|0;u=((o=o+Math.imul(c,ct)|0)+(n>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,i=Math.imul(D,j),n=(n=Math.imul(D,z))+Math.imul(L,j)|0,o=Math.imul(L,z),i=i+Math.imul(U,G)|0,n=(n=n+Math.imul(U,V)|0)+Math.imul(F,G)|0,o=o+Math.imul(F,V)|0,i=i+Math.imul(T,Z)|0,n=(n=n+Math.imul(T,H)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,H)|0,i=i+Math.imul(x,J)|0,n=(n=n+Math.imul(x,X)|0)+Math.imul(k,J)|0,o=o+Math.imul(k,X)|0,i=i+Math.imul(S,Q)|0,n=(n=n+Math.imul(S,tt)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,tt)|0,i=i+Math.imul(_,rt)|0,n=(n=n+Math.imul(_,it)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,it)|0,i=i+Math.imul(b,ot)|0,n=(n=n+Math.imul(b,st)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,st)|0,i=i+Math.imul(v,ht)|0,n=(n=n+Math.imul(v,ut)|0)+Math.imul(y,ht)|0,o=o+Math.imul(y,ut)|0,i=i+Math.imul(m,ft)|0,n=(n=n+Math.imul(m,ct)|0)+Math.imul(p,ft)|0,o=o+Math.imul(p,ct)|0;var At=(u+(i=i+Math.imul(f,mt)|0)|0)+((8191&(n=(n=n+Math.imul(f,pt)|0)+Math.imul(c,mt)|0))<<13)|0;u=((o=o+Math.imul(c,pt)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(D,G),n=(n=Math.imul(D,V))+Math.imul(L,G)|0,o=Math.imul(L,V),i=i+Math.imul(U,Z)|0,n=(n=n+Math.imul(U,H)|0)+Math.imul(F,Z)|0,o=o+Math.imul(F,H)|0,i=i+Math.imul(T,J)|0,n=(n=n+Math.imul(T,X)|0)+Math.imul(P,J)|0,o=o+Math.imul(P,X)|0,i=i+Math.imul(x,Q)|0,n=(n=n+Math.imul(x,tt)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,tt)|0,i=i+Math.imul(S,rt)|0,n=(n=n+Math.imul(S,it)|0)+Math.imul(R,rt)|0,o=o+Math.imul(R,it)|0,i=i+Math.imul(_,ot)|0,n=(n=n+Math.imul(_,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,i=i+Math.imul(b,ht)|0,n=(n=n+Math.imul(b,ut)|0)+Math.imul(M,ht)|0,o=o+Math.imul(M,ut)|0,i=i+Math.imul(v,ft)|0,n=(n=n+Math.imul(v,ct)|0)+Math.imul(y,ft)|0,o=o+Math.imul(y,ct)|0;var St=(u+(i=i+Math.imul(m,mt)|0)|0)+((8191&(n=(n=n+Math.imul(m,pt)|0)+Math.imul(p,mt)|0))<<13)|0;u=((o=o+Math.imul(p,pt)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(D,Z),n=(n=Math.imul(D,H))+Math.imul(L,Z)|0,o=Math.imul(L,H),i=i+Math.imul(U,J)|0,n=(n=n+Math.imul(U,X)|0)+Math.imul(F,J)|0,o=o+Math.imul(F,X)|0,i=i+Math.imul(T,Q)|0,n=(n=n+Math.imul(T,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,i=i+Math.imul(x,rt)|0,n=(n=n+Math.imul(x,it)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,it)|0,i=i+Math.imul(S,ot)|0,n=(n=n+Math.imul(S,st)|0)+Math.imul(R,ot)|0,o=o+Math.imul(R,st)|0,i=i+Math.imul(_,ht)|0,n=(n=n+Math.imul(_,ut)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,ut)|0,i=i+Math.imul(b,ft)|0,n=(n=n+Math.imul(b,ct)|0)+Math.imul(M,ft)|0,o=o+Math.imul(M,ct)|0;var Rt=(u+(i=i+Math.imul(v,mt)|0)|0)+((8191&(n=(n=n+Math.imul(v,pt)|0)+Math.imul(y,mt)|0))<<13)|0;u=((o=o+Math.imul(y,pt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(D,J),n=(n=Math.imul(D,X))+Math.imul(L,J)|0,o=Math.imul(L,X),i=i+Math.imul(U,Q)|0,n=(n=n+Math.imul(U,tt)|0)+Math.imul(F,Q)|0,o=o+Math.imul(F,tt)|0,i=i+Math.imul(T,rt)|0,n=(n=n+Math.imul(T,it)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,it)|0,i=i+Math.imul(x,ot)|0,n=(n=n+Math.imul(x,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,i=i+Math.imul(S,ht)|0,n=(n=n+Math.imul(S,ut)|0)+Math.imul(R,ht)|0,o=o+Math.imul(R,ut)|0,i=i+Math.imul(_,ft)|0,n=(n=n+Math.imul(_,ct)|0)+Math.imul(N,ft)|0,o=o+Math.imul(N,ct)|0;var It=(u+(i=i+Math.imul(b,mt)|0)|0)+((8191&(n=(n=n+Math.imul(b,pt)|0)+Math.imul(M,mt)|0))<<13)|0;u=((o=o+Math.imul(M,pt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(D,Q),n=(n=Math.imul(D,tt))+Math.imul(L,Q)|0,o=Math.imul(L,tt),i=i+Math.imul(U,rt)|0,n=(n=n+Math.imul(U,it)|0)+Math.imul(F,rt)|0,o=o+Math.imul(F,it)|0,i=i+Math.imul(T,ot)|0,n=(n=n+Math.imul(T,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,i=i+Math.imul(x,ht)|0,n=(n=n+Math.imul(x,ut)|0)+Math.imul(k,ht)|0,o=o+Math.imul(k,ut)|0,i=i+Math.imul(S,ft)|0,n=(n=n+Math.imul(S,ct)|0)+Math.imul(R,ft)|0,o=o+Math.imul(R,ct)|0;var xt=(u+(i=i+Math.imul(_,mt)|0)|0)+((8191&(n=(n=n+Math.imul(_,pt)|0)+Math.imul(N,mt)|0))<<13)|0;u=((o=o+Math.imul(N,pt)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(D,rt),n=(n=Math.imul(D,it))+Math.imul(L,rt)|0,o=Math.imul(L,it),i=i+Math.imul(U,ot)|0,n=(n=n+Math.imul(U,st)|0)+Math.imul(F,ot)|0,o=o+Math.imul(F,st)|0,i=i+Math.imul(T,ht)|0,n=(n=n+Math.imul(T,ut)|0)+Math.imul(P,ht)|0,o=o+Math.imul(P,ut)|0,i=i+Math.imul(x,ft)|0,n=(n=n+Math.imul(x,ct)|0)+Math.imul(k,ft)|0,o=o+Math.imul(k,ct)|0;var kt=(u+(i=i+Math.imul(S,mt)|0)|0)+((8191&(n=(n=n+Math.imul(S,pt)|0)+Math.imul(R,mt)|0))<<13)|0;u=((o=o+Math.imul(R,pt)|0)+(n>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(D,ot),n=(n=Math.imul(D,st))+Math.imul(L,ot)|0,o=Math.imul(L,st),i=i+Math.imul(U,ht)|0,n=(n=n+Math.imul(U,ut)|0)+Math.imul(F,ht)|0,o=o+Math.imul(F,ut)|0,i=i+Math.imul(T,ft)|0,n=(n=n+Math.imul(T,ct)|0)+Math.imul(P,ft)|0,o=o+Math.imul(P,ct)|0;var Ot=(u+(i=i+Math.imul(x,mt)|0)|0)+((8191&(n=(n=n+Math.imul(x,pt)|0)+Math.imul(k,mt)|0))<<13)|0;u=((o=o+Math.imul(k,pt)|0)+(n>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,i=Math.imul(D,ht),n=(n=Math.imul(D,ut))+Math.imul(L,ht)|0,o=Math.imul(L,ut),i=i+Math.imul(U,ft)|0,n=(n=n+Math.imul(U,ct)|0)+Math.imul(F,ft)|0,o=o+Math.imul(F,ct)|0;var Tt=(u+(i=i+Math.imul(T,mt)|0)|0)+((8191&(n=(n=n+Math.imul(T,pt)|0)+Math.imul(P,mt)|0))<<13)|0;u=((o=o+Math.imul(P,pt)|0)+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(D,ft),n=(n=Math.imul(D,ct))+Math.imul(L,ft)|0,o=Math.imul(L,ct);var Pt=(u+(i=i+Math.imul(U,mt)|0)|0)+((8191&(n=(n=n+Math.imul(U,pt)|0)+Math.imul(F,mt)|0))<<13)|0;u=((o=o+Math.imul(F,pt)|0)+(n>>>13)|0)+(Pt>>>26)|0,Pt&=67108863;var Ct=(u+(i=Math.imul(D,mt))|0)+((8191&(n=(n=Math.imul(D,pt))+Math.imul(L,mt)|0))<<13)|0;return u=((o=Math.imul(L,pt))+(n>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,h[0]=gt,h[1]=vt,h[2]=yt,h[3]=wt,h[4]=bt,h[5]=Mt,h[6]=Et,h[7]=_t,h[8]=Nt,h[9]=At,h[10]=St,h[11]=Rt,h[12]=It,h[13]=xt,h[14]=kt,h[15]=Ot,h[16]=Tt,h[17]=Pt,h[18]=Ct,0!==u&&(h[19]=u,r.length++),r};function d(t,e,r){return(new m).mulp(t,e,r)}function m(t,e){this.x=t,this.y=e}Math.imul||(c=f),n.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?c(this,t,e):r<63?f(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,o=0;o<r.length-1;o++){var s=n;n=0;for(var a=67108863&i,h=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=h;u++){var l=o-u,f=(0|t.words[l])*(0|e.words[u]),c=67108863&f;a=67108863&(c=c+a|0),n+=(s=(s=s+(f/67108864|0)|0)+(c>>>26)|0)>>>26,s&=67108863}r.words[o]=a,i=s,s=n}return 0!==i?r.words[o]=i:r.length--,r.strip()}(this,t,e):d(this,t,e)},m.prototype.makeRBT=function(t){for(var e=new Array(t),r=n.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},m.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var i=0,n=0;n<e;n++)i|=(1&t)<<e-n-1,t>>=1;return i},m.prototype.permute=function(t,e,r,i,n,o){for(var s=0;s<o;s++)i[s]=e[t[s]],n[s]=r[t[s]]},m.prototype.transform=function(t,e,r,i,n,o){this.permute(o,t,e,r,i,n);for(var s=1;s<n;s<<=1)for(var a=s<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<n;l+=a)for(var f=h,c=u,d=0;d<s;d++){var m=r[l+d],p=i[l+d],g=r[l+d+s],v=i[l+d+s],y=f*g-c*v;v=f*v+c*g,g=y,r[l+d]=m+g,i[l+d]=p+v,r[l+d+s]=m-g,i[l+d+s]=p-v,d!==a&&(y=h*f-u*c,c=h*c+u*f,f=y)}},m.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},m.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},m.prototype.normalize13b=function(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=67108863&n,r=n<67108864?0:n/67108864|0}return t},m.prototype.convert13b=function(t,e,i,n){for(var o=0,s=0;s<e;s++)o+=0|t[s],i[2*s]=8191&o,o>>>=13,i[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<n;++s)i[s]=0;r(0===o),r(0==(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},m.prototype.mulp=function(t,e,r){var i=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(i),o=this.stub(i),s=new Array(i),a=new Array(i),h=new Array(i),u=new Array(i),l=new Array(i),f=new Array(i),c=r.words;c.length=i,this.convert13b(t.words,t.length,s,i),this.convert13b(e.words,e.length,u,i),this.transform(s,o,a,h,i,n),this.transform(u,o,l,f,i,n);for(var d=0;d<i;d++){var m=a[d]*l[d]-h[d]*f[d];h[d]=a[d]*f[d]+h[d]*l[d],a[d]=m}return this.conjugate(a,h,i),this.transform(a,h,c,o,i,n),this.conjugate(c,o,i),this.normalize13b(c,i),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},n.prototype.mul=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},n.prototype.mulf=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),d(this,t,e)},n.prototype.imul=function(t){return this.clone().mulTo(t,this)},n.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,i=0;i<this.length;i++){var n=(0|this.words[i])*t,o=(67108863&n)+(67108863&e);e>>=26,e+=n/67108864|0,e+=o>>>26,this.words[i]=67108863&o}return 0!==e&&(this.words[i]=e,this.length++),this},n.prototype.muln=function(t){return this.clone().imuln(t)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=(t.words[i]&1<<n)>>>n}return e}(t);if(0===e.length)return new n(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var o=r.sqr();i<e.length;i++,o=o.sqr())0!==e[i]&&(r=r.mul(o));return r},n.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,i=t%26,n=(t-i)/26,o=67108863>>>26-i<<26-i;if(0!==i){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,h=(0|this.words[e])-a<<i;this.words[e]=h|s,s=a>>>26-i}s&&(this.words[e]=s,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this.strip()},n.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},n.prototype.iushrn=function(t,e,i){var n;r("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,h=i;if(n-=s,n=Math.max(0,n),h){for(var u=0;u<s;u++)h.words[u]=this.words[u];h.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=n);u--){var f=0|this.words[u];this.words[u]=l<<26-o|f>>>o,l=f&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(t,e,i){return r(0===this.negative),this.iushrn(t,e,i)},n.prototype.shln=function(t){return this.clone().ishln(t)},n.prototype.ushln=function(t){return this.clone().iushln(t)},n.prototype.shrn=function(t){return this.clone().ishrn(t)},n.prototype.ushrn=function(t){return this.clone().iushrn(t)},n.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26,n=1<<e;return!(this.length<=i)&&!!(this.words[i]&n)},n.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this.strip()},n.prototype.maskn=function(t){return this.clone().imaskn(t)},n.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},n.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},n.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},n.prototype.addn=function(t){return this.clone().iaddn(t)},n.prototype.subn=function(t){return this.clone().isubn(t)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(t,e,i){var n,o,s=t.length+i;this._expand(s);var a=0;for(n=0;n<t.length;n++){o=(0|this.words[n+i])+a;var h=(0|t.words[n])*e;a=((o-=67108863&h)>>26)-(h/67108864|0),this.words[n+i]=67108863&o}for(;n<this.length-i;n++)a=(o=(0|this.words[n+i])+a)>>26,this.words[n+i]=67108863&o;if(0===a)return this.strip();for(r(-1===a),a=0,n=0;n<this.length;n++)a=(o=-(0|this.words[n])+a)>>26,this.words[n]=67108863&o;return this.negative=1,this.strip()},n.prototype._wordDiv=function(t,e){var r=(this.length,t.length),i=this.clone(),o=t,s=0|o.words[o.length-1];0!==(r=26-this._countBits(s))&&(o=o.ushln(r),i.iushln(r),s=0|o.words[o.length-1]);var a,h=i.length-o.length;if("mod"!==e){(a=new n(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=i.clone()._ishlnsubmul(o,1,h);0===l.negative&&(i=l,a&&(a.words[h]=1));for(var f=h-1;f>=0;f--){var c=67108864*(0|i.words[o.length+f])+(0|i.words[o.length+f-1]);for(c=Math.min(c/s|0,67108863),i._ishlnsubmul(o,c,f);0!==i.negative;)c--,i.negative=0,i._ishlnsubmul(o,1,f),i.isZero()||(i.negative^=1);a&&(a.words[f]=c)}return a&&a.strip(),i.strip(),"div"!==e&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},n.prototype.divmod=function(t,e,i){return r(!t.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(o=a.div.neg()),"div"!==e&&(s=a.mod.neg(),i&&0!==s.negative&&s.iadd(t)),{div:o,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(o=a.div.neg()),{div:o,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),i&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new n(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new n(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new n(this.modn(t.words[0]))}:this._wordDiv(t,e);var o,s,a},n.prototype.div=function(t){return this.divmod(t,"div",!1).div},n.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},n.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},n.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),o=r.cmp(i);return o<0||1===n&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},n.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,i=0,n=this.length-1;n>=0;n--)i=(e*i+(0|this.words[n]))%t;return i},n.prototype.idivn=function(t){r(t<=67108863);for(var e=0,i=this.length-1;i>=0;i--){var n=(0|this.words[i])+67108864*e;this.words[i]=n/t|0,e=n%t}return this.strip()},n.prototype.divn=function(t){return this.clone().idivn(t)},n.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new n(1),s=new n(0),a=new n(0),h=new n(1),u=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++u;for(var l=i.clone(),f=e.clone();!e.isZero();){for(var c=0,d=1;0==(e.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(e.iushrn(c);c-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(l),s.isub(f)),o.iushrn(1),s.iushrn(1);for(var m=0,p=1;0==(i.words[0]&p)&&m<26;++m,p<<=1);if(m>0)for(i.iushrn(m);m-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(f)),a.iushrn(1),h.iushrn(1);e.cmp(i)>=0?(e.isub(i),o.isub(a),s.isub(h)):(i.isub(e),a.isub(o),h.isub(s))}return{a:a,b:h,gcd:i.iushln(u)}},n.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,s=new n(1),a=new n(0),h=i.clone();e.cmpn(1)>0&&i.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var f=0,c=1;0==(i.words[0]&c)&&f<26;++f,c<<=1);if(f>0)for(i.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(i)>=0?(e.isub(i),s.isub(a)):(i.isub(e),a.isub(s))}return(o=0===e.cmpn(1)?s:a).cmpn(0)<0&&o.iadd(t),o},n.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var o=e;e=r,r=o}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},n.prototype.invm=function(t){return this.egcd(t).a.umod(t)},n.prototype.isEven=function(){return 0==(1&this.words[0])},n.prototype.isOdd=function(){return 1==(1&this.words[0])},n.prototype.andln=function(t){return this.words[0]&t},n.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,i=(t-e)/26,n=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var o=n,s=i;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(t){var e,i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)e=1;else{i&&(t=-t),r(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},n.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},n.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},n.prototype.gtn=function(t){return 1===this.cmpn(t)},n.prototype.gt=function(t){return 1===this.cmp(t)},n.prototype.gten=function(t){return this.cmpn(t)>=0},n.prototype.gte=function(t){return this.cmp(t)>=0},n.prototype.ltn=function(t){return-1===this.cmpn(t)},n.prototype.lt=function(t){return-1===this.cmp(t)},n.prototype.lten=function(t){return this.cmpn(t)<=0},n.prototype.lte=function(t){return this.cmp(t)<=0},n.prototype.eqn=function(t){return 0===this.cmpn(t)},n.prototype.eq=function(t){return 0===this.cmp(t)},n.red=function(t){return new M(t)},n.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(t){return this.red=t,this},n.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},n.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},n.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},n.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},n.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},n.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},n.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},n.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var p={k256:null,p224:null,p192:null,p25519:null};function g(t,e){this.name=t,this.p=new n(e,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function y(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function b(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(t){if("string"==typeof t){var e=n._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function E(t){M.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g.prototype._tmp=function(){var t=new n(null);return t.words=new Array(Math.ceil(this.n/13)),t},g.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},g.prototype.split=function(t,e){t.iushrn(this.n,0,e)},g.prototype.imulK=function(t){return t.imul(this.k)},i(v,g),v.prototype.split=function(t,e){for(var r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var n=t.words[9];for(e.words[e.length++]=4194303&n,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(4194303&o)<<4|n>>>22,n=o}n>>>=22,t.words[i-10]=n,0===n&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(y,g),i(w,g),i(b,g),b.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=19*(0|t.words[r])+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},n._prime=function(t){if(p[t])return p[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new y;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new b}return p[t]=e,e},M.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},M.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},M.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},M.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},M.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},M.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},M.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},M.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},M.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},M.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},M.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},M.prototype.isqr=function(t){return this.imul(t,t.clone())},M.prototype.sqr=function(t){return this.mul(t,t)},M.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var i=this.m.add(new n(1)).iushrn(2);return this.pow(t,i)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new n(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new n(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var f=this.pow(l,o),c=this.pow(t,o.addn(1).iushrn(1)),d=this.pow(t,o),m=s;0!==d.cmp(a);){for(var p=d,g=0;0!==p.cmp(a);g++)p=p.redSqr();r(g<m);var v=this.pow(f,new n(1).iushln(m-g-1));c=c.redMul(v),f=v.redSqr(),d=d.redMul(f),m=g}return c},M.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},M.prototype.pow=function(t,e){if(e.isZero())return new n(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new n(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var o=r[0],s=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),i=e.length-1;i>=0;i--){for(var u=e.words[i],l=h-1;l>=0;l--){var f=u>>l&1;o!==r[0]&&(o=this.sqr(o)),0!==f||0!==s?(s<<=1,s|=f,(4===++a||0===i&&0===l)&&(o=this.mul(o,r[s]),a=0,s=0)):a=0}h=26}return o},M.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},M.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},n.mont=function(t){return new E(t)},i(E,M),E.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},E.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},E.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},E.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new n(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(i).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},E.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,n)}));const xa=new v("bignumber/5.0.7"),ka={};class Oa{constructor(t,e){xa.checkNew(new.target,Oa),t!==ka&&xa.throwError("cannot call constructor directly; use BigNumber.from",v.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Pa(Ca(this).fromTwos(t))}toTwos(t){return Pa(Ca(this).toTwos(t))}abs(){return"-"===this._hex[0]?Oa.from(this._hex.substring(1)):this}add(t){return Pa(Ca(this).add(Ca(t)))}sub(t){return Pa(Ca(this).sub(Ca(t)))}div(t){return Oa.from(t).isZero()&&Ua("division by zero","div"),Pa(Ca(this).div(Ca(t)))}mul(t){return Pa(Ca(this).mul(Ca(t)))}mod(t){const e=Ca(t);return e.isNeg()&&Ua("cannot modulo negative values","mod"),Pa(Ca(this).umod(e))}pow(t){const e=Ca(t);return e.isNeg()&&Ua("cannot raise to negative values","pow"),Pa(Ca(this).pow(e))}and(t){const e=Ca(t);return(this.isNegative()||e.isNeg())&&Ua("cannot 'and' negative values","and"),Pa(Ca(this).and(e))}or(t){const e=Ca(t);return(this.isNegative()||e.isNeg())&&Ua("cannot 'or' negative values","or"),Pa(Ca(this).or(e))}xor(t){const e=Ca(t);return(this.isNegative()||e.isNeg())&&Ua("cannot 'xor' negative values","xor"),Pa(Ca(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&Ua("cannot mask negative values","mask"),Pa(Ca(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&Ua("cannot shift negative values","shl"),Pa(Ca(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&Ua("cannot shift negative values","shr"),Pa(Ca(this).shrn(t))}eq(t){return Ca(this).eq(Ca(t))}lt(t){return Ca(this).lt(Ca(t))}lte(t){return Ca(this).lte(Ca(t))}gt(t){return Ca(this).gt(Ca(t))}gte(t){return Ca(this).gte(Ca(t))}isNegative(){return"-"===this._hex[0]}isZero(){return Ca(this).isZero()}toNumber(){try{return Ca(this).toNumber()}catch(t){Ua("overflow","toNumber",this.toString())}return null}toString(){return 0!==arguments.length&&xa.throwError("bigNumber.toString does not accept parameters",v.errors.UNEXPECTED_ARGUMENT,{}),Ca(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof Oa)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new Oa(ka,Ta(t)):t.match(/^-?[0-9]+$/)?new Oa(ka,Ta(new Ia.BN(t))):xa.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&Ua("underflow","BigNumber.from",t),(t>=9007199254740991||t<=-9007199254740991)&&Ua("overflow","BigNumber.from",t),Oa.from(String(t));const e=t;if("bigint"==typeof e)return Oa.from(e.toString());if(M(e))return Oa.from(N(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return Oa.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(_(t)||"-"===t[0]&&_(t.substring(1))))return Oa.from(t)}return xa.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function Ta(t){if("string"!=typeof t)return Ta(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&xa.throwArgumentError("invalid hex","value",t),"0x00"===(t=Ta(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function Pa(t){return Oa.from(Ta(t))}function Ca(t){const e=Oa.from(t).toHexString();return"-"===e[0]?new Ia.BN("-"+e.substring(3),16):new Ia.BN(e.substring(2),16)}function Ua(t,e,r){const i={fault:t,operation:e};return null!=r&&(i.value=r),xa.throwError(t,v.errors.NUMERIC_FAULT,i)}const Fa=new v("bignumber/5.0.7"),Ba={},Da=Oa.from(0),La=Oa.from(-1);function $a(t,e,r,i){const n={fault:e,operation:r};return void 0!==i&&(n.value=i),Fa.throwError(t,v.errors.NUMERIC_FAULT,n)}let ja="0";for(;ja.length<256;)ja+=ja;function za(t){if("number"!=typeof t)try{t=Oa.from(t).toNumber()}catch(t){}return"number"==typeof t&&t>=0&&t<=256&&!(t%1)?"1"+ja.substring(0,t):Fa.throwArgumentError("invalid decimal size","decimals",t)}function qa(t,e){null==e&&(e=0);const r=za(e),i=(t=Oa.from(t)).lt(Da);i&&(t=t.mul(La));let n=t.mod(r).toString();for(;n.length<r.length-1;)n="0"+n;n=n.match(/^([0-9]*[1-9]|0)(0*)/)[1];const o=t.div(r).toString();return t=o+"."+n,i&&(t="-"+t),t}function Ga(t,e){null==e&&(e=0);const r=za(e);if("string"==typeof t&&t.match(/^-?[0-9.,]+$/)||Fa.throwArgumentError("invalid decimal value","value",t),r.length-1==0)return Oa.from(t);const i="-"===t.substring(0,1);i&&(t=t.substring(1)),"."===t&&Fa.throwArgumentError("missing value","value",t);const n=t.split(".");n.length>2&&Fa.throwArgumentError("too many decimal points","value",t);let o=n[0],s=n[1];for(o||(o="0"),s||(s="0"),s.length>r.length-1&&$a("fractional component exceeds decimals","underflow","parseFixed");s.length<r.length-1;)s+="0";const a=Oa.from(o),h=Oa.from(s);let u=a.mul(r).add(h);return i&&(u=u.mul(La)),u}class Va{constructor(t,e,r,i){t!==Ba&&Fa.throwError("cannot use FixedFormat constructor; use FixedFormat.from",v.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=e,this.width=r,this.decimals=i,this.name=(e?"":"u")+"fixed"+String(r)+"x"+String(i),this._multiplier=za(i),Object.freeze(this)}static from(t){if(t instanceof Va)return t;let e=!0,r=128,i=18;if("string"==typeof t){if("fixed"===t);else if("ufixed"===t)e=!1;else if(null!=t){const n=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);n||Fa.throwArgumentError("invalid fixed format","format",t),e="u"!==n[1],r=parseInt(n[2]),i=parseInt(n[3])}}else if(t){const n=(e,r,i)=>null==t[e]?i:(typeof t[e]!==r&&Fa.throwArgumentError("invalid fixed format ("+e+" not "+r+")","format."+e,t[e]),t[e]);e=n("signed","boolean",e),r=n("width","number",r),i=n("decimals","number",i)}return r%8&&Fa.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),i>80&&Fa.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new Va(Ba,e,r,i)}}class Ka{constructor(t,e,r,i){Fa.checkNew(new.target,Ka),t!==Ba&&Fa.throwError("cannot use FixedNumber constructor; use FixedNumber.from",v.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=e,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&Fa.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const e=Ga(this._value,this.format.decimals),r=Ga(t._value,t.format.decimals);return Ka.fromValue(e.add(r),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const e=Ga(this._value,this.format.decimals),r=Ga(t._value,t.format.decimals);return Ka.fromValue(e.sub(r),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const e=Ga(this._value,this.format.decimals),r=Ga(t._value,t.format.decimals);return Ka.fromValue(e.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const e=Ga(this._value,this.format.decimals),r=Ga(t._value,t.format.decimals);return Ka.fromValue(e.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){let t=this.toString().split("."),e=Ka.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return this.isNegative()&&r&&(e=e.subUnsafe(Za)),e}ceiling(){let t=this.toString().split("."),e=Ka.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return!this.isNegative()&&r&&(e=e.addUnsafe(Za)),e}round(t){null==t&&(t=0);let e=this.toString().split(".");if((t<0||t>80||t%1)&&Fa.throwArgumentError("invalid decimal count","decimals",t),e[1].length<=t)return this;const r=Ka.from("1"+ja.substring(0,t));return this.mulUnsafe(r).addUnsafe(Ha).floor().divUnsafe(r)}isZero(){return"0.0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(t){if(null==t)return this._hex;t%8&&Fa.throwArgumentError("invalid byte width","width",t);return A(Oa.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString(),t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return Ka.fromString(this._value,t)}static fromValue(t,e,r){return null!=r||null==e||function(t){return null!=t&&(Oa.isBigNumber(t)||"number"==typeof t&&t%1==0||"string"==typeof t&&!!t.match(/^-?[0-9]+$/)||_(t)||"bigint"==typeof t||M(t))}(e)||(r=e,e=null),null==e&&(e=0),null==r&&(r="fixed"),Ka.fromString(qa(t,e),Va.from(r))}static fromString(t,e){null==e&&(e="fixed");const r=Va.from(e),i=Ga(t,r.decimals);!r.signed&&i.lt(Da)&&$a("unsigned value cannot be negative","overflow","value",t);let n=null;r.signed?n=i.toTwos(r.width).toHexString():(n=i.toHexString(),n=A(n,r.width/8));const o=qa(i,r.decimals);return new Ka(Ba,n,o,r)}static fromBytes(t,e){null==e&&(e="fixed");const r=Va.from(e);if(E(t).length>r.width/8)throw new Error("overflow");let i=Oa.from(t);r.signed&&(i=i.fromTwos(r.width));const n=i.toTwos((r.signed?0:1)+r.width).toHexString(),o=qa(i,r.decimals);return new Ka(Ba,n,o,r)}static from(t,e){if("string"==typeof t)return Ka.fromString(t,e);if(M(t))return Ka.fromBytes(t,e);try{return Ka.fromValue(t,0,e)}catch(t){if(t.code!==v.errors.INVALID_ARGUMENT)throw t}return Fa.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!(!t||!t._isFixedNumber)}}const Za=Ka.from(1),Ha=Ka.from("0.5");function Wa(t){return"0x"+lr.keccak_256(E(t))}const Ja=new v("rlp/5.0.3");function Xa(t){const e=[];for(;t;)e.unshift(255&t),t>>=8;return e}function Ya(t){if(Array.isArray(t)){let e=[];if(t.forEach((function(t){e=e.concat(Ya(t))})),e.length<=55)return e.unshift(192+e.length),e;const r=Xa(e.length);return r.unshift(247+r.length),r.concat(e)}var e;_(e=t)&&!(e.length%2)||M(e)||Ja.throwArgumentError("RLP object must be BytesLike","object",t);const r=Array.prototype.slice.call(E(t));if(1===r.length&&r[0]<=127)return r;if(r.length<=55)return r.unshift(128+r.length),r;const i=Xa(r.length);return i.unshift(183+i.length),i.concat(r)}const Qa=new v("address/5.0.4");function th(t){_(t,20)||Qa.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let t=0;t<40;t++)r[t]=e[t].charCodeAt(0);const i=E(Wa(r));for(let t=0;t<40;t+=2)i[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&i[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return"0x"+e.join("")}const eh={};for(let t=0;t<10;t++)eh[String(t)]=String(t);for(let t=0;t<26;t++)eh[String.fromCharCode(65+t)]=String(10+t);const rh=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function ih(t){let e=null;if("string"!=typeof t&&Qa.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=th(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Qa.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==function(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map(t=>eh[t]).join("");for(;e.length>=rh;){let t=e.substring(0,rh);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}(t)&&Qa.throwArgumentError("bad icap checksum","address",t),e=new Ia.BN(t.substring(4),36).toString(16);e.length<40;)e="0"+e;e=th("0x"+e)}else Qa.throwArgumentError("invalid address","address",t);return e}function nh(t){let e=null;try{e=ih(t.from)}catch(e){Qa.throwArgumentError("missing from address","transaction",t)}const r=function(t){let e=E(t);if(0===e.length)return e;let r=0;for(;r<e.length&&0===e[r];)r++;return r&&(e=e.slice(r)),e}(E(Oa.from(t.nonce).toHexString()));return ih((i=Wa(N(Ya([e,r]))),n=12,"string"!=typeof i?i=N(i):(!_(i)||i.length%2)&&y.throwArgumentError("invalid hexData","value",i),n=2+2*n,null!=o?"0x"+i.substring(n,2+2*o):"0x"+i.substring(n)));var i,n,o}var oh=a((function(t){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function n(t,e,r){if(n.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;try{o=Ot.Buffer}catch(t){}function s(t,e,r){for(var i=0,n=Math.min(t.length,r),o=e;o<n;o++){var s=t.charCodeAt(o)-48;i<<=4,i|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return i}function a(t,e,r,i){for(var n=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;n*=i,n+=a>=49?a-49+10:a>=17?a-17+10:a}return n}n.isBN=function(t){return t instanceof n||null!==t&&"object"==typeof t&&t.constructor.wordSize===n.wordSize&&Array.isArray(t.words)},n.max=function(t,e){return t.cmp(e)>0?t:e},n.min=function(t,e){return t.cmp(e)<0?t:e},n.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&n++,16===e?this._parseHex(t,n):this._parseBase(t,e,n),"-"===t[0]&&(this.negative=1),this.strip(),"le"===i&&this._initArray(this.toArray(),e,i)},n.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},n.prototype._initArray=function(t,e,i){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,s,a=0;if("be"===i)for(n=t.length-1,o=0;n>=0;n-=3)s=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===i)for(n=0,o=0;n<t.length;n+=3)s=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},n.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,n,o=0;for(r=t.length-6,i=0;r>=e;r-=6)n=s(t,r,r+6),this.words[i]|=n<<o&67108863,this.words[i+1]|=n>>>26-o&4194303,(o+=24)>=26&&(o-=26,i++);r+6!==e&&(n=s(t,e,r+6),this.words[i]|=n<<o&67108863,this.words[i+1]|=n>>>26-o&4194303),this.strip()},n.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0;for(var o=t.length-r,s=o%i,h=Math.min(o,o-s)+r,u=0,l=r;l<h;l+=i)u=a(t,l,l+i,e),this.imuln(n),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var f=1;for(u=a(t,l,t.length,e),l=0;l<s;l++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},n.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},n.prototype.clone=function(){var t=new n(null);return this.copy(t),t},n.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],o=0|e.words[0],s=n*o,a=67108863&s,h=s/67108864|0;r.words[0]=a;for(var u=1;u<i;u++){for(var l=h>>>26,f=67108863&h,c=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=c;d++){var m=u-d|0;l+=(s=(n=0|t.words[m])*(o=0|e.words[d])+f)/67108864|0,f=67108863&s}r.words[u]=0|f,h=0|l}return 0!==h?r.words[u]=0|h:r.length--,r.strip()}n.prototype.toString=function(t,e){var i;if(e=0|e||1,16===(t=t||10)||"hex"===t){i="";for(var n=0,o=0,s=0;s<this.length;s++){var a=this.words[s],f=(16777215&(a<<n|o)).toString(16);i=0!==(o=a>>>24-n&16777215)||s!==this.length-1?h[6-f.length]+f+i:f+i,(n+=2)>=26&&(n-=26,s--)}for(0!==o&&(i=o.toString(16)+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var c=u[t],d=l[t];i="";var m=this.clone();for(m.negative=0;!m.isZero();){var p=m.modn(d).toString(t);i=(m=m.idivn(d)).isZero()?p+i:h[c-p.length]+p+i}for(this.isZero()&&(i="0"+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(t,e){return r(void 0!==o),this.toArrayLike(o,t,e)},n.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},n.prototype.toArrayLike=function(t,e,i){var n=this.byteLength(),o=i||Math.max(1,n);r(n<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,h="le"===e,u=new t(o),l=this.clone();if(h){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-n;a++)u[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[o-a-1]=s}return u},Math.clz32?n.prototype._countBits=function(t){return 32-Math.clz32(t)}:n.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},n.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},n.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},n.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},n.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},n.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},n.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},n.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},n.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},n.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},n.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},n.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},n.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},n.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},n.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},n.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this.strip()},n.prototype.notn=function(t){return this.clone().inotn(t)},n.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var i=t/26|0,n=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<n:this.words[i]&~(1<<n),this.strip()},n.prototype.iadd=function(t){var e,r,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this);for(var n=0,o=0;o<i.length;o++)e=(0|r.words[o])+(0|i.words[o])+n,this.words[o]=67108863&e,n=e>>>26;for(;0!==n&&o<r.length;o++)e=(0|r.words[o])+n,this.words[o]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},n.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},n.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,i,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=t):(r=t,i=this);for(var o=0,s=0;s<i.length;s++)o=(e=(0|r.words[s])-(0|i.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(t){return this.clone().isub(t)};var c=function(t,e,r){var i,n,o,s=t.words,a=e.words,h=r.words,u=0,l=0|s[0],f=8191&l,c=l>>>13,d=0|s[1],m=8191&d,p=d>>>13,g=0|s[2],v=8191&g,y=g>>>13,w=0|s[3],b=8191&w,M=w>>>13,E=0|s[4],_=8191&E,N=E>>>13,A=0|s[5],S=8191&A,R=A>>>13,I=0|s[6],x=8191&I,k=I>>>13,O=0|s[7],T=8191&O,P=O>>>13,C=0|s[8],U=8191&C,F=C>>>13,B=0|s[9],D=8191&B,L=B>>>13,$=0|a[0],j=8191&$,z=$>>>13,q=0|a[1],G=8191&q,V=q>>>13,K=0|a[2],Z=8191&K,H=K>>>13,W=0|a[3],J=8191&W,X=W>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,it=et>>>13,nt=0|a[6],ot=8191&nt,st=nt>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ft=8191&lt,ct=lt>>>13,dt=0|a[9],mt=8191&dt,pt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(u+(i=Math.imul(f,j))|0)+((8191&(n=(n=Math.imul(f,z))+Math.imul(c,j)|0))<<13)|0;u=((o=Math.imul(c,z))+(n>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(m,j),n=(n=Math.imul(m,z))+Math.imul(p,j)|0,o=Math.imul(p,z);var vt=(u+(i=i+Math.imul(f,G)|0)|0)+((8191&(n=(n=n+Math.imul(f,V)|0)+Math.imul(c,G)|0))<<13)|0;u=((o=o+Math.imul(c,V)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(v,j),n=(n=Math.imul(v,z))+Math.imul(y,j)|0,o=Math.imul(y,z),i=i+Math.imul(m,G)|0,n=(n=n+Math.imul(m,V)|0)+Math.imul(p,G)|0,o=o+Math.imul(p,V)|0;var yt=(u+(i=i+Math.imul(f,Z)|0)|0)+((8191&(n=(n=n+Math.imul(f,H)|0)+Math.imul(c,Z)|0))<<13)|0;u=((o=o+Math.imul(c,H)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(b,j),n=(n=Math.imul(b,z))+Math.imul(M,j)|0,o=Math.imul(M,z),i=i+Math.imul(v,G)|0,n=(n=n+Math.imul(v,V)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,V)|0,i=i+Math.imul(m,Z)|0,n=(n=n+Math.imul(m,H)|0)+Math.imul(p,Z)|0,o=o+Math.imul(p,H)|0;var wt=(u+(i=i+Math.imul(f,J)|0)|0)+((8191&(n=(n=n+Math.imul(f,X)|0)+Math.imul(c,J)|0))<<13)|0;u=((o=o+Math.imul(c,X)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(_,j),n=(n=Math.imul(_,z))+Math.imul(N,j)|0,o=Math.imul(N,z),i=i+Math.imul(b,G)|0,n=(n=n+Math.imul(b,V)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,V)|0,i=i+Math.imul(v,Z)|0,n=(n=n+Math.imul(v,H)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,H)|0,i=i+Math.imul(m,J)|0,n=(n=n+Math.imul(m,X)|0)+Math.imul(p,J)|0,o=o+Math.imul(p,X)|0;var bt=(u+(i=i+Math.imul(f,Q)|0)|0)+((8191&(n=(n=n+Math.imul(f,tt)|0)+Math.imul(c,Q)|0))<<13)|0;u=((o=o+Math.imul(c,tt)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(S,j),n=(n=Math.imul(S,z))+Math.imul(R,j)|0,o=Math.imul(R,z),i=i+Math.imul(_,G)|0,n=(n=n+Math.imul(_,V)|0)+Math.imul(N,G)|0,o=o+Math.imul(N,V)|0,i=i+Math.imul(b,Z)|0,n=(n=n+Math.imul(b,H)|0)+Math.imul(M,Z)|0,o=o+Math.imul(M,H)|0,i=i+Math.imul(v,J)|0,n=(n=n+Math.imul(v,X)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,X)|0,i=i+Math.imul(m,Q)|0,n=(n=n+Math.imul(m,tt)|0)+Math.imul(p,Q)|0,o=o+Math.imul(p,tt)|0;var Mt=(u+(i=i+Math.imul(f,rt)|0)|0)+((8191&(n=(n=n+Math.imul(f,it)|0)+Math.imul(c,rt)|0))<<13)|0;u=((o=o+Math.imul(c,it)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(x,j),n=(n=Math.imul(x,z))+Math.imul(k,j)|0,o=Math.imul(k,z),i=i+Math.imul(S,G)|0,n=(n=n+Math.imul(S,V)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,V)|0,i=i+Math.imul(_,Z)|0,n=(n=n+Math.imul(_,H)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,H)|0,i=i+Math.imul(b,J)|0,n=(n=n+Math.imul(b,X)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,X)|0,i=i+Math.imul(v,Q)|0,n=(n=n+Math.imul(v,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,i=i+Math.imul(m,rt)|0,n=(n=n+Math.imul(m,it)|0)+Math.imul(p,rt)|0,o=o+Math.imul(p,it)|0;var Et=(u+(i=i+Math.imul(f,ot)|0)|0)+((8191&(n=(n=n+Math.imul(f,st)|0)+Math.imul(c,ot)|0))<<13)|0;u=((o=o+Math.imul(c,st)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(T,j),n=(n=Math.imul(T,z))+Math.imul(P,j)|0,o=Math.imul(P,z),i=i+Math.imul(x,G)|0,n=(n=n+Math.imul(x,V)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,V)|0,i=i+Math.imul(S,Z)|0,n=(n=n+Math.imul(S,H)|0)+Math.imul(R,Z)|0,o=o+Math.imul(R,H)|0,i=i+Math.imul(_,J)|0,n=(n=n+Math.imul(_,X)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,X)|0,i=i+Math.imul(b,Q)|0,n=(n=n+Math.imul(b,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,i=i+Math.imul(v,rt)|0,n=(n=n+Math.imul(v,it)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,it)|0,i=i+Math.imul(m,ot)|0,n=(n=n+Math.imul(m,st)|0)+Math.imul(p,ot)|0,o=o+Math.imul(p,st)|0;var _t=(u+(i=i+Math.imul(f,ht)|0)|0)+((8191&(n=(n=n+Math.imul(f,ut)|0)+Math.imul(c,ht)|0))<<13)|0;u=((o=o+Math.imul(c,ut)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(U,j),n=(n=Math.imul(U,z))+Math.imul(F,j)|0,o=Math.imul(F,z),i=i+Math.imul(T,G)|0,n=(n=n+Math.imul(T,V)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,V)|0,i=i+Math.imul(x,Z)|0,n=(n=n+Math.imul(x,H)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,H)|0,i=i+Math.imul(S,J)|0,n=(n=n+Math.imul(S,X)|0)+Math.imul(R,J)|0,o=o+Math.imul(R,X)|0,i=i+Math.imul(_,Q)|0,n=(n=n+Math.imul(_,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,i=i+Math.imul(b,rt)|0,n=(n=n+Math.imul(b,it)|0)+Math.imul(M,rt)|0,o=o+Math.imul(M,it)|0,i=i+Math.imul(v,ot)|0,n=(n=n+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,i=i+Math.imul(m,ht)|0,n=(n=n+Math.imul(m,ut)|0)+Math.imul(p,ht)|0,o=o+Math.imul(p,ut)|0;var Nt=(u+(i=i+Math.imul(f,ft)|0)|0)+((8191&(n=(n=n+Math.imul(f,ct)|0)+Math.imul(c,ft)|0))<<13)|0;u=((o=o+Math.imul(c,ct)|0)+(n>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,i=Math.imul(D,j),n=(n=Math.imul(D,z))+Math.imul(L,j)|0,o=Math.imul(L,z),i=i+Math.imul(U,G)|0,n=(n=n+Math.imul(U,V)|0)+Math.imul(F,G)|0,o=o+Math.imul(F,V)|0,i=i+Math.imul(T,Z)|0,n=(n=n+Math.imul(T,H)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,H)|0,i=i+Math.imul(x,J)|0,n=(n=n+Math.imul(x,X)|0)+Math.imul(k,J)|0,o=o+Math.imul(k,X)|0,i=i+Math.imul(S,Q)|0,n=(n=n+Math.imul(S,tt)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,tt)|0,i=i+Math.imul(_,rt)|0,n=(n=n+Math.imul(_,it)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,it)|0,i=i+Math.imul(b,ot)|0,n=(n=n+Math.imul(b,st)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,st)|0,i=i+Math.imul(v,ht)|0,n=(n=n+Math.imul(v,ut)|0)+Math.imul(y,ht)|0,o=o+Math.imul(y,ut)|0,i=i+Math.imul(m,ft)|0,n=(n=n+Math.imul(m,ct)|0)+Math.imul(p,ft)|0,o=o+Math.imul(p,ct)|0;var At=(u+(i=i+Math.imul(f,mt)|0)|0)+((8191&(n=(n=n+Math.imul(f,pt)|0)+Math.imul(c,mt)|0))<<13)|0;u=((o=o+Math.imul(c,pt)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(D,G),n=(n=Math.imul(D,V))+Math.imul(L,G)|0,o=Math.imul(L,V),i=i+Math.imul(U,Z)|0,n=(n=n+Math.imul(U,H)|0)+Math.imul(F,Z)|0,o=o+Math.imul(F,H)|0,i=i+Math.imul(T,J)|0,n=(n=n+Math.imul(T,X)|0)+Math.imul(P,J)|0,o=o+Math.imul(P,X)|0,i=i+Math.imul(x,Q)|0,n=(n=n+Math.imul(x,tt)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,tt)|0,i=i+Math.imul(S,rt)|0,n=(n=n+Math.imul(S,it)|0)+Math.imul(R,rt)|0,o=o+Math.imul(R,it)|0,i=i+Math.imul(_,ot)|0,n=(n=n+Math.imul(_,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,i=i+Math.imul(b,ht)|0,n=(n=n+Math.imul(b,ut)|0)+Math.imul(M,ht)|0,o=o+Math.imul(M,ut)|0,i=i+Math.imul(v,ft)|0,n=(n=n+Math.imul(v,ct)|0)+Math.imul(y,ft)|0,o=o+Math.imul(y,ct)|0;var St=(u+(i=i+Math.imul(m,mt)|0)|0)+((8191&(n=(n=n+Math.imul(m,pt)|0)+Math.imul(p,mt)|0))<<13)|0;u=((o=o+Math.imul(p,pt)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(D,Z),n=(n=Math.imul(D,H))+Math.imul(L,Z)|0,o=Math.imul(L,H),i=i+Math.imul(U,J)|0,n=(n=n+Math.imul(U,X)|0)+Math.imul(F,J)|0,o=o+Math.imul(F,X)|0,i=i+Math.imul(T,Q)|0,n=(n=n+Math.imul(T,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,i=i+Math.imul(x,rt)|0,n=(n=n+Math.imul(x,it)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,it)|0,i=i+Math.imul(S,ot)|0,n=(n=n+Math.imul(S,st)|0)+Math.imul(R,ot)|0,o=o+Math.imul(R,st)|0,i=i+Math.imul(_,ht)|0,n=(n=n+Math.imul(_,ut)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,ut)|0,i=i+Math.imul(b,ft)|0,n=(n=n+Math.imul(b,ct)|0)+Math.imul(M,ft)|0,o=o+Math.imul(M,ct)|0;var Rt=(u+(i=i+Math.imul(v,mt)|0)|0)+((8191&(n=(n=n+Math.imul(v,pt)|0)+Math.imul(y,mt)|0))<<13)|0;u=((o=o+Math.imul(y,pt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(D,J),n=(n=Math.imul(D,X))+Math.imul(L,J)|0,o=Math.imul(L,X),i=i+Math.imul(U,Q)|0,n=(n=n+Math.imul(U,tt)|0)+Math.imul(F,Q)|0,o=o+Math.imul(F,tt)|0,i=i+Math.imul(T,rt)|0,n=(n=n+Math.imul(T,it)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,it)|0,i=i+Math.imul(x,ot)|0,n=(n=n+Math.imul(x,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,i=i+Math.imul(S,ht)|0,n=(n=n+Math.imul(S,ut)|0)+Math.imul(R,ht)|0,o=o+Math.imul(R,ut)|0,i=i+Math.imul(_,ft)|0,n=(n=n+Math.imul(_,ct)|0)+Math.imul(N,ft)|0,o=o+Math.imul(N,ct)|0;var It=(u+(i=i+Math.imul(b,mt)|0)|0)+((8191&(n=(n=n+Math.imul(b,pt)|0)+Math.imul(M,mt)|0))<<13)|0;u=((o=o+Math.imul(M,pt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(D,Q),n=(n=Math.imul(D,tt))+Math.imul(L,Q)|0,o=Math.imul(L,tt),i=i+Math.imul(U,rt)|0,n=(n=n+Math.imul(U,it)|0)+Math.imul(F,rt)|0,o=o+Math.imul(F,it)|0,i=i+Math.imul(T,ot)|0,n=(n=n+Math.imul(T,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,i=i+Math.imul(x,ht)|0,n=(n=n+Math.imul(x,ut)|0)+Math.imul(k,ht)|0,o=o+Math.imul(k,ut)|0,i=i+Math.imul(S,ft)|0,n=(n=n+Math.imul(S,ct)|0)+Math.imul(R,ft)|0,o=o+Math.imul(R,ct)|0;var xt=(u+(i=i+Math.imul(_,mt)|0)|0)+((8191&(n=(n=n+Math.imul(_,pt)|0)+Math.imul(N,mt)|0))<<13)|0;u=((o=o+Math.imul(N,pt)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(D,rt),n=(n=Math.imul(D,it))+Math.imul(L,rt)|0,o=Math.imul(L,it),i=i+Math.imul(U,ot)|0,n=(n=n+Math.imul(U,st)|0)+Math.imul(F,ot)|0,o=o+Math.imul(F,st)|0,i=i+Math.imul(T,ht)|0,n=(n=n+Math.imul(T,ut)|0)+Math.imul(P,ht)|0,o=o+Math.imul(P,ut)|0,i=i+Math.imul(x,ft)|0,n=(n=n+Math.imul(x,ct)|0)+Math.imul(k,ft)|0,o=o+Math.imul(k,ct)|0;var kt=(u+(i=i+Math.imul(S,mt)|0)|0)+((8191&(n=(n=n+Math.imul(S,pt)|0)+Math.imul(R,mt)|0))<<13)|0;u=((o=o+Math.imul(R,pt)|0)+(n>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(D,ot),n=(n=Math.imul(D,st))+Math.imul(L,ot)|0,o=Math.imul(L,st),i=i+Math.imul(U,ht)|0,n=(n=n+Math.imul(U,ut)|0)+Math.imul(F,ht)|0,o=o+Math.imul(F,ut)|0,i=i+Math.imul(T,ft)|0,n=(n=n+Math.imul(T,ct)|0)+Math.imul(P,ft)|0,o=o+Math.imul(P,ct)|0;var Ot=(u+(i=i+Math.imul(x,mt)|0)|0)+((8191&(n=(n=n+Math.imul(x,pt)|0)+Math.imul(k,mt)|0))<<13)|0;u=((o=o+Math.imul(k,pt)|0)+(n>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,i=Math.imul(D,ht),n=(n=Math.imul(D,ut))+Math.imul(L,ht)|0,o=Math.imul(L,ut),i=i+Math.imul(U,ft)|0,n=(n=n+Math.imul(U,ct)|0)+Math.imul(F,ft)|0,o=o+Math.imul(F,ct)|0;var Tt=(u+(i=i+Math.imul(T,mt)|0)|0)+((8191&(n=(n=n+Math.imul(T,pt)|0)+Math.imul(P,mt)|0))<<13)|0;u=((o=o+Math.imul(P,pt)|0)+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(D,ft),n=(n=Math.imul(D,ct))+Math.imul(L,ft)|0,o=Math.imul(L,ct);var Pt=(u+(i=i+Math.imul(U,mt)|0)|0)+((8191&(n=(n=n+Math.imul(U,pt)|0)+Math.imul(F,mt)|0))<<13)|0;u=((o=o+Math.imul(F,pt)|0)+(n>>>13)|0)+(Pt>>>26)|0,Pt&=67108863;var Ct=(u+(i=Math.imul(D,mt))|0)+((8191&(n=(n=Math.imul(D,pt))+Math.imul(L,mt)|0))<<13)|0;return u=((o=Math.imul(L,pt))+(n>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,h[0]=gt,h[1]=vt,h[2]=yt,h[3]=wt,h[4]=bt,h[5]=Mt,h[6]=Et,h[7]=_t,h[8]=Nt,h[9]=At,h[10]=St,h[11]=Rt,h[12]=It,h[13]=xt,h[14]=kt,h[15]=Ot,h[16]=Tt,h[17]=Pt,h[18]=Ct,0!==u&&(h[19]=u,r.length++),r};function d(t,e,r){return(new m).mulp(t,e,r)}function m(t,e){this.x=t,this.y=e}Math.imul||(c=f),n.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?c(this,t,e):r<63?f(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,o=0;o<r.length-1;o++){var s=n;n=0;for(var a=67108863&i,h=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=h;u++){var l=o-u,f=(0|t.words[l])*(0|e.words[u]),c=67108863&f;a=67108863&(c=c+a|0),n+=(s=(s=s+(f/67108864|0)|0)+(c>>>26)|0)>>>26,s&=67108863}r.words[o]=a,i=s,s=n}return 0!==i?r.words[o]=i:r.length--,r.strip()}(this,t,e):d(this,t,e)},m.prototype.makeRBT=function(t){for(var e=new Array(t),r=n.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},m.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var i=0,n=0;n<e;n++)i|=(1&t)<<e-n-1,t>>=1;return i},m.prototype.permute=function(t,e,r,i,n,o){for(var s=0;s<o;s++)i[s]=e[t[s]],n[s]=r[t[s]]},m.prototype.transform=function(t,e,r,i,n,o){this.permute(o,t,e,r,i,n);for(var s=1;s<n;s<<=1)for(var a=s<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<n;l+=a)for(var f=h,c=u,d=0;d<s;d++){var m=r[l+d],p=i[l+d],g=r[l+d+s],v=i[l+d+s],y=f*g-c*v;v=f*v+c*g,g=y,r[l+d]=m+g,i[l+d]=p+v,r[l+d+s]=m-g,i[l+d+s]=p-v,d!==a&&(y=h*f-u*c,c=h*c+u*f,f=y)}},m.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},m.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},m.prototype.normalize13b=function(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=67108863&n,r=n<67108864?0:n/67108864|0}return t},m.prototype.convert13b=function(t,e,i,n){for(var o=0,s=0;s<e;s++)o+=0|t[s],i[2*s]=8191&o,o>>>=13,i[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<n;++s)i[s]=0;r(0===o),r(0==(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},m.prototype.mulp=function(t,e,r){var i=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(i),o=this.stub(i),s=new Array(i),a=new Array(i),h=new Array(i),u=new Array(i),l=new Array(i),f=new Array(i),c=r.words;c.length=i,this.convert13b(t.words,t.length,s,i),this.convert13b(e.words,e.length,u,i),this.transform(s,o,a,h,i,n),this.transform(u,o,l,f,i,n);for(var d=0;d<i;d++){var m=a[d]*l[d]-h[d]*f[d];h[d]=a[d]*f[d]+h[d]*l[d],a[d]=m}return this.conjugate(a,h,i),this.transform(a,h,c,o,i,n),this.conjugate(c,o,i),this.normalize13b(c,i),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},n.prototype.mul=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},n.prototype.mulf=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),d(this,t,e)},n.prototype.imul=function(t){return this.clone().mulTo(t,this)},n.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,i=0;i<this.length;i++){var n=(0|this.words[i])*t,o=(67108863&n)+(67108863&e);e>>=26,e+=n/67108864|0,e+=o>>>26,this.words[i]=67108863&o}return 0!==e&&(this.words[i]=e,this.length++),this},n.prototype.muln=function(t){return this.clone().imuln(t)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=(t.words[i]&1<<n)>>>n}return e}(t);if(0===e.length)return new n(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var o=r.sqr();i<e.length;i++,o=o.sqr())0!==e[i]&&(r=r.mul(o));return r},n.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,i=t%26,n=(t-i)/26,o=67108863>>>26-i<<26-i;if(0!==i){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,h=(0|this.words[e])-a<<i;this.words[e]=h|s,s=a>>>26-i}s&&(this.words[e]=s,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this.strip()},n.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},n.prototype.iushrn=function(t,e,i){var n;r("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,h=i;if(n-=s,n=Math.max(0,n),h){for(var u=0;u<s;u++)h.words[u]=this.words[u];h.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=n);u--){var f=0|this.words[u];this.words[u]=l<<26-o|f>>>o,l=f&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(t,e,i){return r(0===this.negative),this.iushrn(t,e,i)},n.prototype.shln=function(t){return this.clone().ishln(t)},n.prototype.ushln=function(t){return this.clone().iushln(t)},n.prototype.shrn=function(t){return this.clone().ishrn(t)},n.prototype.ushrn=function(t){return this.clone().iushrn(t)},n.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26,n=1<<e;return!(this.length<=i)&&!!(this.words[i]&n)},n.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this.strip()},n.prototype.maskn=function(t){return this.clone().imaskn(t)},n.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},n.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},n.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},n.prototype.addn=function(t){return this.clone().iaddn(t)},n.prototype.subn=function(t){return this.clone().isubn(t)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(t,e,i){var n,o,s=t.length+i;this._expand(s);var a=0;for(n=0;n<t.length;n++){o=(0|this.words[n+i])+a;var h=(0|t.words[n])*e;a=((o-=67108863&h)>>26)-(h/67108864|0),this.words[n+i]=67108863&o}for(;n<this.length-i;n++)a=(o=(0|this.words[n+i])+a)>>26,this.words[n+i]=67108863&o;if(0===a)return this.strip();for(r(-1===a),a=0,n=0;n<this.length;n++)a=(o=-(0|this.words[n])+a)>>26,this.words[n]=67108863&o;return this.negative=1,this.strip()},n.prototype._wordDiv=function(t,e){var r=(this.length,t.length),i=this.clone(),o=t,s=0|o.words[o.length-1];0!==(r=26-this._countBits(s))&&(o=o.ushln(r),i.iushln(r),s=0|o.words[o.length-1]);var a,h=i.length-o.length;if("mod"!==e){(a=new n(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=i.clone()._ishlnsubmul(o,1,h);0===l.negative&&(i=l,a&&(a.words[h]=1));for(var f=h-1;f>=0;f--){var c=67108864*(0|i.words[o.length+f])+(0|i.words[o.length+f-1]);for(c=Math.min(c/s|0,67108863),i._ishlnsubmul(o,c,f);0!==i.negative;)c--,i.negative=0,i._ishlnsubmul(o,1,f),i.isZero()||(i.negative^=1);a&&(a.words[f]=c)}return a&&a.strip(),i.strip(),"div"!==e&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},n.prototype.divmod=function(t,e,i){return r(!t.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(o=a.div.neg()),"div"!==e&&(s=a.mod.neg(),i&&0!==s.negative&&s.iadd(t)),{div:o,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(o=a.div.neg()),{div:o,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),i&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new n(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new n(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new n(this.modn(t.words[0]))}:this._wordDiv(t,e);var o,s,a},n.prototype.div=function(t){return this.divmod(t,"div",!1).div},n.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},n.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},n.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),o=r.cmp(i);return o<0||1===n&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},n.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,i=0,n=this.length-1;n>=0;n--)i=(e*i+(0|this.words[n]))%t;return i},n.prototype.idivn=function(t){r(t<=67108863);for(var e=0,i=this.length-1;i>=0;i--){var n=(0|this.words[i])+67108864*e;this.words[i]=n/t|0,e=n%t}return this.strip()},n.prototype.divn=function(t){return this.clone().idivn(t)},n.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new n(1),s=new n(0),a=new n(0),h=new n(1),u=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++u;for(var l=i.clone(),f=e.clone();!e.isZero();){for(var c=0,d=1;0==(e.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(e.iushrn(c);c-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(l),s.isub(f)),o.iushrn(1),s.iushrn(1);for(var m=0,p=1;0==(i.words[0]&p)&&m<26;++m,p<<=1);if(m>0)for(i.iushrn(m);m-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(f)),a.iushrn(1),h.iushrn(1);e.cmp(i)>=0?(e.isub(i),o.isub(a),s.isub(h)):(i.isub(e),a.isub(o),h.isub(s))}return{a:a,b:h,gcd:i.iushln(u)}},n.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,s=new n(1),a=new n(0),h=i.clone();e.cmpn(1)>0&&i.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var f=0,c=1;0==(i.words[0]&c)&&f<26;++f,c<<=1);if(f>0)for(i.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(i)>=0?(e.isub(i),s.isub(a)):(i.isub(e),a.isub(s))}return(o=0===e.cmpn(1)?s:a).cmpn(0)<0&&o.iadd(t),o},n.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var o=e;e=r,r=o}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},n.prototype.invm=function(t){return this.egcd(t).a.umod(t)},n.prototype.isEven=function(){return 0==(1&this.words[0])},n.prototype.isOdd=function(){return 1==(1&this.words[0])},n.prototype.andln=function(t){return this.words[0]&t},n.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,i=(t-e)/26,n=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var o=n,s=i;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(t){var e,i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)e=1;else{i&&(t=-t),r(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},n.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},n.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},n.prototype.gtn=function(t){return 1===this.cmpn(t)},n.prototype.gt=function(t){return 1===this.cmp(t)},n.prototype.gten=function(t){return this.cmpn(t)>=0},n.prototype.gte=function(t){return this.cmp(t)>=0},n.prototype.ltn=function(t){return-1===this.cmpn(t)},n.prototype.lt=function(t){return-1===this.cmp(t)},n.prototype.lten=function(t){return this.cmpn(t)<=0},n.prototype.lte=function(t){return this.cmp(t)<=0},n.prototype.eqn=function(t){return 0===this.cmpn(t)},n.prototype.eq=function(t){return 0===this.cmp(t)},n.red=function(t){return new M(t)},n.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(t){return this.red=t,this},n.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},n.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},n.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},n.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},n.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},n.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},n.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},n.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var p={k256:null,p224:null,p192:null,p25519:null};function g(t,e){this.name=t,this.p=new n(e,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function y(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function b(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(t){if("string"==typeof t){var e=n._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function E(t){M.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g.prototype._tmp=function(){var t=new n(null);return t.words=new Array(Math.ceil(this.n/13)),t},g.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},g.prototype.split=function(t,e){t.iushrn(this.n,0,e)},g.prototype.imulK=function(t){return t.imul(this.k)},i(v,g),v.prototype.split=function(t,e){for(var r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var n=t.words[9];for(e.words[e.length++]=4194303&n,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(4194303&o)<<4|n>>>22,n=o}n>>>=22,t.words[i-10]=n,0===n&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(y,g),i(w,g),i(b,g),b.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=19*(0|t.words[r])+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},n._prime=function(t){if(p[t])return p[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new y;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new b}return p[t]=e,e},M.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},M.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},M.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},M.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},M.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},M.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},M.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},M.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},M.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},M.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},M.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},M.prototype.isqr=function(t){return this.imul(t,t.clone())},M.prototype.sqr=function(t){return this.mul(t,t)},M.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var i=this.m.add(new n(1)).iushrn(2);return this.pow(t,i)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new n(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new n(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var f=this.pow(l,o),c=this.pow(t,o.addn(1).iushrn(1)),d=this.pow(t,o),m=s;0!==d.cmp(a);){for(var p=d,g=0;0!==p.cmp(a);g++)p=p.redSqr();r(g<m);var v=this.pow(f,new n(1).iushln(m-g-1));c=c.redMul(v),f=v.redSqr(),d=d.redMul(f),m=g}return c},M.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},M.prototype.pow=function(t,e){if(e.isZero())return new n(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new n(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var o=r[0],s=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),i=e.length-1;i>=0;i--){for(var u=e.words[i],l=h-1;l>=0;l--){var f=u>>l&1;o!==r[0]&&(o=this.sqr(o)),0!==f||0!==s?(s<<=1,s|=f,(4===++a||0===i&&0===l)&&(o=this.mul(o,r[s]),a=0,s=0)):a=0}h=26}return o},M.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},M.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},n.mont=function(t){return new E(t)},i(E,M),E.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},E.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},E.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},E.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new n(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(i).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},E.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,n)}));const sh=new v("bytes/5.0.8");function ah(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(null==t.length)return!1;for(let e=0;e<t.length;e++){const r=t[e];if("number"!=typeof r||r<0||r>=256||r%1)return!1}return!0}function hh(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}var uh=oh.BN;const lh=new v("bignumber/5.0.12"),fh={};let ch=!1;class dh{constructor(t,e){lh.checkNew(new.target,dh),t!==fh&&lh.throwError("cannot call constructor directly; use BigNumber.from",v.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return ph(gh(this).fromTwos(t))}toTwos(t){return ph(gh(this).toTwos(t))}abs(){return"-"===this._hex[0]?dh.from(this._hex.substring(1)):this}add(t){return ph(gh(this).add(gh(t)))}sub(t){return ph(gh(this).sub(gh(t)))}div(t){return dh.from(t).isZero()&&vh("division by zero","div"),ph(gh(this).div(gh(t)))}mul(t){return ph(gh(this).mul(gh(t)))}mod(t){const e=gh(t);return e.isNeg()&&vh("cannot modulo negative values","mod"),ph(gh(this).umod(e))}pow(t){const e=gh(t);return e.isNeg()&&vh("cannot raise to negative values","pow"),ph(gh(this).pow(e))}and(t){const e=gh(t);return(this.isNegative()||e.isNeg())&&vh("cannot 'and' negative values","and"),ph(gh(this).and(e))}or(t){const e=gh(t);return(this.isNegative()||e.isNeg())&&vh("cannot 'or' negative values","or"),ph(gh(this).or(e))}xor(t){const e=gh(t);return(this.isNegative()||e.isNeg())&&vh("cannot 'xor' negative values","xor"),ph(gh(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&vh("cannot mask negative values","mask"),ph(gh(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&vh("cannot shift negative values","shl"),ph(gh(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&vh("cannot shift negative values","shr"),ph(gh(this).shrn(t))}eq(t){return gh(this).eq(gh(t))}lt(t){return gh(this).lt(gh(t))}lte(t){return gh(this).lte(gh(t))}gt(t){return gh(this).gt(gh(t))}gte(t){return gh(this).gte(gh(t))}isNegative(){return"-"===this._hex[0]}isZero(){return gh(this).isZero()}toNumber(){try{return gh(this).toNumber()}catch(t){vh("overflow","toNumber",this.toString())}return null}toString(){return arguments.length>0&&(10===arguments[0]?ch||(ch=!0,lh.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?lh.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",v.errors.UNEXPECTED_ARGUMENT,{}):lh.throwError("BigNumber.toString does not accept parameters",v.errors.UNEXPECTED_ARGUMENT,{})),gh(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof dh)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new dh(fh,mh(t)):t.match(/^-?[0-9]+$/)?new dh(fh,mh(new uh(t))):lh.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&vh("underflow","BigNumber.from",t),(t>=9007199254740991||t<=-9007199254740991)&&vh("overflow","BigNumber.from",t),dh.from(String(t));const e=t;if("bigint"==typeof e)return dh.from(e.toString());if(ah(e))return dh.from(function(t,e){if(e||(e={}),"number"==typeof t){sh.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e="0123456789abcdef"[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),function(t){return!!t.toHexString}(t))return t.toHexString();if(hh(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":sh.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(ah(t)){let e="0x";for(let r=0;r<t.length;r++){let i=t[r];e+="0123456789abcdef"[(240&i)>>4]+"0123456789abcdef"[15&i]}return e}return sh.throwArgumentError("invalid hexlify value","value",t)}(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return dh.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(hh(t)||"-"===t[0]&&hh(t.substring(1))))return dh.from(t)}return lh.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function mh(t){if("string"!=typeof t)return mh(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&lh.throwArgumentError("invalid hex","value",t),"0x00"===(t=mh(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function ph(t){return dh.from(mh(t))}function gh(t){const e=dh.from(t).toHexString();return"-"===e[0]?new uh("-"+e.substring(3),16):new uh(e.substring(2),16)}function vh(t,e,r){const i={fault:t,operation:e};return null!=r&&(i.value=r),lh.throwError(t,v.errors.NUMERIC_FAULT,i)}var yh=window&&window.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function s(t){try{h(i.next(t))}catch(t){o(t)}}function a(t){try{h(i.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}h((i=i.apply(t,e||[])).next())}))};const wh=new v("properties/5.0.3");function bh(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Mh(t){return yh(this,void 0,void 0,(function*(){const e=Object.keys(t).map(e=>{const r=t[e];return Promise.resolve(r).then(t=>({key:e,value:t}))});return(yield Promise.all(e)).reduce((t,e)=>(t[e.key]=e.value,t),{})}))}function Eh(t){const e={};for(const r in t)e[r]=t[r];return e}const _h={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Nh(t){if(function t(e){if(null==e||_h[typeof e])return!0;if(Array.isArray(e)||"object"==typeof e){if(!Object.isFrozen(e))return!1;const r=Object.keys(e);for(let i=0;i<r.length;i++)if(!t(e[r[i]]))return!1;return!0}return wh.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}(t))return t;if(Array.isArray(t))return Object.freeze(t.map(t=>Ah(t)));if("object"==typeof t){const e={};for(const r in t){const i=t[r];void 0!==i&&bh(e,r,Ah(i))}return e}return wh.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function Ah(t){return Nh(t)}var Sh=window&&window.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function s(t){try{h(i.next(t))}catch(t){o(t)}}function a(t){try{h(i.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}h((i=i.apply(t,e||[])).next())}))};const Rh=new v("contracts/5.0.3");function Ih(t,e){return Sh(this,void 0,void 0,(function*(){const r=yield e;try{return ih(r)}catch(t){}return t||Rh.throwError("a provider or signer is needed to resolve ENS names",v.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"}),yield t.resolveName(r)}))}function xh(t,e,r){if(Array.isArray(r))return Promise.all(r.map((r,i)=>xh(t,Array.isArray(e)?e[i]:e[r.name],r)));if("address"===r.type)return Ih(t,e);if("tuple"===r.type)return xh(t,e,r.components);if("array"===r.baseType){if(!Array.isArray(e))throw new Error("invalid value for array");return Promise.all(e.map(e=>xh(t,e,r.arrayChildren)))}return Promise.resolve(e)}function kh(t,e,r){return Sh(this,void 0,void 0,(function*(){let i={};r.length===e.inputs.length+1&&"object"==typeof r[r.length-1]&&(i=Eh(r.pop())),Rh.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?i.from?i.from=Mh({override:Ih(t.signer,i.from),signer:t.signer.getAddress()}).then(t=>Sh(this,void 0,void 0,(function*(){return ih(t.signer)!==t.override&&Rh.throwError("Contract with a Signer cannot override from",v.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),t.override}))):i.from=t.signer.getAddress():i.from&&(i.from=Ih(t.provider,i.from));const n=yield Mh({args:xh(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:Mh(i)||{}}),o={data:t.interface.encodeFunctionData(e,n.args),to:n.address},s=n.overrides;if(null!=s.nonce&&(o.nonce=dh.from(s.nonce).toNumber()),null!=s.gasLimit&&(o.gasLimit=dh.from(s.gasLimit)),null!=s.gasPrice&&(o.gasPrice=dh.from(s.gasPrice)),null!=s.from&&(o.from=s.from),null==o.gasLimit&&null!=e.gas&&(o.gasLimit=dh.from(e.gas).add(21e3)),s.value){const t=dh.from(s.value);t.isZero()||e.payable||Rh.throwError("non-payable method cannot override value",v.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:i.value}),o.value=t}delete i.nonce,delete i.gasLimit,delete i.gasPrice,delete i.from,delete i.value;const a=Object.keys(i).filter(t=>null!=i[t]);return a.length&&Rh.throwError("cannot override "+a.map(t=>JSON.stringify(t)).join(","),v.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:a}),o}))}function Oh(t,e,r){const i=t.signer||t.provider;return function(...n){return Sh(this,void 0,void 0,(function*(){let o=void 0;if(n.length===e.inputs.length+1&&"object"==typeof n[n.length-1]){const t=Eh(n.pop());null!=t.blockTag&&(o=yield t.blockTag),delete t.blockTag,n.push(t)}null!=t.deployTransaction&&(yield t._deployed(o));const s=yield kh(t,e,n),a=yield i.call(s,o);try{let i=t.interface.decodeFunctionResult(e,a);return r&&1===e.outputs.length&&(i=i[0]),i}catch(e){throw e.code===v.errors.CALL_EXCEPTION&&(e.address=t.address,e.args=n,e.transaction=s),e}}))}}function Th(t,e,r){return e.constant?Oh(t,e,r):function(t,e){return function(...r){return Sh(this,void 0,void 0,(function*(){t.signer||Rh.throwError("sending a transaction requires a signer",v.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null!=t.deployTransaction&&(yield t._deployed());const i=yield kh(t,e,r),n=yield t.signer.sendTransaction(i),o=n.wait.bind(n);return n.wait=e=>o(e).then(e=>(e.events=e.logs.map(r=>{let i=Ah(r),n=null;try{n=t.interface.parseLog(r)}catch(t){}return n&&(i.args=n.args,i.decode=(e,r)=>t.interface.decodeEventLog(n.eventFragment,e,r),i.event=n.name,i.eventSignature=n.signature),i.removeListener=()=>t.provider,i.getBlock=()=>t.provider.getBlock(e.blockHash),i.getTransaction=()=>t.provider.getTransaction(e.transactionHash),i.getTransactionReceipt=()=>Promise.resolve(e),i}),e)),n}))}}(t,e)}function Ph(t){return!t.address||null!=t.topics&&0!==t.topics.length?(t.address||"*")+"@"+(t.topics?t.topics.map(t=>Array.isArray(t)?t.join("|"):t).join(":"):""):"*"}class Ch{constructor(t,e){bh(this,"tag",t),bh(this,"filter",e),this._listeners=[]}addListener(t,e){this._listeners.push({listener:t,once:e})}removeListener(t){let e=!1;this._listeners=this._listeners.filter(r=>!(!e&&r.listener===t)||(e=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(t=>t.listener)}listenerCount(){return this._listeners.length}run(t){const e=this.listenerCount();return this._listeners=this._listeners.filter(e=>{const r=t.slice();return setTimeout(()=>{e.listener.apply(this,r)},0),!e.once}),e}prepareEvent(t){}getEmit(t){return[t]}}class Uh extends Ch{constructor(){super("error",null)}}class Fh extends Ch{constructor(t,e,r,i){const n={address:t};let o=e.getEventTopic(r);i?(o!==i[0]&&Rh.throwArgumentError("topic mismatch","topics",i),n.topics=i.slice()):n.topics=[o],super(Ph(n),n),bh(this,"address",t),bh(this,"interface",e),bh(this,"fragment",r)}prepareEvent(t){super.prepareEvent(t),t.event=this.fragment.name,t.eventSignature=this.fragment.format(),t.decode=(t,e)=>this.interface.decodeEventLog(this.fragment,t,e);try{t.args=this.interface.decodeEventLog(this.fragment,t.data,t.topics)}catch(e){t.args=null,t.decodeError=e}}getEmit(t){const e=function(t){const e=[],r=function(t,i){if(Array.isArray(i))for(let n in i){const o=t.slice();o.push(n);try{r(o,i[n])}catch(t){e.push({path:o,error:t})}}};return r([],t),e}(t.args);if(e.length)throw e[0].error;const r=(t.args||[]).slice();return r.push(t),r}}class Bh extends Ch{constructor(t,e){super("*",{address:t}),bh(this,"address",t),bh(this,"interface",e)}prepareEvent(t){super.prepareEvent(t);try{const e=this.interface.parseLog(t);t.event=e.name,t.eventSignature=e.signature,t.decode=(t,r)=>this.interface.decodeEventLog(e.eventFragment,t,r),t.args=e.args}catch(t){}}}class Dh{constructor(t,e,r){Rh.checkNew(new.target,Dh),bh(this,"interface",function(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||"object"!=typeof t.prototype)break;t=Object.getPrototypeOf(t.prototype).constructor}return null}(new.target,"getInterface")(e)),null==r?(bh(this,"provider",null),bh(this,"signer",null)):Sa.isSigner(r)?(bh(this,"provider",r.provider||null),bh(this,"signer",r)):ua.isProvider(r)?(bh(this,"provider",r),bh(this,"signer",null)):Rh.throwArgumentError("invalid signer or provider","signerOrProvider",r),bh(this,"callStatic",{}),bh(this,"estimateGas",{}),bh(this,"functions",{}),bh(this,"populateTransaction",{}),bh(this,"filters",{});{const t={};Object.keys(this.interface.events).forEach(e=>{const r=this.interface.events[e];bh(this.filters,e,(...t)=>({address:this.address,topics:this.interface.encodeFilterTopics(r,t)})),t[r.name]||(t[r.name]=[]),t[r.name].push(e)}),Object.keys(t).forEach(e=>{const r=t[e];1===r.length?bh(this.filters,e,this.filters[r[0]]):Rh.warn(`Duplicate definition of ${e} (${r.join(", ")})`)})}if(bh(this,"_runningEvents",{}),bh(this,"_wrappedEmits",{}),bh(this,"address",t),this.provider)bh(this,"resolvedAddress",this.provider.resolveName(t).then(t=>{if(null==t)throw new Error("name not found");return t}).catch(e=>{throw console.log("ERROR: Cannot find Contract - "+t),e}));else try{bh(this,"resolvedAddress",Promise.resolve(ih(t)))}catch(t){Rh.throwError("provider is required to use ENS name as contract address",v.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}const i={},n={};Object.keys(this.interface.functions).forEach(t=>{const e=this.interface.functions[t];if(n[t])Rh.warn("Duplicate ABI entry for "+JSON.stringify(name));else{n[t]=!0;{const r=e.name;i[r]||(i[r]=[]),i[r].push(t)}null==this[t]&&bh(this,t,Th(this,e,!0)),null==this.functions[t]&&bh(this.functions,t,Th(this,e,!1)),null==this.callStatic[t]&&bh(this.callStatic,t,Oh(this,e,!0)),null==this.populateTransaction[t]&&bh(this.populateTransaction,t,function(t,e){return function(...r){return Sh(this,void 0,void 0,(function*(){return kh(t,e,r)}))}}(this,e)),null==this.estimateGas[t]&&bh(this.estimateGas,t,function(t,e){const r=t.signer||t.provider;return function(...i){return Sh(this,void 0,void 0,(function*(){r||Rh.throwError("estimate require a provider or signer",v.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const n=yield kh(t,e,i);return yield r.estimateGas(n)}))}}(this,e))}}),Object.keys(i).forEach(t=>{const e=i[t];if(e.length>1)return;const r=e[0];null==this[t]&&bh(this,t,this[r]),null==this.functions[t]&&bh(this.functions,t,this.functions[r]),null==this.callStatic[t]&&bh(this.callStatic,t,this.callStatic[r]),null==this.populateTransaction[t]&&bh(this.populateTransaction,t,this.populateTransaction[r]),null==this.estimateGas[t]&&bh(this.estimateGas,t,this.estimateGas[r])})}static getContractAddress(t){return nh(t)}static getInterface(t){return Zs.isInterface(t)?t:new Zs(t)}deployed(){return this._deployed()}_deployed(t){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,t).then(t=>("0x"===t&&Rh.throwError("contract not deployed",v.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(t){this.signer||Rh.throwError("sending a transactions require a signer",v.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const e=Eh(t||{});return["from","to"].forEach((function(t){null!=e[t]&&Rh.throwError("cannot override "+t,v.errors.UNSUPPORTED_OPERATION,{operation:t})})),e.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(e))}connect(t){"string"==typeof t&&(t=new Ra(t,this.provider));const e=new this.constructor(this.address,this.interface,t);return this.deployTransaction&&bh(e,"deployTransaction",this.deployTransaction),e}attach(t){return new this.constructor(t,this.interface,this.signer||this.provider)}static isIndexed(t){return Gs.isIndexed(t)}_normalizeRunningEvent(t){return this._runningEvents[t.tag]?this._runningEvents[t.tag]:t}_getRunningEvent(t){if("string"==typeof t){if("error"===t)return this._normalizeRunningEvent(new Uh);if("event"===t)return this._normalizeRunningEvent(new Ch("event",null));if("*"===t)return this._normalizeRunningEvent(new Bh(this.address,this.interface));const e=this.interface.getEvent(t);return this._normalizeRunningEvent(new Fh(this.address,this.interface,e))}if(t.topics&&t.topics.length>0){try{const e=t.topics[0];if("string"!=typeof e)throw new Error("invalid topic");const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new Fh(this.address,this.interface,r,t.topics))}catch(t){}const e={address:this.address,topics:t.topics};return this._normalizeRunningEvent(new Ch(Ph(e),e))}return this._normalizeRunningEvent(new Bh(this.address,this.interface))}_checkRunningEvents(t){if(0===t.listenerCount()){delete this._runningEvents[t.tag];const e=this._wrappedEmits[t.tag];e&&(this.provider.off(t.filter,e),delete this._wrappedEmits[t.tag])}}_wrapEvent(t,e,r){const i=Ah(e);return i.removeListener=()=>{r&&(t.removeListener(r),this._checkRunningEvents(t))},i.getBlock=()=>this.provider.getBlock(e.blockHash),i.getTransaction=()=>this.provider.getTransaction(e.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(e.transactionHash),t.prepareEvent(i),i}_addEventListener(t,e,r){if(this.provider||Rh.throwError("events require a provider or a signer with a provider",v.errors.UNSUPPORTED_OPERATION,{operation:"once"}),t.addListener(e,r),this._runningEvents[t.tag]=t,!this._wrappedEmits[t.tag]){const r=r=>{let i=this._wrapEvent(t,r,e);if(null==i.decodeError)try{const e=t.getEmit(i);this.emit(t.filter,...e)}catch(t){i.decodeError=t.error}null!=t.filter&&this.emit("event",i),null!=i.decodeError&&this.emit("error",i.decodeError,i)};this._wrappedEmits[t.tag]=r,null!=t.filter&&this.provider.on(t.filter,r)}}queryFilter(t,e,r){const i=this._getRunningEvent(t),n=Eh(i.filter);return"string"==typeof e&&_(e,32)?(null!=r&&Rh.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),n.blockHash=e):(n.fromBlock=null!=e?e:0,n.toBlock=null!=r?r:"latest"),this.provider.getLogs(n).then(t=>t.map(t=>this._wrapEvent(i,t,null)))}on(t,e){return this._addEventListener(this._getRunningEvent(t),e,!1),this}once(t,e){return this._addEventListener(this._getRunningEvent(t),e,!0),this}emit(t,...e){if(!this.provider)return!1;const r=this._getRunningEvent(t),i=r.run(e)>0;return this._checkRunningEvents(r),i}listenerCount(t){return this.provider?this._getRunningEvent(t).listenerCount():0}listeners(t){if(!this.provider)return[];if(null==t){const t=[];for(let e in this._runningEvents)this._runningEvents[e].listeners().forEach(e=>{t.push(e)});return t}return this._getRunningEvent(t).listeners()}removeAllListeners(t){if(!this.provider)return this;if(null==t){for(const t in this._runningEvents){const e=this._runningEvents[t];e.removeAllListeners(),this._checkRunningEvents(e)}return this}const e=this._getRunningEvent(t);return e.removeAllListeners(),this._checkRunningEvents(e),this}off(t,e){if(!this.provider)return this;const r=this._getRunningEvent(t);return r.removeListener(e),this._checkRunningEvents(r),this}removeListener(t,e){return this.off(t,e)}}var Lh=function(t){this.value=t},$h=Object.defineProperty({EnumType:Lh},"__esModule",{value:!0}),jh=function(){function t(t){this.value=t}return t.prototype.toJSON=function(){return"$"+this.value},t}(),zh=Object.defineProperty({VariableType:jh},"__esModule",{value:!0}),qh=a((function(t,e){function r(t){return t instanceof $h.EnumType?t.value:t instanceof zh.VariableType?"$"+t.value:"object"!=typeof t||null===t?JSON.stringify(t):Array.isArray(t)?"["+t.map((function(t){return r(t)})).join(", ")+"]":"{"+Object.keys(t).map((function(e){return e+": "+r(t[e])})).join(", ")+"}"}function i(t,r){return-1==e.configFields.indexOf(t)&&-1==r.indexOf(t)}function n(t,e,o,s){Object.keys(t).filter((function(t){return i(t,s.ignoreFields)})).forEach((function(a){var h=t[a];if("object"==typeof h){if(Array.isArray(h)&&!(h=h.find((function(t){return t&&"object"==typeof t}))))return void o.push([""+a,e]);var u=Object.keys(h).filter((function(t){return i(t,s.ignoreFields)})).length>0,l="object"==typeof h.__args,f="object"==typeof h.__directives,c=h.__all_on instanceof Array,d="object"==typeof h.__on,m=""+a;if("string"==typeof h.__aliasFor&&(m=m+": "+h.__aliasFor),"object"==typeof h.__variables)m=m+" ("+function(t){var e=[];for(var r in t)e.push("$"+r+": "+t[r]);return e.join(", ")}(h.__variables)+")";else if(l||f){var p="",g="";if(f){var v=Object.keys(h.__directives).length;if(v>1)throw new Error("Too many directives. The object/key '"+Object.keys(h)[0]+"' had "+v+" directives, but only 1 directive per object/key is supported at this time.");g="@"+function(t){var e=Object.keys(t)[0],i=t[e];if("boolean"==typeof i)return e;if("object"==typeof i){var n=[];for(var o in i){var s=r(i[o]).replace(/"/g,"");n.push(o+": "+s)}return e+"("+n.join(", ")+")"}throw new Error("Unsupported type for directive: "+typeof i+". Types allowed: object, boolean.\nOffending object: "+JSON.stringify(t))}(h.__directives)}l&&(p="("+function(t){var e=[];for(var i in t)e.push(i+": "+r(t[i]));return e.join(", ")}(h.__args)+")"),m=m+" "+g+(f&&l?" ":"")+p}if(o.push([m+(u||d||c?" {":""),e]),n(h,e+1,o,s),c&&h.__all_on.forEach((function(t){o.push(["..."+t,e+1])})),d)(h.__on instanceof Array?h.__on:[h.__on]).forEach((function(t){var r=t.__typeName;o.push(["... on "+r+" {",e+1]),n(t,e+2,o,s),o.push(["}",e+1])}));(u||d||c)&&o.push(["}",e])}else(!0===s.includeFalsyKeys||h)&&o.push([""+a,e])}))}Object.defineProperty(e,"__esModule",{value:!0}),e.configFields=["__args","__alias","__aliasFor","__variables","__directives","__on","__all_on","__typeName"],e.jsonToGraphQLQuery=function(t,e){if(void 0===e&&(e={}),!t||"object"!=typeof t)throw new Error("query object not specified");if(0==Object.keys(t).length)throw new Error("query object has no data");e.ignoreFields instanceof Array||(e.ignoreFields=[]);var r=[];n(t,0,r,e);var i="";return r.forEach((function(t){var r=t[0],n=t[1];e.pretty?(i&&(i+="\n"),i+=function(t){return Array(4*t+1).join(" ")}(n)+r):(i&&(i+=" "),i+=r)})),i}})),Gh=a((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}(qh),e.EnumType=$h.EnumType,e.VariableType=zh.VariableType})),Vh=a((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class r{}e._CodeOrName=r,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class i extends r{constructor(t){if(super(),!e.IDENTIFIER.test(t))throw new Error("CodeGen: name must be a valid identifier");this.str=t}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=i;class n extends r{constructor(t){super(),this._items="string"==typeof t?[t]:t}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const t=this._items[0];return""===t||'""'===t}get str(){var t;return null!==(t=this._str)&&void 0!==t?t:this._str=this._items.reduce((t,e)=>`${t}${e}`,"")}get names(){var t;return null!==(t=this._names)&&void 0!==t?t:this._names=this._items.reduce((t,e)=>(e instanceof i&&(t[e.str]=(t[e.str]||0)+1),t),{})}}function o(t,...e){const r=[t[0]];let i=0;for(;i<e.length;)h(r,e[i]),r.push(t[++i]);return new n(r)}e._Code=n,e.nil=new n(""),e._=o;const s=new n("+");function a(t,...e){const r=[l(t[0])];let i=0;for(;i<e.length;)r.push(s),h(r,e[i]),r.push(s,l(t[++i]));return function(t){let e=1;for(;e<t.length-1;){if(t[e]===s){const r=u(t[e-1],t[e+1]);if(void 0!==r){t.splice(e-1,3,r);continue}t[e++]="+"}e++}}(r),new n(r)}function h(t,e){e instanceof n?t.push(...e._items):e instanceof i?t.push(e):t.push(function(t){return"number"==typeof t||"boolean"==typeof t||null===t?t:l(Array.isArray(t)?t.join(","):t)}(e))}function u(t,e){if('""'===e)return t;if('""'===t)return e;if("string"==typeof t){if(e instanceof i||'"'!==t[t.length-1])return;return"string"!=typeof e?`${t.slice(0,-1)}${e}"`:'"'===e[0]?t.slice(0,-1)+e.slice(1):void 0}return"string"!=typeof e||'"'!==e[0]||t instanceof i?void 0:`"${t}${e.slice(1)}`}function l(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.str=a,e.addCodeArg=h,e.strConcat=function(t,e){return e.emptyStr()?t:t.emptyStr()?e:a`${t}${e}`},e.stringify=function(t){return new n(l(t))},e.safeStringify=l,e.getProperty=function(t){return"string"==typeof t&&e.IDENTIFIER.test(t)?new n("."+t):o`[${t}]`},e.regexpCode=function(t){return new n(t.toString())}})),Kh=a((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;class r extends Error{constructor(t){super(`CodeGen: "code" for ${t} not defined`),this.value=t.value}}var i;!function(t){t[t.Started=0]="Started",t[t.Completed=1]="Completed"}(i=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new Vh.Name("const"),let:new Vh.Name("let"),var:new Vh.Name("var")};class n{constructor({prefixes:t,parent:e}={}){this._names={},this._prefixes=t,this._parent=e}toName(t){return t instanceof Vh.Name?t:this.name(t)}name(t){return new Vh.Name(this._newName(t))}_newName(t){return`${t}${(this._names[t]||this._nameGroup(t)).index++}`}_nameGroup(t){var e,r;if((null===(r=null===(e=this._parent)||void 0===e?void 0:e._prefixes)||void 0===r?void 0:r.has(t))||this._prefixes&&!this._prefixes.has(t))throw new Error(`CodeGen: prefix "${t}" is not allowed in this scope`);return this._names[t]={prefix:t,index:0}}}e.Scope=n;class o extends Vh.Name{constructor(t,e){super(e),this.prefix=t}setValue(t,{property:e,itemIndex:r}){this.value=t,this.scopePath=Vh._`.${new Vh.Name(e)}[${r}]`}}e.ValueScopeName=o;const s=Vh._`\n`;e.ValueScope=class extends n{constructor(t){super(t),this._values={},this._scope=t.scope,this.opts={...t,_n:t.lines?s:Vh.nil}}get(){return this._scope}name(t){return new o(t,this._newName(t))}value(t,e){var r;if(void 0===e.ref)throw new Error("CodeGen: ref must be passed in value");const i=this.toName(t),{prefix:n}=i,o=null!==(r=e.key)&&void 0!==r?r:e.ref;let s=this._values[n];if(s){const t=s.get(o);if(t)return t}else s=this._values[n]=new Map;s.set(o,i);const a=this._scope[n]||(this._scope[n]=[]),h=a.length;return a[h]=e.ref,i.setValue(e,{property:n,itemIndex:h}),i}getValue(t,e){const r=this._values[t];if(r)return r.get(e)}scopeRefs(t,e=this._values){return this._reduceValues(e,e=>{if(void 0===e.scopePath)throw new Error(`CodeGen: name "${e}" has no value`);return Vh._`${t}${e.scopePath}`})}scopeCode(t=this._values,e,r){return this._reduceValues(t,t=>{if(void 0===t.value)throw new Error(`CodeGen: name "${t}" has no value`);return t.value.code},e,r)}_reduceValues(t,n,o={},s){let a=Vh.nil;for(const h in t){const u=t[h];if(!u)continue;const l=o[h]=o[h]||new Map;u.forEach(t=>{if(l.has(t))return;l.set(t,i.Started);let o=n(t);if(o){const r=this.opts.es5?e.varKinds.var:e.varKinds.const;a=Vh._`${a}${r} ${t} = ${o};${this.opts._n}`}else{if(!(o=null==s?void 0:s(t)))throw new r(t);a=Vh._`${a}${o}${this.opts._n}`}l.set(t,i.Completed)})}return a}}})),Zh=a((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;var r=Vh;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=Kh;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new Vh._Code(">"),GTE:new Vh._Code(">="),LT:new Vh._Code("<"),LTE:new Vh._Code("<="),EQ:new Vh._Code("==="),NEQ:new Vh._Code("!=="),NOT:new Vh._Code("!"),OR:new Vh._Code("||"),AND:new Vh._Code("&&"),ADD:new Vh._Code("+")};class n{optimizeNodes(){return this}optimizeNames(t,e){return this}}class o extends n{constructor(t,e,r){super(),this.varKind=t,this.name=e,this.rhs=r}render({es5:t,_n:e}){const r=t?Kh.varKinds.var:this.varKind,i=void 0===this.rhs?"":" = "+this.rhs;return`${r} ${this.name}${i};`+e}optimizeNames(t,e){if(t[this.name.str])return this.rhs&&(this.rhs=I(this.rhs,t,e)),this}get names(){return this.rhs instanceof Vh._CodeOrName?this.rhs.names:{}}}class s extends n{constructor(t,e,r){super(),this.lhs=t,this.rhs=e,this.sideEffects=r}render({_n:t}){return`${this.lhs} = ${this.rhs};`+t}optimizeNames(t,e){if(!(this.lhs instanceof Vh.Name)||t[this.lhs.str]||this.sideEffects)return this.rhs=I(this.rhs,t,e),this}get names(){return R(this.lhs instanceof Vh.Name?{}:{...this.lhs.names},this.rhs)}}class a extends s{constructor(t,e,r,i){super(t,r,i),this.op=e}render({_n:t}){return`${this.lhs} ${this.op}= ${this.rhs};`+t}}class h extends n{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return this.label+":"+t}}class u extends n{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`break${this.label?" "+this.label:""};`+t}}class l extends n{constructor(t){super(),this.error=t}render({_n:t}){return`throw ${this.error};`+t}get names(){return this.error.names}}class f extends n{constructor(t){super(),this.code=t}render({_n:t}){return this.code+";"+t}optimizeNodes(){return""+this.code?this:void 0}optimizeNames(t,e){return this.code=I(this.code,t,e),this}get names(){return this.code instanceof Vh._CodeOrName?this.code.names:{}}}class c extends n{constructor(t=[]){super(),this.nodes=t}render(t){return this.nodes.reduce((e,r)=>e+r.render(t),"")}optimizeNodes(){const{nodes:t}=this;let e=t.length;for(;e--;){const r=t[e].optimizeNodes();Array.isArray(r)?t.splice(e,1,...r):r?t[e]=r:t.splice(e,1)}return t.length>0?this:void 0}optimizeNames(t,e){const{nodes:r}=this;let i=r.length;for(;i--;){const n=r[i];n.optimizeNames(t,e)||(x(t,n.names),r.splice(i,1))}return r.length>0?this:void 0}get names(){return this.nodes.reduce((t,e)=>S(t,e.names),{})}}class d extends c{render(t){return"{"+t._n+super.render(t)+"}"+t._n}}class m extends c{}class p extends d{}p.kind="else";class g extends d{constructor(t,e){super(e),this.condition=t}render(t){let e=`if(${this.condition})`+super.render(t);return this.else&&(e+="else "+this.else.render(t)),e}optimizeNodes(){super.optimizeNodes();const t=this.condition;if(!0===t)return this.nodes;let e=this.else;if(e){const t=e.optimizeNodes();e=this.else=Array.isArray(t)?new p(t):t}return e?!1===t?e instanceof g?e:e.nodes:this.nodes.length?this:new g(k(t),e instanceof g?[e]:e.nodes):!1!==t&&this.nodes.length?this:void 0}optimizeNames(t,e){var r;if(this.else=null===(r=this.else)||void 0===r?void 0:r.optimizeNames(t,e),super.optimizeNames(t,e)||this.else)return this.condition=I(this.condition,t,e),this}get names(){const t=super.names;return R(t,this.condition),this.else&&S(t,this.else.names),t}}g.kind="if";class v extends d{}v.kind="for";class y extends v{constructor(t){super(),this.iteration=t}render(t){return`for(${this.iteration})`+super.render(t)}optimizeNames(t,e){if(super.optimizeNames(t,e))return this.iteration=I(this.iteration,t,e),this}get names(){return S(super.names,this.iteration.names)}}class w extends v{constructor(t,e,r,i){super(),this.varKind=t,this.name=e,this.from=r,this.to=i}render(t){const e=t.es5?Kh.varKinds.var:this.varKind,{name:r,from:i,to:n}=this;return`for(${e} ${r}=${i}; ${r}<${n}; ${r}++)`+super.render(t)}get names(){const t=R(super.names,this.from);return R(t,this.to)}}class b extends v{constructor(t,e,r,i){super(),this.loop=t,this.varKind=e,this.name=r,this.iterable=i}render(t){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(t)}optimizeNames(t,e){if(super.optimizeNames(t,e))return this.iterable=I(this.iterable,t,e),this}get names(){return S(super.names,this.iterable.names)}}class M extends d{constructor(t,e,r){super(),this.name=t,this.args=e,this.async=r}render(t){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(t)}}M.kind="func";class E extends c{render(t){return"return "+super.render(t)}}E.kind="return";class _ extends d{render(t){let e="try"+super.render(t);return this.catch&&(e+=this.catch.render(t)),this.finally&&(e+=this.finally.render(t)),e}optimizeNodes(){var t,e;return super.optimizeNodes(),null===(t=this.catch)||void 0===t||t.optimizeNodes(),null===(e=this.finally)||void 0===e||e.optimizeNodes(),this}optimizeNames(t,e){var r,i;return super.optimizeNames(t,e),null===(r=this.catch)||void 0===r||r.optimizeNames(t,e),null===(i=this.finally)||void 0===i||i.optimizeNames(t,e),this}get names(){const t=super.names;return this.catch&&S(t,this.catch.names),this.finally&&S(t,this.finally.names),t}}class N extends d{constructor(t){super(),this.error=t}render(t){return`catch(${this.error})`+super.render(t)}}N.kind="catch";class A extends d{render(t){return"finally"+super.render(t)}}A.kind="finally";function S(t,e){for(const r in e)t[r]=(t[r]||0)+(e[r]||0);return t}function R(t,e){return e instanceof Vh._CodeOrName?S(t,e.names):t}function I(t,e,r){return t instanceof Vh.Name?n(t):(i=t)instanceof Vh._Code&&i._items.some(t=>t instanceof Vh.Name&&1===e[t.str]&&void 0!==r[t.str])?new Vh._Code(t._items.reduce((t,e)=>(e instanceof Vh.Name&&(e=n(e)),e instanceof Vh._Code?t.push(...e._items):t.push(e),t),[])):t;var i;function n(t){const i=r[t.str];return void 0===i||1!==e[t.str]?t:(delete e[t.str],i)}}function x(t,e){for(const r in e)t[r]=(t[r]||0)-(e[r]||0)}function k(t){return"boolean"==typeof t||"number"==typeof t||null===t?!t:Vh._`!${C(t)}`}e.CodeGen=class{constructor(t,e={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...e,_n:e.lines?"\n":""},this._extScope=t,this._scope=new Kh.Scope({parent:t}),this._nodes=[new m]}toString(){return this._root.render(this.opts)}name(t){return this._scope.name(t)}scopeName(t){return this._extScope.name(t)}scopeValue(t,e){const r=this._extScope.value(t,e);return(this._values[r.prefix]||(this._values[r.prefix]=new Set)).add(r),r}getScopeValue(t,e){return this._extScope.getValue(t,e)}scopeRefs(t){return this._extScope.scopeRefs(t,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(t,e,r,i){const n=this._scope.toName(e);return void 0!==r&&i&&(this._constants[n.str]=r),this._leafNode(new o(t,n,r)),n}const(t,e,r){return this._def(Kh.varKinds.const,t,e,r)}let(t,e,r){return this._def(Kh.varKinds.let,t,e,r)}var(t,e,r){return this._def(Kh.varKinds.var,t,e,r)}assign(t,e,r){return this._leafNode(new s(t,e,r))}add(t,r){return this._leafNode(new a(t,e.operators.ADD,r))}code(t){return"function"==typeof t?t():t!==Vh.nil&&this._leafNode(new f(t)),this}object(...t){const e=["{"];for(const[r,i]of t)e.length>1&&e.push(","),e.push(r),(r!==i||this.opts.es5)&&(e.push(":"),Vh.addCodeArg(e,i));return e.push("}"),new Vh._Code(e)}if(t,e,r){if(this._blockNode(new g(t)),e&&r)this.code(e).else().code(r).endIf();else if(e)this.code(e).endIf();else if(r)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(t){return this._elseNode(new g(t))}else(){return this._elseNode(new p)}endIf(){return this._endBlockNode(g,p)}_for(t,e){return this._blockNode(t),e&&this.code(e).endFor(),this}for(t,e){return this._for(new y(t),e)}forRange(t,e,r,i,n=(this.opts.es5?Kh.varKinds.var:Kh.varKinds.let)){const o=this._scope.toName(t);return this._for(new w(n,o,e,r),()=>i(o))}forOf(t,e,r,i=Kh.varKinds.const){const n=this._scope.toName(t);if(this.opts.es5){const t=e instanceof Vh.Name?e:this.var("_arr",e);return this.forRange("_i",0,Vh._`${t}.length`,e=>{this.var(n,Vh._`${t}[${e}]`),r(n)})}return this._for(new b("of",i,n,e),()=>r(n))}forIn(t,e,r,i=(this.opts.es5?Kh.varKinds.var:Kh.varKinds.const)){if(this.opts.ownProperties)return this.forOf(t,Vh._`Object.keys(${e})`,r);const n=this._scope.toName(t);return this._for(new b("in",i,n,e),()=>r(n))}endFor(){return this._endBlockNode(v)}label(t){return this._leafNode(new h(t))}break(t){return this._leafNode(new u(t))}return(t){const e=new E;if(this._blockNode(e),this.code(t),1!==e.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(E)}try(t,e,r){if(!e&&!r)throw new Error('CodeGen: "try" without "catch" and "finally"');const i=new _;if(this._blockNode(i),this.code(t),e){const t=this.name("e");this._currNode=i.catch=new N(t),e(t)}return r&&(this._currNode=i.finally=new A,this.code(r)),this._endBlockNode(N,A)}throw(t){return this._leafNode(new l(t))}block(t,e){return this._blockStarts.push(this._nodes.length),t&&this.code(t).endBlock(e),this}endBlock(t){const e=this._blockStarts.pop();if(void 0===e)throw new Error("CodeGen: not in self-balancing block");const r=this._nodes.length-e;if(r<0||void 0!==t&&r!==t)throw new Error(`CodeGen: wrong number of nodes: ${r} vs ${t} expected`);return this._nodes.length=e,this}func(t,e=Vh.nil,r,i){return this._blockNode(new M(t,e,r)),i&&this.code(i).endFunc(),this}endFunc(){return this._endBlockNode(M)}optimize(t=1){for(;t-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(t){return this._currNode.nodes.push(t),this}_blockNode(t){this._currNode.nodes.push(t),this._nodes.push(t)}_endBlockNode(t,e){const r=this._currNode;if(r instanceof t||e&&r instanceof e)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${e?`${t.kind}/${e.kind}`:t.kind}"`)}_elseNode(t){const e=this._currNode;if(!(e instanceof g))throw new Error('CodeGen: "else" without "if"');return this._currNode=e.else=t,this}get _root(){return this._nodes[0]}get _currNode(){const t=this._nodes;return t[t.length-1]}set _currNode(t){const e=this._nodes;e[e.length-1]=t}},e.not=k;const O=P(e.operators.AND);e.and=function(...t){return t.reduce(O)};const T=P(e.operators.OR);function P(t){return(e,r)=>e===Vh.nil?r:r===Vh.nil?e:Vh._`${C(e)} ${t} ${C(r)}`}function C(t){return t instanceof Vh.Name?t:Vh._`(${t})`}e.or=function(...t){return t.reduce(T)}})),Hh=a((function(t,e){function r(t,e=t.schema){const{opts:r,self:i}=t;if(!r.strictSchema)return;if("boolean"==typeof e)return;const n=i.RULES.keywords;for(const r in e)n[r]||f(t,`unknown keyword: "${r}"`)}function i(t,e){if("boolean"==typeof t)return!t;for(const r in t)if(e[r])return!0;return!1}function n(t){return"number"==typeof t?""+t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function o(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function s({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:i}){return(n,o,s,a)=>{const h=void 0===s?o:s instanceof Zh.Name?(o instanceof Zh.Name?t(n,o,s):e(n,o,s),s):o instanceof Zh.Name?(e(n,s,o),o):r(o,s);return a!==Zh.Name||h instanceof Zh.Name?h:i(n,h)}}function a(t,e){if(!0===e)return t.var("props",!0);const r=t.var("props",Zh._`{}`);return void 0!==e&&h(t,r,e),r}function h(t,e,r){Object.keys(r).forEach(r=>t.assign(Zh._`${e}${Zh.getProperty(r)}`,!0))}Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0,e.toHash=function(t){const e={};for(const r of t)e[r]=!0;return e},e.alwaysValidSchema=function(t,e){return"boolean"==typeof e?e:0===Object.keys(e).length||(r(t,e),!i(e,t.self.RULES.all))},e.checkUnknownRules=r,e.schemaHasRules=i,e.schemaHasRulesButRef=function(t,e){if("boolean"==typeof t)return!t;for(const r in t)if("$ref"!==r&&e.all[r])return!0;return!1},e.schemaRefOrVal=function({topSchemaRef:t,schemaPath:e},r,i,n){if(!n){if("number"==typeof r||"boolean"==typeof r)return r;if("string"==typeof r)return Zh._`${r}`}return Zh._`${t}${e}${Zh.getProperty(i)}`},e.unescapeFragment=function(t){return o(decodeURIComponent(t))},e.escapeFragment=function(t){return encodeURIComponent(n(t))},e.escapeJsonPointer=n,e.unescapeJsonPointer=o,e.eachItem=function(t,e){if(Array.isArray(t))for(const r of t)e(r);else e(t)},e.mergeEvaluated={props:s({mergeNames:(t,e,r)=>t.if(Zh._`${r} !== true && ${e} !== undefined`,()=>{t.if(Zh._`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,Zh._`${r} || {}`).code(Zh._`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if(Zh._`${r} !== true`,()=>{!0===e?t.assign(r,!0):(t.assign(r,Zh._`${r} || {}`),h(t,r,e))}),mergeValues:(t,e)=>!0===t||{...t,...e},resultToName:a}),items:s({mergeNames:(t,e,r)=>t.if(Zh._`${r} !== true && ${e} !== undefined`,()=>t.assign(r,Zh._`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if(Zh._`${r} !== true`,()=>t.assign(r,!0===e||Zh._`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>!0===t||Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})},e.evaluatedPropsToName=a,e.setEvaluated=h;const u={};var l;function f(t,e,r=t.opts.strictSchema){if(r){if(e="strict mode: "+e,!0===r)throw new Error(e);t.self.logger.warn(e)}}e.useFunc=function(t,e){return t.scopeValue("func",{ref:e,code:u[e.code]||(u[e.code]=new Vh._Code(e.code))})},function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"}(l=e.Type||(e.Type={})),e.getErrorPath=function(t,e,r){if(t instanceof Zh.Name){const i=e===l.Num;return r?i?Zh._`"[" + ${t} + "]"`:Zh._`"['" + ${t} + "']"`:i?Zh._`"/" + ${t}`:Zh._`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?Zh.getProperty(t).toString():"/"+n(t)},e.checkStrictMode=f}));var Wh={data:new Zh.Name("data"),valCxt:new Zh.Name("valCxt"),instancePath:new Zh.Name("instancePath"),parentData:new Zh.Name("parentData"),parentDataProperty:new Zh.Name("parentDataProperty"),rootData:new Zh.Name("rootData"),dynamicAnchors:new Zh.Name("dynamicAnchors"),vErrors:new Zh.Name("vErrors"),errors:new Zh.Name("errors"),this:new Zh.Name("this"),self:new Zh.Name("self"),scope:new Zh.Name("scope"),json:new Zh.Name("json"),jsonPos:new Zh.Name("jsonPos"),jsonLen:new Zh.Name("jsonLen"),jsonPart:new Zh.Name("jsonPart")},Jh=Object.defineProperty({default:Wh},"__esModule",{value:!0}),Xh=a((function(t,e){function r(t,e){const r=t.const("err",e);t.if(Zh._`${Jh.default.vErrors} === null`,()=>t.assign(Jh.default.vErrors,Zh._`[${r}]`),Zh._`${Jh.default.vErrors}.push(${r})`),t.code(Zh._`${Jh.default.errors}++`)}function i(t,e){const{gen:r,validateName:i,schemaEnv:n}=t;n.$async?r.throw(Zh._`new ${t.ValidationError}(${e})`):(r.assign(Zh._`${i}.errors`,e),r.return(!1))}Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0,e.keywordError={message:({keyword:t})=>Zh.str`should pass "${t}" keyword validation`},e.keyword$DataError={message:({keyword:t,schemaType:e})=>e?Zh.str`"${t}" keyword must be ${e} ($data)`:Zh.str`"${t}" keyword is invalid ($data)`},e.reportError=function(t,n=e.keywordError,s,a){const{it:h}=t,{gen:u,compositeRule:l,allErrors:f}=h,c=o(t,n,s);(null!=a?a:l||f)?r(u,c):i(h,Zh._`[${c}]`)},e.reportExtraError=function(t,n=e.keywordError,s){const{it:a}=t,{gen:h,compositeRule:u,allErrors:l}=a;r(h,o(t,n,s)),u||l||i(a,Jh.default.vErrors)},e.resetErrorsCount=function(t,e){t.assign(Jh.default.errors,e),t.if(Zh._`${Jh.default.vErrors} !== null`,()=>t.if(e,()=>t.assign(Zh._`${Jh.default.vErrors}.length`,e),()=>t.assign(Jh.default.vErrors,null)))},e.extendErrors=function({gen:t,keyword:e,schemaValue:r,data:i,errsCount:n,it:o}){if(void 0===n)throw new Error("ajv implementation error");const s=t.name("err");t.forRange("i",n,Jh.default.errors,n=>{t.const(s,Zh._`${Jh.default.vErrors}[${n}]`),t.if(Zh._`${s}.instancePath === undefined`,()=>t.assign(Zh._`${s}.instancePath`,Zh.strConcat(Jh.default.instancePath,o.errorPath))),t.assign(Zh._`${s}.schemaPath`,Zh.str`${o.errSchemaPath}/${e}`),o.opts.verbose&&(t.assign(Zh._`${s}.schema`,r),t.assign(Zh._`${s}.data`,i))})};const n={keyword:new Zh.Name("keyword"),schemaPath:new Zh.Name("schemaPath"),params:new Zh.Name("params"),propertyName:new Zh.Name("propertyName"),message:new Zh.Name("message"),schema:new Zh.Name("schema"),parentSchema:new Zh.Name("parentSchema")};function o(t,e,r){const{createErrors:i}=t.it;return!1===i?Zh._`{}`:function(t,e,r={}){const{gen:i,it:o}=t,h=[s(o,r),a(t,r)];return function(t,{params:e,message:r},i){const{keyword:o,data:s,schemaValue:a,it:h}=t,{opts:u,propertyName:l,topSchemaRef:f,schemaPath:c}=h;i.push([n.keyword,o],[n.params,"function"==typeof e?e(t):e||Zh._`{}`]),u.messages&&i.push([n.message,"function"==typeof r?r(t):r]);u.verbose&&i.push([n.schema,a],[n.parentSchema,Zh._`${f}${c}`],[Jh.default.data,s]);l&&i.push([n.propertyName,l])}(t,e,h),i.object(...h)}(t,e,r)}function s({errorPath:t},{instancePath:e}){const r=e?Zh.str`${t}${Hh.getErrorPath(e,Hh.Type.Str)}`:t;return[Jh.default.instancePath,Zh.strConcat(Jh.default.instancePath,r)]}function a({keyword:t,it:{errSchemaPath:e}},{schemaPath:r,parentSchema:i}){let o=i?e:Zh.str`${e}/${t}`;return r&&(o=Zh.str`${o}${Hh.getErrorPath(r,Hh.Type.Str)}`),[n.schemaPath,o]}})),Yh=a((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.boolOrEmptySchema=e.topBoolOrEmptySchema=void 0;const r={message:"boolean schema is false"};function i(t,e){const{gen:i,data:n}=t,o={gen:i,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};Xh.reportError(o,r,void 0,e)}e.topBoolOrEmptySchema=function(t){const{gen:e,schema:r,validateName:n}=t;!1===r?i(t,!1):"object"==typeof r&&!0===r.$async?e.return(Jh.default.data):(e.assign(Zh._`${n}.errors`,null),e.return(!0))},e.boolOrEmptySchema=function(t,e){const{gen:r,schema:n}=t;!1===n?(r.var(e,!1),i(t)):r.var(e,!0)}})),Qh=a((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getRules=e.isJSONType=void 0;const r=new Set(["string","number","integer","boolean","null","object","array"]);e.isJSONType=function(t){return"string"==typeof t&&r.has(t)},e.getRules=function(){const t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}})),tu=a((function(t,e){function r(t,e){return e.rules.some(e=>i(t,e))}function i(t,e){var r;return void 0!==t[e.keyword]||(null===(r=e.definition.implements)||void 0===r?void 0:r.some(e=>void 0!==t[e]))}Object.defineProperty(e,"__esModule",{value:!0}),e.shouldUseRule=e.shouldUseGroup=e.schemaHasRulesForType=void 0,e.schemaHasRulesForType=function({schema:t,self:e},i){const n=e.RULES.types[i];return n&&!0!==n&&r(t,n)},e.shouldUseGroup=r,e.shouldUseRule=i})),eu=a((function(t,e){var r;function i(t){const e=Array.isArray(t)?t:t?[t]:[];if(e.every(Qh.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0,function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"}(r=e.DataType||(e.DataType={})),e.getSchemaTypes=function(t){const e=i(t.type);if(e.includes("null")){if(!1===t.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&void 0!==t.nullable)throw new Error('"nullable" cannot be used without "type"');!0===t.nullable&&e.push("null")}return e},e.getJSONTypes=i,e.coerceAndCheckDataType=function(t,e){const{gen:i,data:o,opts:a}=t,u=function(t,e){return e?t.filter(t=>n.has(t)||"array"===e&&"array"===t):[]}(e,a.coerceTypes),l=e.length>0&&!(0===u.length&&1===e.length&&tu.schemaHasRulesForType(t,e[0]));if(l){const l=s(e,o,a.strictNumbers,r.Wrong);i.if(l,()=>{u.length?function(t,e,r){const{gen:i,data:o,opts:a}=t,u=i.let("dataType",Zh._`typeof ${o}`),l=i.let("coerced",Zh._`undefined`);"array"===a.coerceTypes&&i.if(Zh._`${u} == 'object' && Array.isArray(${o}) && ${o}.length == 1`,()=>i.assign(o,Zh._`${o}[0]`).assign(u,Zh._`typeof ${o}`).if(s(e,o,a.strictNumbers),()=>i.assign(l,o)));i.if(Zh._`${l} !== undefined`);for(const t of r)(n.has(t)||"array"===t&&"array"===a.coerceTypes)&&f(t);function f(t){switch(t){case"string":return void i.elseIf(Zh._`${u} == "number" || ${u} == "boolean"`).assign(l,Zh._`"" + ${o}`).elseIf(Zh._`${o} === null`).assign(l,Zh._`""`);case"number":return void i.elseIf(Zh._`${u} == "boolean" || ${o} === null
              || (${u} == "string" && ${o} && ${o} == +${o})`).assign(l,Zh._`+${o}`);case"integer":return void i.elseIf(Zh._`${u} === "boolean" || ${o} === null
              || (${u} === "string" && ${o} && ${o} == +${o} && !(${o} % 1))`).assign(l,Zh._`+${o}`);case"boolean":return void i.elseIf(Zh._`${o} === "false" || ${o} === 0 || ${o} === null`).assign(l,!1).elseIf(Zh._`${o} === "true" || ${o} === 1`).assign(l,!0);case"null":return i.elseIf(Zh._`${o} === "" || ${o} === 0 || ${o} === false`),void i.assign(l,null);case"array":i.elseIf(Zh._`${u} === "string" || ${u} === "number"
              || ${u} === "boolean" || ${o} === null`).assign(l,Zh._`[${o}]`)}}i.else(),h(t),i.endIf(),i.if(Zh._`${l} !== undefined`,()=>{i.assign(o,l),function({gen:t,parentData:e,parentDataProperty:r},i){t.if(Zh._`${e} !== undefined`,()=>t.assign(Zh._`${e}[${r}]`,i))}(t,l)})}(t,e,u):h(t)})}return l};const n=new Set(["string","number","integer","boolean","null"]);function o(t,e,i,n=r.Correct){const o=n===r.Correct?Zh.operators.EQ:Zh.operators.NEQ;let s;switch(t){case"null":return Zh._`${e} ${o} null`;case"array":s=Zh._`Array.isArray(${e})`;break;case"object":s=Zh._`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":s=a(Zh._`!(${e} % 1) && !isNaN(${e})`);break;case"number":s=a();break;default:return Zh._`typeof ${e} ${o} ${t}`}return n===r.Correct?s:Zh.not(s);function a(t=Zh.nil){return Zh.and(Zh._`typeof ${e} == "number"`,t,i?Zh._`isFinite(${e})`:Zh.nil)}}function s(t,e,r,i){if(1===t.length)return o(t[0],e,r,i);let n;const s=Hh.toHash(t);if(s.array&&s.object){const t=Zh._`typeof ${e} != "object"`;n=s.null?t:Zh._`!${e} || ${t}`,delete s.null,delete s.array,delete s.object}else n=Zh.nil;s.number&&delete s.integer;for(const t in s)n=Zh.and(n,o(t,e,r,i));return n}e.checkDataType=o,e.checkDataTypes=s;const a={message:({schema:t})=>"must be "+t,params:({schema:t,schemaValue:e})=>"string"==typeof t?Zh._`{type: ${t}}`:Zh._`{type: ${e}}`};function h(t){const e=function(t){const{gen:e,data:r,schema:i}=t,n=Hh.schemaRefOrVal(t,i,"type");return{gen:e,keyword:"type",data:r,schema:i.type,schemaCode:n,schemaValue:n,parentSchema:i,params:{},it:t}}(t);Xh.reportError(e,a)}e.reportTypeError=h})),ru=a((function(t,e){function r(t,e,r){const{gen:i,compositeRule:n,data:o,opts:s}=t;if(void 0===r)return;const a=Zh._`${o}${Zh.getProperty(e)}`;if(n)return void Hh.checkStrictMode(t,"default is ignored for: "+a);let h=Zh._`${a} === undefined`;"empty"===s.useDefaults&&(h=Zh._`${h} || ${a} === null || ${a} === ""`),i.if(h,Zh._`${a} = ${Zh.stringify(r)}`)}Object.defineProperty(e,"__esModule",{value:!0}),e.assignDefaults=void 0,e.assignDefaults=function(t,e){const{properties:i,items:n}=t.schema;if("object"===e&&i)for(const e in i)r(t,e,i[e].default);else"array"===e&&Array.isArray(n)&&n.forEach((e,i)=>r(t,i,e.default))}})),iu=a((function(t,e){function r(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:Zh._`Object.prototype.hasOwnProperty`})}function i(t,e,i){return Zh._`${r(t)}.call(${e}, ${i})`}function n(t,e,r,n){const o=Zh._`${e}${Zh.getProperty(r)} === undefined`;return n?Zh.or(o,Zh.not(i(t,e,r))):o}function o(t){return t?Object.keys(t).filter(t=>"__proto__"!==t):[]}Object.defineProperty(e,"__esModule",{value:!0}),e.validateUnion=e.validateArray=e.usePattern=e.callValidateCode=e.schemaProperties=e.allSchemaProperties=e.noPropertyInData=e.propertyInData=e.isOwnProperty=e.hasPropFunc=e.reportMissingProp=e.checkMissingProp=e.checkReportMissingProp=void 0,e.checkReportMissingProp=function(t,e){const{gen:r,data:i,it:o}=t;r.if(n(r,i,e,o.opts.ownProperties),()=>{t.setParams({missingProperty:Zh._`${e}`},!0),t.error()})},e.checkMissingProp=function({gen:t,data:e,it:{opts:r}},i,o){return Zh.or(...i.map(i=>Zh.and(n(t,e,i,r.ownProperties),Zh._`${o} = ${i}`)))},e.reportMissingProp=function(t,e){t.setParams({missingProperty:e},!0),t.error()},e.hasPropFunc=r,e.isOwnProperty=i,e.propertyInData=function(t,e,r,n){const o=Zh._`${e}${Zh.getProperty(r)} !== undefined`;return n?Zh._`${o} && ${i(t,e,r)}`:o},e.noPropertyInData=n,e.allSchemaProperties=o,e.schemaProperties=function(t,e){return o(e).filter(r=>!Hh.alwaysValidSchema(t,e[r]))},e.callValidateCode=function({schemaCode:t,data:e,it:{gen:r,topSchemaRef:i,schemaPath:n,errorPath:o},it:s},a,h,u){const l=u?Zh._`${t}, ${e}, ${i}${n}`:e,f=[[Jh.default.instancePath,Zh.strConcat(Jh.default.instancePath,o)],[Jh.default.parentData,s.parentData],[Jh.default.parentDataProperty,s.parentDataProperty],[Jh.default.rootData,Jh.default.rootData]];s.opts.dynamicRef&&f.push([Jh.default.dynamicAnchors,Jh.default.dynamicAnchors]);const c=Zh._`${l}, ${r.object(...f)}`;return h!==Zh.nil?Zh._`${a}.call(${h}, ${c})`:Zh._`${a}(${c})`},e.usePattern=function({gen:t,it:{opts:e}},r){const i=e.unicodeRegExp?"u":"";return t.scopeValue("pattern",{key:r,ref:new RegExp(r,i),code:Zh._`new RegExp(${r}, ${i})`})},e.validateArray=function(t){const{gen:e,data:r,keyword:i,it:n}=t,o=e.name("valid");if(n.allErrors){const t=e.let("valid",!0);return s(()=>e.assign(t,!1)),t}return e.var(o,!0),s(()=>e.break()),o;function s(n){const s=e.const("len",Zh._`${r}.length`);e.forRange("i",0,s,r=>{t.subschema({keyword:i,dataProp:r,dataPropType:Hh.Type.Num},o),e.if(Zh.not(o),n)})}},e.validateUnion=function(t){const{gen:e,schema:r,keyword:i,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(t=>Hh.alwaysValidSchema(n,t))&&!n.opts.unevaluated)return;const o=e.let("valid",!1),s=e.name("_valid");e.block(()=>r.forEach((r,n)=>{const a=t.subschema({keyword:i,schemaProp:n,compositeRule:!0},s);e.assign(o,Zh._`${o} || ${s}`);t.mergeValidEvaluated(a,s)||e.if(Zh.not(o))})),t.result(o,()=>t.reset(),()=>t.error(!0))}})),nu=a((function(t,e){function r(t){const{gen:e,data:r,it:i}=t;e.if(i.parentData,()=>e.assign(r,Zh._`${i.parentData}[${i.parentDataProperty}]`))}function i(t,e,r){if(void 0===r)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword","function"==typeof r?{ref:r}:{ref:r,code:Zh.stringify(r)})}Object.defineProperty(e,"__esModule",{value:!0}),e.validateKeywordUsage=e.validSchemaType=e.funcKeywordCode=e.macroKeywordCode=void 0,e.macroKeywordCode=function(t,e){const{gen:r,keyword:n,schema:o,parentSchema:s,it:a}=t,h=e.macro.call(a.self,o,s,a),u=i(r,n,h);!1!==a.opts.validateSchema&&a.self.validateSchema(h,!0);const l=r.name("valid");t.subschema({schema:h,schemaPath:Zh.nil,errSchemaPath:`${a.errSchemaPath}/${n}`,topSchemaRef:u,compositeRule:!0},l),t.pass(l,()=>t.error(!0))},e.funcKeywordCode=function(t,e){var n;const{gen:o,keyword:s,schema:a,parentSchema:h,$data:u,it:l}=t;!function({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}(l,e);const f=!u&&e.compile?e.compile.call(l.self,a,h,l):e.validate,c=i(o,s,f),d=o.let("valid");function m(r=(e.async?Zh._`await `:Zh.nil)){const i=l.opts.passContext?Jh.default.this:Jh.default.self,n=!("compile"in e&&!u||!1===e.schema);o.assign(d,Zh._`${r}${iu.callValidateCode(t,c,i,n)}`,e.modifying)}function p(t){var r;o.if(Zh.not(null!==(r=e.valid)&&void 0!==r?r:d),t)}t.block$data(d,(function(){if(!1===e.errors)m(),e.modifying&&r(t),p(()=>t.error());else{const i=e.async?function(){const t=o.let("ruleErrs",null);return o.try(()=>m(Zh._`await `),e=>o.assign(d,!1).if(Zh._`${e} instanceof ${l.ValidationError}`,()=>o.assign(t,Zh._`${e}.errors`),()=>o.throw(e))),t}():function(){const t=Zh._`${c}.errors`;return o.assign(t,null),m(Zh.nil),t}();e.modifying&&r(t),p(()=>function(t,e){const{gen:r}=t;r.if(Zh._`Array.isArray(${e})`,()=>{r.assign(Jh.default.vErrors,Zh._`${Jh.default.vErrors} === null ? ${e} : ${Jh.default.vErrors}.concat(${e})`).assign(Jh.default.errors,Zh._`${Jh.default.vErrors}.length`),Xh.extendErrors(t)},()=>t.error())}(t,i))}})),t.ok(null!==(n=e.valid)&&void 0!==n?n:d)},e.validSchemaType=function(t,e,r=!1){return!e.length||e.some(e=>"array"===e?Array.isArray(t):"object"===e?t&&"object"==typeof t&&!Array.isArray(t):typeof t==e||r&&void 0===t)},e.validateKeywordUsage=function({schema:t,opts:e,self:r,errSchemaPath:i},n,o){if(Array.isArray(n.keyword)?!n.keyword.includes(o):n.keyword!==o)throw new Error("ajv implementation error");const s=n.dependencies;if(null==s?void 0:s.some(e=>!Object.prototype.hasOwnProperty.call(t,e)))throw new Error(`parent schema must have dependencies of ${o}: ${s.join(",")}`);if(n.validateSchema){if(!n.validateSchema(t[o])){const t=`keyword "${o}" value is invalid at path "${i}": `+r.errorsText(n.validateSchema.errors);if("log"!==e.validateSchema)throw new Error(t);r.logger.error(t)}}}})),ou=a((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendSubschemaMode=e.extendSubschemaData=e.getSubschema=void 0,e.getSubschema=function(t,{keyword:e,schemaProp:r,schema:i,schemaPath:n,errSchemaPath:o,topSchemaRef:s}){if(void 0!==e&&void 0!==i)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==e){const i=t.schema[e];return void 0===r?{schema:i,schemaPath:Zh._`${t.schemaPath}${Zh.getProperty(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:i[r],schemaPath:Zh._`${t.schemaPath}${Zh.getProperty(e)}${Zh.getProperty(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${Hh.escapeFragment(r)}`}}if(void 0!==i){if(void 0===n||void 0===o||void 0===s)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:n,topSchemaRef:s,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')},e.extendSubschemaData=function(t,e,{dataProp:r,dataPropType:i,data:n,dataTypes:o,propertyName:s}){if(void 0!==n&&void 0!==r)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=e;if(void 0!==r){const{errorPath:n,dataPathArr:o,opts:s}=e;h(a.let("data",Zh._`${e.data}${Zh.getProperty(r)}`,!0)),t.errorPath=Zh.str`${n}${Hh.getErrorPath(r,i,s.jsPropertySyntax)}`,t.parentDataProperty=Zh._`${r}`,t.dataPathArr=[...o,t.parentDataProperty]}if(void 0!==n){h(n instanceof Zh.Name?n:a.let("data",n,!0)),void 0!==s&&(t.propertyName=s)}function h(r){t.data=r,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,r]}o&&(t.dataTypes=o)},e.extendSubschemaMode=function(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:i,createErrors:n,allErrors:o}){void 0!==i&&(t.compositeRule=i),void 0!==n&&(t.createErrors=n),void 0!==o&&(t.allErrors=o),t.jtdDiscriminator=e,t.jtdMetadata=r}})),su=function t(e,r){if(e===r)return!0;if(e&&r&&"object"==typeof e&&"object"==typeof r){if(e.constructor!==r.constructor)return!1;var i,n,o;if(Array.isArray(e)){if((i=e.length)!=r.length)return!1;for(n=i;0!=n--;)if(!t(e[n],r[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if((i=(o=Object.keys(e)).length)!==Object.keys(r).length)return!1;for(n=i;0!=n--;)if(!Object.prototype.hasOwnProperty.call(r,o[n]))return!1;for(n=i;0!=n--;){var s=o[n];if(!t(e[s],r[s]))return!1}return!0}return e!=e&&r!=r},au=a((function(t){var e=t.exports=function(t,i,n){"function"==typeof i&&(n=i,i={}),function t(i,n,o,s,a,h,u,l,f,c){if(s&&"object"==typeof s&&!Array.isArray(s)){for(var d in n(s,a,h,u,l,f,c),s){var m=s[d];if(Array.isArray(m)){if(d in e.arrayKeywords)for(var p=0;p<m.length;p++)t(i,n,o,m[p],a+"/"+d+"/"+p,h,a,d,s,p)}else if(d in e.propsKeywords){if(m&&"object"==typeof m)for(var g in m)t(i,n,o,m[g],a+"/"+d+"/"+r(g),h,a,d,s,g)}else(d in e.keywords||i.allKeys&&!(d in e.skipKeywords))&&t(i,n,o,m,a+"/"+d,h,a,d,s)}o(s,a,h,u,l,f,c)}}(i,"function"==typeof(n=i.cb||n)?n:n.pre||function(){},n.post||function(){},t,"",t)};function r(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}})),hu=a((function(t,e){!function(t){function e(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length>1){e[0]=e[0].slice(0,-1);for(var i=e.length-1,n=1;n<i;++n)e[n]=e[n].slice(1,-1);return e[i]=e[i].slice(1),e.join("")}return e[0]}function r(t){return"(?:"+t+")"}function i(t){return void 0===t?"undefined":null===t?"null":Object.prototype.toString.call(t).split(" ").pop().split("]").shift().toLowerCase()}function n(t){return t.toUpperCase()}function o(t){return null!=t?t instanceof Array?t:"number"!=typeof t.length||t.split||t.setInterval||t.call?[t]:Array.prototype.slice.call(t):[]}function s(t,e){var r=t;if(e)for(var i in e)r[i]=e[i];return r}function a(t){var i="[A-Za-z]",n="[0-9]",o=e(n,"[A-Fa-f]"),s=r(r("%[EFef]"+o+"%"+o+o+"%"+o+o)+"|"+r("%[89A-Fa-f]"+o+"%"+o+o)+"|"+r("%"+o+o)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",h=e("[\\:\\/\\?\\#\\[\\]\\@]",a),u=t?"[\\uE000-\\uF8FF]":"[]",l=e(i,n,"[\\-\\.\\_\\~]",t?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),f=(r(i+e(i,n,"[\\+\\-\\.]")+"*"),r(r(s+"|"+e(l,a,"[\\:]"))+"*"),r(r("25[0-5]")+"|"+r("2[0-4]"+n)+"|"+r("1"+n+n)+"|"+r("0?[1-9]"+n)+"|0?0?"+n)),c=r(f+"\\."+f+"\\."+f+"\\."+f),d=r(o+"{1,4}"),m=r(r(d+"\\:"+d)+"|"+c),p=r(r(d+"\\:")+"{6}"+m),g=r("\\:\\:"+r(d+"\\:")+"{5}"+m),v=r(r(d)+"?\\:\\:"+r(d+"\\:")+"{4}"+m),y=r(r(r(d+"\\:")+"{0,1}"+d)+"?\\:\\:"+r(d+"\\:")+"{3}"+m),w=r(r(r(d+"\\:")+"{0,2}"+d)+"?\\:\\:"+r(d+"\\:")+"{2}"+m),b=r(r(r(d+"\\:")+"{0,3}"+d)+"?\\:\\:"+d+"\\:"+m),M=r(r(r(d+"\\:")+"{0,4}"+d)+"?\\:\\:"+m),E=r(r(r(d+"\\:")+"{0,5}"+d)+"?\\:\\:"+d),_=r(r(r(d+"\\:")+"{0,6}"+d)+"?\\:\\:"),N=r([p,g,v,y,w,b,M,E,_].join("|")),A=r(r(l+"|"+s)+"+"),S=(r("[vV]"+o+"+\\."+e(l,a,"[\\:]")+"+"),r(r(s+"|"+e(l,a))+"*"),r(s+"|"+e(l,a,"[\\:\\@]")));return r(r(s+"|"+e(l,a,"[\\@]"))+"+"),r(r(S+"|"+e("[\\/\\?]",u))+"*"),{NOT_SCHEME:new RegExp(e("[^]",i,n,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",l,a),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",l,a),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",l,a),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",l,a),"g"),NOT_QUERY:new RegExp(e("[^\\%]",l,a,"[\\:\\@\\/\\?]",u),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",l,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",l,a),"g"),UNRESERVED:new RegExp(l,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",l,h),"g"),PCT_ENCODED:new RegExp(s,"g"),IPV4ADDRESS:new RegExp("^("+c+")$"),IPV6ADDRESS:new RegExp("^\\[?("+N+")"+r(r("\\%25|\\%(?!"+o+"{2})")+"("+A+")")+"?\\]?$")}}var h=a(!1),u=a(!0),l=function(){function t(t,e){var r=[],i=!0,n=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(t){n=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(n)throw o}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)},c=2147483647,d=36,m=1,p=26,g=38,v=700,y=72,w=128,b="-",M=/^xn--/,E=/[^\0-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,N={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=d-m,S=Math.floor,R=String.fromCharCode;function I(t){throw new RangeError(N[t])}function x(t,e){for(var r=[],i=t.length;i--;)r[i]=e(t[i]);return r}function k(t,e){var r=t.split("@"),i="";return r.length>1&&(i=r[0]+"@",t=r[1]),i+x((t=t.replace(_,".")).split("."),e).join(".")}function O(t){for(var e=[],r=0,i=t.length;r<i;){var n=t.charCodeAt(r++);if(n>=55296&&n<=56319&&r<i){var o=t.charCodeAt(r++);56320==(64512&o)?e.push(((1023&n)<<10)+(1023&o)+65536):(e.push(n),r--)}else e.push(n)}return e}var T=function(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:d},P=function(t,e){return t+22+75*(t<26)-((0!=e)<<5)},C=function(t,e,r){var i=0;for(t=r?S(t/v):t>>1,t+=S(t/e);t>A*p>>1;i+=d)t=S(t/A);return S(i+(A+1)*t/(t+g))},U=function(t){var e=[],r=t.length,i=0,n=w,o=y,s=t.lastIndexOf(b);s<0&&(s=0);for(var a=0;a<s;++a)t.charCodeAt(a)>=128&&I("not-basic"),e.push(t.charCodeAt(a));for(var h=s>0?s+1:0;h<r;){for(var u=i,l=1,f=d;;f+=d){h>=r&&I("invalid-input");var g=T(t.charCodeAt(h++));(g>=d||g>S((c-i)/l))&&I("overflow"),i+=g*l;var v=f<=o?m:f>=o+p?p:f-o;if(g<v)break;var M=d-v;l>S(c/M)&&I("overflow"),l*=M}var E=e.length+1;o=C(i-u,E,0==u),S(i/E)>c-n&&I("overflow"),n+=S(i/E),i%=E,e.splice(i++,0,n)}return String.fromCodePoint.apply(String,e)},F=function(t){var e=[],r=(t=O(t)).length,i=w,n=0,o=y,s=!0,a=!1,h=void 0;try{for(var u,l=t[Symbol.iterator]();!(s=(u=l.next()).done);s=!0){var f=u.value;f<128&&e.push(R(f))}}catch(t){a=!0,h=t}finally{try{!s&&l.return&&l.return()}finally{if(a)throw h}}var g=e.length,v=g;for(g&&e.push(b);v<r;){var M=c,E=!0,_=!1,N=void 0;try{for(var A,x=t[Symbol.iterator]();!(E=(A=x.next()).done);E=!0){var k=A.value;k>=i&&k<M&&(M=k)}}catch(t){_=!0,N=t}finally{try{!E&&x.return&&x.return()}finally{if(_)throw N}}var T=v+1;M-i>S((c-n)/T)&&I("overflow"),n+=(M-i)*T,i=M;var U=!0,F=!1,B=void 0;try{for(var D,L=t[Symbol.iterator]();!(U=(D=L.next()).done);U=!0){var $=D.value;if($<i&&++n>c&&I("overflow"),$==i){for(var j=n,z=d;;z+=d){var q=z<=o?m:z>=o+p?p:z-o;if(j<q)break;var G=j-q,V=d-q;e.push(R(P(q+G%V,0))),j=S(G/V)}e.push(R(P(j,0))),o=C(n,T,v==g),n=0,++v}}}catch(t){F=!0,B=t}finally{try{!U&&L.return&&L.return()}finally{if(F)throw B}}++n,++i}return e.join("")},B=function(t){return k(t,(function(t){return M.test(t)?U(t.slice(4).toLowerCase()):t}))},D=function(t){return k(t,(function(t){return E.test(t)?"xn--"+F(t):t}))},L={version:"2.1.0",ucs2:{decode:O,encode:function(t){return String.fromCodePoint.apply(String,f(t))}},decode:U,encode:F,toASCII:D,toUnicode:B},$={};function j(t){var e=t.charCodeAt(0);return e<16?"%0"+e.toString(16).toUpperCase():e<128?"%"+e.toString(16).toUpperCase():e<2048?"%"+(e>>6|192).toString(16).toUpperCase()+"%"+(63&e|128).toString(16).toUpperCase():"%"+(e>>12|224).toString(16).toUpperCase()+"%"+(e>>6&63|128).toString(16).toUpperCase()+"%"+(63&e|128).toString(16).toUpperCase()}function z(t){for(var e="",r=0,i=t.length;r<i;){var n=parseInt(t.substr(r+1,2),16);if(n<128)e+=String.fromCharCode(n),r+=3;else if(n>=194&&n<224){if(i-r>=6){var o=parseInt(t.substr(r+4,2),16);e+=String.fromCharCode((31&n)<<6|63&o)}else e+=t.substr(r,6);r+=6}else if(n>=224){if(i-r>=9){var s=parseInt(t.substr(r+4,2),16),a=parseInt(t.substr(r+7,2),16);e+=String.fromCharCode((15&n)<<12|(63&s)<<6|63&a)}else e+=t.substr(r,9);r+=9}else e+=t.substr(r,3),r+=3}return e}function q(t,e){function r(t){var r=z(t);return r.match(e.UNRESERVED)?r:t}return t.scheme&&(t.scheme=String(t.scheme).replace(e.PCT_ENCODED,r).toLowerCase().replace(e.NOT_SCHEME,"")),void 0!==t.userinfo&&(t.userinfo=String(t.userinfo).replace(e.PCT_ENCODED,r).replace(e.NOT_USERINFO,j).replace(e.PCT_ENCODED,n)),void 0!==t.host&&(t.host=String(t.host).replace(e.PCT_ENCODED,r).toLowerCase().replace(e.NOT_HOST,j).replace(e.PCT_ENCODED,n)),void 0!==t.path&&(t.path=String(t.path).replace(e.PCT_ENCODED,r).replace(t.scheme?e.NOT_PATH:e.NOT_PATH_NOSCHEME,j).replace(e.PCT_ENCODED,n)),void 0!==t.query&&(t.query=String(t.query).replace(e.PCT_ENCODED,r).replace(e.NOT_QUERY,j).replace(e.PCT_ENCODED,n)),void 0!==t.fragment&&(t.fragment=String(t.fragment).replace(e.PCT_ENCODED,r).replace(e.NOT_FRAGMENT,j).replace(e.PCT_ENCODED,n)),t}function G(t){return t.replace(/^0*(.*)/,"$1")||"0"}function V(t,e){var r=t.match(e.IPV4ADDRESS)||[],i=l(r,2)[1];return i?i.split(".").map(G).join("."):t}function K(t,e){var r=t.match(e.IPV6ADDRESS)||[],i=l(r,3),n=i[1],o=i[2];if(n){for(var s=n.toLowerCase().split("::").reverse(),a=l(s,2),h=a[0],u=a[1],f=u?u.split(":").map(G):[],c=h.split(":").map(G),d=e.IPV4ADDRESS.test(c[c.length-1]),m=d?7:8,p=c.length-m,g=Array(m),v=0;v<m;++v)g[v]=f[v]||c[p+v]||"";d&&(g[m-1]=V(g[m-1],e));var y=g.reduce((function(t,e,r){if(!e||"0"===e){var i=t[t.length-1];i&&i.index+i.length===r?i.length++:t.push({index:r,length:1})}return t}),[]).sort((function(t,e){return e.length-t.length}))[0],w=void 0;if(y&&y.length>1){var b=g.slice(0,y.index),M=g.slice(y.index+y.length);w=b.join(":")+"::"+M.join(":")}else w=g.join(":");return o&&(w+="%"+o),w}return t}var Z=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,H=void 0==="".match(/(){0}/)[1];function W(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},i=!1!==e.iri?u:h;"suffix"===e.reference&&(t=(e.scheme?e.scheme+":":"")+"//"+t);var n=t.match(Z);if(n){H?(r.scheme=n[1],r.userinfo=n[3],r.host=n[4],r.port=parseInt(n[5],10),r.path=n[6]||"",r.query=n[7],r.fragment=n[8],isNaN(r.port)&&(r.port=n[5])):(r.scheme=n[1]||void 0,r.userinfo=-1!==t.indexOf("@")?n[3]:void 0,r.host=-1!==t.indexOf("//")?n[4]:void 0,r.port=parseInt(n[5],10),r.path=n[6]||"",r.query=-1!==t.indexOf("?")?n[7]:void 0,r.fragment=-1!==t.indexOf("#")?n[8]:void 0,isNaN(r.port)&&(r.port=t.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?n[4]:void 0)),r.host&&(r.host=K(V(r.host,i),i)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",e.reference&&"suffix"!==e.reference&&e.reference!==r.reference&&(r.error=r.error||"URI is not a "+e.reference+" reference.");var o=$[(e.scheme||r.scheme||"").toLowerCase()];if(e.unicodeSupport||o&&o.unicodeSupport)q(r,i);else{if(r.host&&(e.domainHost||o&&o.domainHost))try{r.host=L.toASCII(r.host.replace(i.PCT_ENCODED,z).toLowerCase())}catch(t){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+t}q(r,h)}o&&o.parse&&o.parse(r,e)}else r.error=r.error||"URI can not be parsed.";return r}function J(t,e){var r=!1!==e.iri?u:h,i=[];return void 0!==t.userinfo&&(i.push(t.userinfo),i.push("@")),void 0!==t.host&&i.push(K(V(String(t.host),r),r).replace(r.IPV6ADDRESS,(function(t,e,r){return"["+e+(r?"%25"+r:"")+"]"}))),"number"!=typeof t.port&&"string"!=typeof t.port||(i.push(":"),i.push(String(t.port))),i.length?i.join(""):void 0}var X=/^\.\.?\//,Y=/^\/\.(\/|$)/,Q=/^\/\.\.(\/|$)/,tt=/^\/?(?:.|\n)*?(?=\/|$)/;function et(t){for(var e=[];t.length;)if(t.match(X))t=t.replace(X,"");else if(t.match(Y))t=t.replace(Y,"/");else if(t.match(Q))t=t.replace(Q,"/"),e.pop();else if("."===t||".."===t)t="";else{var r=t.match(tt);if(!r)throw new Error("Unexpected dot segment condition");var i=r[0];t=t.slice(i.length),e.push(i)}return e.join("")}function rt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.iri?u:h,i=[],n=$[(e.scheme||t.scheme||"").toLowerCase()];if(n&&n.serialize&&n.serialize(t,e),t.host)if(r.IPV6ADDRESS.test(t.host));else if(e.domainHost||n&&n.domainHost)try{t.host=e.iri?L.toUnicode(t.host):L.toASCII(t.host.replace(r.PCT_ENCODED,z).toLowerCase())}catch(r){t.error=t.error||"Host's domain name can not be converted to "+(e.iri?"Unicode":"ASCII")+" via punycode: "+r}q(t,r),"suffix"!==e.reference&&t.scheme&&(i.push(t.scheme),i.push(":"));var o=J(t,e);if(void 0!==o&&("suffix"!==e.reference&&i.push("//"),i.push(o),t.path&&"/"!==t.path.charAt(0)&&i.push("/")),void 0!==t.path){var s=t.path;e.absolutePath||n&&n.absolutePath||(s=et(s)),void 0===o&&(s=s.replace(/^\/\//,"/%2F")),i.push(s)}return void 0!==t.query&&(i.push("?"),i.push(t.query)),void 0!==t.fragment&&(i.push("#"),i.push(t.fragment)),i.join("")}function it(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={};return arguments[3]||(t=W(rt(t,r),r),e=W(rt(e,r),r)),!(r=r||{}).tolerant&&e.scheme?(i.scheme=e.scheme,i.userinfo=e.userinfo,i.host=e.host,i.port=e.port,i.path=et(e.path||""),i.query=e.query):(void 0!==e.userinfo||void 0!==e.host||void 0!==e.port?(i.userinfo=e.userinfo,i.host=e.host,i.port=e.port,i.path=et(e.path||""),i.query=e.query):(e.path?("/"===e.path.charAt(0)?i.path=et(e.path):(void 0===t.userinfo&&void 0===t.host&&void 0===t.port||t.path?t.path?i.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+e.path:i.path=e.path:i.path="/"+e.path,i.path=et(i.path)),i.query=e.query):(i.path=t.path,void 0!==e.query?i.query=e.query:i.query=t.query),i.userinfo=t.userinfo,i.host=t.host,i.port=t.port),i.scheme=t.scheme),i.fragment=e.fragment,i}function nt(t,e,r){var i=s({scheme:"null"},r);return rt(it(W(t,i),W(e,i),i,!0),i)}function ot(t,e){return"string"==typeof t?t=rt(W(t,e),e):"object"===i(t)&&(t=W(rt(t,e),e)),t}function st(t,e,r){return"string"==typeof t?t=rt(W(t,r),r):"object"===i(t)&&(t=rt(t,r)),"string"==typeof e?e=rt(W(e,r),r):"object"===i(e)&&(e=rt(e,r)),t===e}function at(t,e){return t&&t.toString().replace(e&&e.iri?u.ESCAPE:h.ESCAPE,j)}function ht(t,e){return t&&t.toString().replace(e&&e.iri?u.PCT_ENCODED:h.PCT_ENCODED,z)}var ut={scheme:"http",domainHost:!0,parse:function(t,e){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t},serialize:function(t,e){var r="https"===String(t.scheme).toLowerCase();return t.port!==(r?443:80)&&""!==t.port||(t.port=void 0),t.path||(t.path="/"),t}},lt={scheme:"https",domainHost:ut.domainHost,parse:ut.parse,serialize:ut.serialize};function ft(t){return"boolean"==typeof t.secure?t.secure:"wss"===String(t.scheme).toLowerCase()}var ct={scheme:"ws",domainHost:!0,parse:function(t,e){var r=t;return r.secure=ft(r),r.resourceName=(r.path||"/")+(r.query?"?"+r.query:""),r.path=void 0,r.query=void 0,r},serialize:function(t,e){if(t.port!==(ft(t)?443:80)&&""!==t.port||(t.port=void 0),"boolean"==typeof t.secure&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){var r=t.resourceName.split("?"),i=l(r,2),n=i[0],o=i[1];t.path=n&&"/"!==n?n:void 0,t.query=o,t.resourceName=void 0}return t.fragment=void 0,t}},dt={scheme:"wss",domainHost:ct.domainHost,parse:ct.parse,serialize:ct.serialize},mt={},pt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",gt="[0-9A-Fa-f]",vt=r(r("%[EFef]"+gt+"%"+gt+gt+"%"+gt+gt)+"|"+r("%[89A-Fa-f]"+gt+"%"+gt+gt)+"|"+r("%"+gt+gt)),yt="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",wt=e("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),bt="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Mt=new RegExp(pt,"g"),Et=new RegExp(vt,"g"),_t=new RegExp(e("[^]",yt,"[\\.]",'[\\"]',wt),"g"),Nt=new RegExp(e("[^]",pt,bt),"g"),At=Nt;function St(t){var e=z(t);return e.match(Mt)?e:t}var Rt={scheme:"mailto",parse:function(t,e){var r=t,i=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var n=!1,o={},s=r.query.split("&"),a=0,h=s.length;a<h;++a){var u=s[a].split("=");switch(u[0]){case"to":for(var l=u[1].split(","),f=0,c=l.length;f<c;++f)i.push(l[f]);break;case"subject":r.subject=ht(u[1],e);break;case"body":r.body=ht(u[1],e);break;default:n=!0,o[ht(u[0],e)]=ht(u[1],e)}}n&&(r.headers=o)}r.query=void 0;for(var d=0,m=i.length;d<m;++d){var p=i[d].split("@");if(p[0]=ht(p[0]),e.unicodeSupport)p[1]=ht(p[1],e).toLowerCase();else try{p[1]=L.toASCII(ht(p[1],e).toLowerCase())}catch(t){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+t}i[d]=p.join("@")}return r},serialize:function(t,e){var r=t,i=o(t.to);if(i){for(var s=0,a=i.length;s<a;++s){var h=String(i[s]),u=h.lastIndexOf("@"),l=h.slice(0,u).replace(Et,St).replace(Et,n).replace(_t,j),f=h.slice(u+1);try{f=e.iri?L.toUnicode(f):L.toASCII(ht(f,e).toLowerCase())}catch(t){r.error=r.error||"Email address's domain name can not be converted to "+(e.iri?"Unicode":"ASCII")+" via punycode: "+t}i[s]=l+"@"+f}r.path=i.join(",")}var c=t.headers=t.headers||{};t.subject&&(c.subject=t.subject),t.body&&(c.body=t.body);var d=[];for(var m in c)c[m]!==mt[m]&&d.push(m.replace(Et,St).replace(Et,n).replace(Nt,j)+"="+c[m].replace(Et,St).replace(Et,n).replace(At,j));return d.length&&(r.query=d.join("&")),r}},It=/^([^\:]+)\:(.*)/,xt={scheme:"urn",parse:function(t,e){var r=t.path&&t.path.match(It),i=t;if(r){var n=e.scheme||i.scheme||"urn",o=r[1].toLowerCase(),s=r[2],a=n+":"+(e.nid||o),h=$[a];i.nid=o,i.nss=s,i.path=void 0,h&&(i=h.parse(i,e))}else i.error=i.error||"URN can not be parsed.";return i},serialize:function(t,e){var r=e.scheme||t.scheme||"urn",i=t.nid,n=r+":"+(e.nid||i),o=$[n];o&&(t=o.serialize(t,e));var s=t,a=t.nss;return s.path=(i||e.nid)+":"+a,s}},kt=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Ot={scheme:"urn:uuid",parse:function(t,e){var r=t;return r.uuid=r.nss,r.nss=void 0,e.tolerant||r.uuid&&r.uuid.match(kt)||(r.error=r.error||"UUID is not valid."),r},serialize:function(t,e){var r=t;return r.nss=(t.uuid||"").toLowerCase(),r}};$[ut.scheme]=ut,$[lt.scheme]=lt,$[ct.scheme]=ct,$[dt.scheme]=dt,$[Rt.scheme]=Rt,$[xt.scheme]=xt,$[Ot.scheme]=Ot,t.SCHEMES=$,t.pctEncChar=j,t.pctDecChars=z,t.parse=W,t.removeDotSegments=et,t.serialize=rt,t.resolveComponents=it,t.resolve=nt,t.normalize=ot,t.equal=st,t.escapeComponent=at,t.unescapeComponent=ht,Object.defineProperty(t,"__esModule",{value:!0})}(e)})),uu=a((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getSchemaRefs=e.resolveUrl=e.normalizeId=e._getFullPath=e.getFullPath=e.inlineRef=void 0;const r=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);e.inlineRef=function(t,e=!0){return"boolean"==typeof t||(!0===e?!n(t):!!e&&function t(e){let i=0;for(const n in e){if("$ref"===n)return 1/0;if(i++,!r.has(n)&&("object"==typeof e[n]&&Hh.eachItem(e[n],e=>i+=t(e)),i===1/0))return 1/0}return i}(t)<=e)};const i=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function n(t){for(const e in t){if(i.has(e))return!0;const r=t[e];if(Array.isArray(r)&&r.some(n))return!0;if("object"==typeof r&&n(r))return!0}return!1}function o(t="",e){!1!==e&&(t=h(t));return s(hu.parse(t))}function s(t){return hu.serialize(t).split("#")[0]+"#"}e.getFullPath=o,e._getFullPath=s;const a=/#\/?$/;function h(t){return t?t.replace(a,""):""}e.normalizeId=h,e.resolveUrl=function(t,e){return e=h(e),hu.resolve(t,e)};const u=/^[a-z_][-a-z0-9._]*$/i;e.getSchemaRefs=function(t){if("boolean"==typeof t)return{};const{schemaId:e}=this.opts,r=h(t[e]),i={"":r},n=o(r,!1),s={},a=new Set;return au(t,{allKeys:!0},(t,r,o,c)=>{if(void 0===c)return;const d=n+r;let m=i[c];function p(e){if(e=h(m?hu.resolve(m,e):e),a.has(e))throw f(e);a.add(e);let r=this.refs[e];return"string"==typeof r&&(r=this.refs[r]),"object"==typeof r?l(t,r.schema,e):e!==h(d)&&("#"===e[0]?(l(t,s[e],e),s[e]=t):this.refs[e]=d),e}function g(t){if("string"==typeof t){if(!u.test(t))throw new Error(`invalid anchor "${t}"`);p.call(this,"#"+t)}}"string"==typeof t[e]&&(m=p.call(this,t[e])),g.call(this,t.$anchor),g.call(this,t.$dynamicAnchor),i[r]=m}),s;function l(t,e,r){if(void 0!==e&&!su(t,e))throw f(r)}function f(t){return new Error(`reference "${t}" resolves to more than one schema`)}}})),lu=a((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getData=e.KeywordCxt=e.validateFunctionCode=void 0;const r=eu;function i({gen:t,validateName:e,schema:r,schemaEnv:i,opts:o},s){o.code.es5?t.func(e,Zh._`${Jh.default.data}, ${Jh.default.valCxt}`,i.$async,()=>{t.code(Zh._`"use strict"; ${n(r,o)}`),function(t,e){t.if(Jh.default.valCxt,()=>{t.var(Jh.default.instancePath,Zh._`${Jh.default.valCxt}.${Jh.default.instancePath}`),t.var(Jh.default.parentData,Zh._`${Jh.default.valCxt}.${Jh.default.parentData}`),t.var(Jh.default.parentDataProperty,Zh._`${Jh.default.valCxt}.${Jh.default.parentDataProperty}`),t.var(Jh.default.rootData,Zh._`${Jh.default.valCxt}.${Jh.default.rootData}`),e.dynamicRef&&t.var(Jh.default.dynamicAnchors,Zh._`${Jh.default.valCxt}.${Jh.default.dynamicAnchors}`)},()=>{t.var(Jh.default.instancePath,Zh._`""`),t.var(Jh.default.parentData,Zh._`undefined`),t.var(Jh.default.parentDataProperty,Zh._`undefined`),t.var(Jh.default.rootData,Jh.default.data),e.dynamicRef&&t.var(Jh.default.dynamicAnchors,Zh._`{}`)})}(t,o),t.code(s)}):t.func(e,Zh._`${Jh.default.data}, ${function(t){return Zh._`{${Jh.default.instancePath}="", ${Jh.default.parentData}, ${Jh.default.parentDataProperty}, ${Jh.default.rootData}=${Jh.default.data}${t.dynamicRef?Zh._`, ${Jh.default.dynamicAnchors}={}`:Zh.nil}}={}`}(o)}`,i.$async,()=>t.code(n(r,o)).code(s))}function n(t,e){const r="object"==typeof t&&t[e.schemaId];return r&&(e.code.source||e.code.process)?Zh._`/*# sourceURL=${r} */`:Zh.nil}function o(t,e){a(t)&&(h(t),s(t))?function(t,e){const{schema:r,gen:i,opts:n}=t;n.$comment&&r.$comment&&l(t);(function(t){const e=t.schema[t.opts.schemaId];e&&(t.baseId=uu.resolveUrl(t.baseId,e))})(t),function(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}(t);const o=i.const("_errs",Jh.default.errors);u(t,o),i.var(e,Zh._`${o} === ${Jh.default.errors}`)}(t,e):Yh.boolOrEmptySchema(t,e)}function s({schema:t,self:e}){if("boolean"==typeof t)return!t;for(const r in t)if(e.RULES.all[r])return!0;return!1}function a(t){return"boolean"!=typeof t.schema}function h(t){Hh.checkUnknownRules(t),function(t){const{schema:e,errSchemaPath:r,opts:i,self:n}=t;e.$ref&&i.ignoreKeywordsWithRef&&Hh.schemaHasRulesButRef(e,n.RULES)&&n.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}(t)}function u(t,e){if(t.opts.jtd)return f(t,[],!1,e);const r=eu.getSchemaTypes(t.schema);f(t,r,!eu.coerceAndCheckDataType(t,r),e)}function l({gen:t,schemaEnv:e,schema:r,errSchemaPath:i,opts:n}){const o=r.$comment;if(!0===n.$comment)t.code(Zh._`${Jh.default.self}.logger.log(${o})`);else if("function"==typeof n.$comment){const r=Zh.str`${i}/$comment`,n=t.scopeValue("root",{ref:e.root});t.code(Zh._`${Jh.default.self}.opts.$comment(${o}, ${r}, ${n}.schema)`)}}function f(t,e,i,n){const{gen:o,schema:s,data:a,allErrors:h,opts:u,self:l}=t,{RULES:f}=l;function g(l){tu.shouldUseGroup(s,l)&&(l.type?(o.if(r.checkDataType(l.type,a,u.strictNumbers)),c(t,l),1===e.length&&e[0]===l.type&&i&&(o.else(),r.reportTypeError(t)),o.endIf()):c(t,l),h||o.if(Zh._`${Jh.default.errors} === ${n||0}`))}!s.$ref||!u.ignoreKeywordsWithRef&&Hh.schemaHasRulesButRef(s,f)?(u.jtd||function(t,e){if(t.schemaEnv.meta||!t.opts.strictTypes)return;(function(t,e){if(!e.length)return;if(!t.dataTypes.length)return void(t.dataTypes=e);e.forEach(e=>{m(t.dataTypes,e)||p(t,`type "${e}" not allowed by context "${t.dataTypes.join(",")}"`)}),t.dataTypes=t.dataTypes.filter(t=>m(e,t))})(t,e),t.opts.allowUnionTypes||function(t,e){e.length>1&&(2!==e.length||!e.includes("null"))&&p(t,"use allowUnionTypes to allow union type keyword")}(t,e);!function(t,e){const r=t.self.RULES.all;for(const i in r){const n=r[i];if("object"==typeof n&&tu.shouldUseRule(t.schema,n)){const{type:r}=n.definition;r.length&&!r.some(t=>d(e,t))&&p(t,`missing type "${r.join(",")}" for keyword "${i}"`)}}}(t,t.dataTypes)}(t,e),o.block(()=>{for(const t of f.rules)g(t);g(f.post)})):o.block(()=>v(t,"$ref",f.all.$ref.definition))}function c(t,e){const{gen:r,schema:i,opts:{useDefaults:n}}=t;n&&ru.assignDefaults(t,e.type),r.block(()=>{for(const r of e.rules)tu.shouldUseRule(i,r)&&v(t,r.keyword,r.definition,e.type)})}function d(t,e){return t.includes(e)||"number"===e&&t.includes("integer")}function m(t,e){return t.includes(e)||"integer"===e&&t.includes("number")}function p(t,e){e+=` at "${t.schemaEnv.baseId+t.errSchemaPath}" (strictTypes)`,Hh.checkStrictMode(t,e,t.opts.strictTypes)}e.validateFunctionCode=function(t){a(t)&&(h(t),s(t))?function(t){const{schema:e,opts:r,gen:n}=t;i(t,()=>{r.$comment&&e.$comment&&l(t),function(t){const{schema:e,opts:r}=t;void 0!==e.default&&r.useDefaults&&r.strictSchema&&Hh.checkStrictMode(t,"default is ignored in the schema root")}(t),n.let(Jh.default.vErrors,null),n.let(Jh.default.errors,0),r.unevaluated&&function(t){const{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",Zh._`${r}.evaluated`),e.if(Zh._`${t.evaluated}.dynamicProps`,()=>e.assign(Zh._`${t.evaluated}.props`,Zh._`undefined`)),e.if(Zh._`${t.evaluated}.dynamicItems`,()=>e.assign(Zh._`${t.evaluated}.items`,Zh._`undefined`))}(t),u(t),function(t){const{gen:e,schemaEnv:r,validateName:i,ValidationError:n,opts:o}=t;r.$async?e.if(Zh._`${Jh.default.errors} === 0`,()=>e.return(Jh.default.data),()=>e.throw(Zh._`new ${n}(${Jh.default.vErrors})`)):(e.assign(Zh._`${i}.errors`,Jh.default.vErrors),o.unevaluated&&function({gen:t,evaluated:e,props:r,items:i}){r instanceof Zh.Name&&t.assign(Zh._`${e}.props`,r);i instanceof Zh.Name&&t.assign(Zh._`${e}.items`,i)}(t),e.return(Zh._`${Jh.default.errors} === 0`))}(t)})}(t):i(t,()=>Yh.topBoolOrEmptySchema(t))};class g{constructor(t,e,r){if(nu.validateKeywordUsage(t,e,r),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=r,this.data=t.data,this.schema=t.schema[r],this.$data=e.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=Hh.schemaRefOrVal(t,this.schema,r,this.$data),this.schemaType=e.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=e,this.$data)this.schemaCode=t.gen.const("vSchema",b(this.$data,t));else if(this.schemaCode=this.schemaValue,!nu.validSchemaType(this.schema,e.schemaType,e.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(e.schemaType)}`);("code"in e?e.trackErrors:!1!==e.errors)&&(this.errsCount=t.gen.const("_errs",Jh.default.errors))}result(t,e,r){this.gen.if(Zh.not(t)),r?r():this.error(),e?(this.gen.else(),e(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,e){this.result(t,void 0,e)}fail(t){if(void 0===t)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:e}=this;this.fail(Zh._`${e} !== undefined && (${Zh.or(this.invalid$data(),t)})`)}error(t,e,r){if(e)return this.setParams(e),this._error(t,r),void this.setParams({});this._error(t,r)}_error(t,e){(t?Xh.reportExtraError:Xh.reportError)(this,this.def.error,e)}$dataError(){Xh.reportError(this,this.def.$dataError||Xh.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');Xh.resetErrorsCount(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,e){e?Object.assign(this.params,t):this.params=t}block$data(t,e,r=Zh.nil){this.gen.block(()=>{this.check$data(t,r),e()})}check$data(t=Zh.nil,e=Zh.nil){if(!this.$data)return;const{gen:r,schemaCode:i,schemaType:n,def:o}=this;r.if(Zh.or(Zh._`${i} === undefined`,e)),t!==Zh.nil&&r.assign(t,!0),(n.length||o.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),t!==Zh.nil&&r.assign(t,!1)),r.else()}invalid$data(){const{gen:t,schemaCode:e,schemaType:i,def:n,it:o}=this;return Zh.or(function(){if(i.length){if(!(e instanceof Zh.Name))throw new Error("ajv implementation error");const t=Array.isArray(i)?i:[i];return Zh._`${r.checkDataTypes(t,e,o.opts.strictNumbers,r.DataType.Wrong)}`}return Zh.nil}(),function(){if(n.validateSchema){const r=t.scopeValue("validate$data",{ref:n.validateSchema});return Zh._`!${r}(${e})`}return Zh.nil}())}subschema(t,e){const r=ou.getSubschema(this.it,t);ou.extendSubschemaData(r,this.it,t),ou.extendSubschemaMode(r,t);const i={...this.it,...r,items:void 0,props:void 0};return o(i,e),i}mergeEvaluated(t,e){const{it:r,gen:i}=this;r.opts.unevaluated&&(!0!==r.props&&void 0!==t.props&&(r.props=Hh.mergeEvaluated.props(i,t.props,r.props,e)),!0!==r.items&&void 0!==t.items&&(r.items=Hh.mergeEvaluated.items(i,t.items,r.items,e)))}mergeValidEvaluated(t,e){const{it:r,gen:i}=this;if(r.opts.unevaluated&&(!0!==r.props||!0!==r.items))return i.if(e,()=>this.mergeEvaluated(t,Zh.Name)),!0}}function v(t,e,r,i){const n=new g(t,r,e);"code"in r?r.code(n,i):n.$data&&r.validate?nu.funcKeywordCode(n,r):"macro"in r?nu.macroKeywordCode(n,r):(r.compile||r.validate)&&nu.funcKeywordCode(n,r)}e.KeywordCxt=g;const y=/^\/(?:[^~]|~0|~1)*$/,w=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function b(t,{dataLevel:e,dataNames:r,dataPathArr:i}){let n,o;if(""===t)return Jh.default.rootData;if("/"===t[0]){if(!y.test(t))throw new Error("Invalid JSON-pointer: "+t);n=t,o=Jh.default.rootData}else{const s=w.exec(t);if(!s)throw new Error("Invalid JSON-pointer: "+t);const a=+s[1];if(n=s[2],"#"===n){if(a>=e)throw new Error(h("property/index",a));return i[e-a]}if(a>e)throw new Error(h("data",a));if(o=r[e-a],!n)return o}let s=o;const a=n.split("/");for(const t of a)t&&(o=Zh._`${o}${Zh.getProperty(Hh.unescapeJsonPointer(t))}`,s=Zh._`${s} && ${o}`);return s;function h(t,r){return`Cannot access ${t} ${r} levels up, current level is ${e}`}}e.getData=b}));class fu extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}var cu=fu,du=Object.defineProperty({default:cu},"__esModule",{value:!0});class mu extends Error{constructor(t,e,r){super(r||`can't resolve reference ${e} from id ${t}`),this.missingRef=uu.resolveUrl(t,e),this.missingSchema=uu.normalizeId(uu.getFullPath(this.missingRef))}}var pu=mu,gu=Object.defineProperty({default:pu},"__esModule",{value:!0}),vu=a((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.resolveSchema=e.getCompilingSchema=e.resolveRef=e.compileSchema=e.SchemaEnv=void 0;class r{constructor(t){var e;let r;this.refs={},this.dynamicAnchors={},"object"==typeof t.schema&&(r=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=null!==(e=t.baseId)&&void 0!==e?e:uu.normalizeId(null==r?void 0:r[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=null==r?void 0:r.$async,this.refs={}}}function i(t){const e=o.call(this,t);if(e)return e;const r=uu.getFullPath(t.root.baseId),{es5:i,lines:n}=this.opts.code,{ownProperties:s}=this.opts,a=new Zh.CodeGen(this.scope,{es5:i,lines:n,ownProperties:s});let h;t.$async&&(h=a.scopeValue("Error",{ref:du.default,code:Zh._`require("ajv/dist/runtime/validation_error").default`}));const u=a.scopeName("validate");t.validateName=u;const l={gen:a,allErrors:this.opts.allErrors,data:Jh.default.data,parentData:Jh.default.parentData,parentDataProperty:Jh.default.parentDataProperty,dataNames:[Jh.default.data],dataPathArr:[Zh.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",!0===this.opts.code.source?{ref:t.schema,code:Zh.stringify(t.schema)}:{ref:t.schema}),validateName:u,ValidationError:h,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:Zh.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:Zh._`""`,opts:this.opts,self:this};let f;try{this._compilations.add(t),lu.validateFunctionCode(l),a.optimize(this.opts.code.optimize);const e=a.toString();f=`${a.scopeRefs(Jh.default.scope)}return ${e}`,this.opts.code.process&&(f=this.opts.code.process(f,t));const r=new Function(""+Jh.default.self,""+Jh.default.scope,f)(this,this.scope.get());if(this.scope.value(u,{ref:r}),r.errors=null,r.schema=t.schema,r.schemaEnv=t,t.$async&&(r.$async=!0),!0===this.opts.code.source&&(r.source={validateName:u,validateCode:e,scopeValues:a._values}),this.opts.unevaluated){const{props:t,items:e}=l;r.evaluated={props:t instanceof Zh.Name?void 0:t,items:e instanceof Zh.Name?void 0:e,dynamicProps:t instanceof Zh.Name,dynamicItems:e instanceof Zh.Name},r.source&&(r.source.evaluated=Zh.stringify(r.evaluated))}return t.validate=r,t}catch(e){throw delete t.validate,delete t.validateName,f&&this.logger.error("Error compiling schema, function code:",f),e}finally{this._compilations.delete(t)}}function n(t){return uu.inlineRef(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:i.call(this,t)}function o(t){for(const i of this._compilations)if(r=t,(e=i).schema===r.schema&&e.root===r.root&&e.baseId===r.baseId)return i;var e,r}function s(t,e){let r;for(;"string"==typeof(r=this.refs[e]);)e=r;return r||this.schemas[e]||a.call(this,t,e)}function a(t,e){const n=hu.parse(e),o=uu._getFullPath(n);let s=uu.getFullPath(t.baseId);if(Object.keys(t.schema).length>0&&o===s)return u.call(this,n,t);const h=uu.normalizeId(o),l=this.refs[h]||this.schemas[h];if("string"==typeof l){const e=a.call(this,t,l);if("object"!=typeof(null==e?void 0:e.schema))return;return u.call(this,n,e)}if("object"==typeof(null==l?void 0:l.schema)){if(l.validate||i.call(this,l),h===uu.normalizeId(e)){const{schema:e}=l,{schemaId:i}=this.opts,n=e[i];return n&&(s=uu.resolveUrl(s,n)),new r({schema:e,schemaId:i,root:t,baseId:s})}return u.call(this,n,l)}}e.SchemaEnv=r,e.compileSchema=i,e.resolveRef=function(t,e,i){var o;i=uu.resolveUrl(e,i);const a=t.refs[i];if(a)return a;let h=s.call(this,t,i);if(void 0===h){const n=null===(o=t.localRefs)||void 0===o?void 0:o[i],{schemaId:s}=this.opts;n&&(h=new r({schema:n,schemaId:s,root:t,baseId:e}))}return void 0!==h?t.refs[i]=n.call(this,h):void 0},e.getCompilingSchema=o,e.resolveSchema=a;const h=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function u(t,{baseId:e,schema:i,root:n}){var o;if("/"!==(null===(o=t.fragment)||void 0===o?void 0:o[0]))return;for(const r of t.fragment.slice(1).split("/")){if("boolean"==typeof i)return;if(void 0===(i=i[Hh.unescapeFragment(r)]))return;const t="object"==typeof i&&i[this.opts.schemaId];!h.has(r)&&t&&(e=uu.resolveUrl(e,t))}let s;if("boolean"!=typeof i&&i.$ref&&!Hh.schemaHasRulesButRef(i,this.RULES)){const t=uu.resolveUrl(e,i.$ref);s=a.call(this,n,t)}const{schemaId:u}=this.opts;return s=s||new r({schema:i,schemaId:u,root:n,baseId:e}),s.schema!==s.root.schema?s:void 0}})),yu={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1},wu=a((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0,Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return lu.KeywordCxt}}),Object.defineProperty(e,"_",{enumerable:!0,get:function(){return Zh._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return Zh.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return Zh.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return Zh.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return Zh.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return Zh.CodeGen}});const r=Zh,i=["removeAdditional","useDefaults","coerceTypes"],n=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),o={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},s={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function a(t){var e,r,i,n,o,s,a,h,u,l,f,c,d,m,p,g,v,y,w,b,M,E;const _=t.strict,N=null===(e=t.code)||void 0===e?void 0:e.optimize,A=!0===N||void 0===N?1:N||0;return{strictSchema:null===(i=null!==(r=t.strictSchema)&&void 0!==r?r:_)||void 0===i||i,strictNumbers:null===(o=null!==(n=t.strictNumbers)&&void 0!==n?n:_)||void 0===o||o,strictTypes:null!==(a=null!==(s=t.strictTypes)&&void 0!==s?s:_)&&void 0!==a?a:"log",strictTuples:null!==(u=null!==(h=t.strictTuples)&&void 0!==h?h:_)&&void 0!==u?u:"log",strictRequired:null!==(f=null!==(l=t.strictRequired)&&void 0!==l?l:_)&&void 0!==f&&f,code:t.code?{...t.code,optimize:A}:{optimize:A},loopRequired:null!==(c=t.loopRequired)&&void 0!==c?c:200,loopEnum:null!==(d=t.loopEnum)&&void 0!==d?d:200,meta:null===(m=t.meta)||void 0===m||m,messages:null===(p=t.messages)||void 0===p||p,inlineRefs:null===(g=t.inlineRefs)||void 0===g||g,schemaId:null!==(v=t.schemaId)&&void 0!==v?v:"$id",addUsedSchema:null===(y=t.addUsedSchema)||void 0===y||y,validateSchema:null===(w=t.validateSchema)||void 0===w||w,validateFormats:null===(b=t.validateFormats)||void 0===b||b,unicodeRegExp:null===(M=t.unicodeRegExp)||void 0===M||M,int32range:null===(E=t.int32range)||void 0===E||E}}class h{constructor(t={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,t=this.opts={...t,...a(t)};const{es5:e,lines:i}=this.opts.code;this.scope=new r.ValueScope({scope:{},prefixes:n,es5:e,lines:i}),this.logger=function(t){if(!1===t)return p;if(void 0===t)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}(t.logger);const h=t.validateFormats;t.validateFormats=!1,this.RULES=Qh.getRules(),u.call(this,o,t,"NOT SUPPORTED"),u.call(this,s,t,"DEPRECATED","warn"),this._metaOpts=m.call(this),t.formats&&c.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),t.keywords&&d.call(this,t.keywords),"object"==typeof t.meta&&this.addMetaSchema(t.meta),f.call(this),t.validateFormats=h}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:t,meta:e,schemaId:r}=this.opts;let i=yu;"id"===r&&(i={...yu},i.id=i.$id,delete i.$id),e&&t&&this.addMetaSchema(i,i[r],!1)}defaultMeta(){const{meta:t,schemaId:e}=this.opts;return this.opts.defaultMeta="object"==typeof t?t[e]||t:void 0}validate(t,e){let r;if("string"==typeof t){if(r=this.getSchema(t),!r)throw new Error(`no schema with key or ref "${t}"`)}else r=this.compile(t);const i=r(e);return"$async"in r||(this.errors=r.errors),i}compile(t,e){const r=this._addSchema(t,e);return r.validate||this._compileSchemaEnv(r)}compileAsync(t,e){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:r}=this.opts;return i.call(this,t,e);async function i(t,e){await n.call(this,t.$schema);const r=this._addSchema(t,e);return r.validate||o.call(this,r)}async function n(t){t&&!this.getSchema(t)&&await i.call(this,{$ref:t},!0)}async function o(t){try{return this._compileSchemaEnv(t)}catch(e){if(!(e instanceof gu.default))throw e;return s.call(this,e),await a.call(this,e.missingSchema),o.call(this,t)}}function s({missingSchema:t,missingRef:e}){if(this.refs[t])throw new Error(`AnySchema ${t} is loaded but ${e} cannot be resolved`)}async function a(t){const r=await h.call(this,t);this.refs[t]||await n.call(this,r.$schema),this.refs[t]||this.addSchema(r,t,e)}async function h(t){const e=this._loading[t];if(e)return e;try{return await(this._loading[t]=r(t))}finally{delete this._loading[t]}}}addSchema(t,e,r,i=this.opts.validateSchema){if(Array.isArray(t)){for(const e of t)this.addSchema(e,void 0,r,i);return this}let n;if("object"==typeof t){const{schemaId:e}=this.opts;if(n=t[e],void 0!==n&&"string"!=typeof n)throw new Error(`schema ${e} must be string`)}return e=uu.normalizeId(e||n),this._checkUnique(e),this.schemas[e]=this._addSchema(t,r,e,i,!0),this}addMetaSchema(t,e,r=this.opts.validateSchema){return this.addSchema(t,e,!0,r),this}validateSchema(t,e){if("boolean"==typeof t)return!0;let r;if(r=t.$schema,void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(r=r||this.opts.defaultMeta||this.defaultMeta(),!r)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const i=this.validate(r,t);if(!i&&e){const t="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(t);this.logger.error(t)}return i}getSchema(t){let e;for(;"string"==typeof(e=l.call(this,t));)t=e;if(void 0===e){const{schemaId:r}=this.opts,i=new vu.SchemaEnv({schema:{},schemaId:r});if(e=vu.resolveSchema.call(this,i,t),!e)return;this.refs[t]=e}return e.validate||this._compileSchemaEnv(e)}removeSchema(t){if(t instanceof RegExp)return this._removeAllSchemas(this.schemas,t),this._removeAllSchemas(this.refs,t),this;switch(typeof t){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const e=l.call(this,t);return"object"==typeof e&&this._cache.delete(e.schema),delete this.schemas[t],delete this.refs[t],this}case"object":{const e=t;this._cache.delete(e);let r=t[this.opts.schemaId];return r&&(r=uu.normalizeId(r),delete this.schemas[r],delete this.refs[r]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(t){for(const e of t)this.addKeyword(e);return this}addKeyword(t,e){let r;if("string"==typeof t)r=t,"object"==typeof e&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),e.keyword=r);else{if("object"!=typeof t||void 0!==e)throw new Error("invalid addKeywords parameters");if(r=(e=t).keyword,Array.isArray(r)&&!r.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(v.call(this,r,e),!e)return Hh.eachItem(r,t=>y.call(this,t)),this;b.call(this,e);const i={...e,type:eu.getJSONTypes(e.type),schemaType:eu.getJSONTypes(e.schemaType)};return Hh.eachItem(r,0===i.type.length?t=>y.call(this,t,i):t=>i.type.forEach(e=>y.call(this,t,i,e))),this}getKeyword(t){const e=this.RULES.all[t];return"object"==typeof e?e.definition:!!e}removeKeyword(t){const{RULES:e}=this;delete e.keywords[t],delete e.all[t];for(const r of e.rules){const e=r.rules.findIndex(e=>e.keyword===t);e>=0&&r.rules.splice(e,1)}return this}addFormat(t,e){return"string"==typeof e&&(e=new RegExp(e)),this.formats[t]=e,this}errorsText(t=this.errors,{separator:e=", ",dataVar:r="data"}={}){return t&&0!==t.length?t.map(t=>`${r}${t.instancePath} ${t.message}`).reduce((t,r)=>t+e+r):"No errors"}$dataMetaSchema(t,e){const r=this.RULES.all;t=JSON.parse(JSON.stringify(t));for(const i of e){const e=i.split("/").slice(1);let n=t;for(const t of e)n=n[t];for(const t in r){const e=r[t];if("object"!=typeof e)continue;const{$data:i}=e.definition,o=n[t];i&&o&&(n[t]=E(o))}}return t}_removeAllSchemas(t,e){for(const r in t){const i=t[r];e&&!e.test(r)||("string"==typeof i?delete t[r]:i&&!i.meta&&(this._cache.delete(i.schema),delete t[r]))}}_addSchema(t,e,r,i=this.opts.validateSchema,n=this.opts.addUsedSchema){let o;const{schemaId:s}=this.opts;if("object"==typeof t)o=t[s];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof t)throw new Error("schema must be object or boolean")}let a=this._cache.get(t);if(void 0!==a)return a;const h=uu.getSchemaRefs.call(this,t);return r=uu.normalizeId(o||r),a=new vu.SchemaEnv({schema:t,schemaId:s,meta:e,baseId:r,localRefs:h}),this._cache.set(a.schema,a),n&&!r.startsWith("#")&&(r&&this._checkUnique(r),this.refs[r]=a),i&&this.validateSchema(t,!0),a}_checkUnique(t){if(this.schemas[t]||this.refs[t])throw new Error(`schema with key or id "${t}" already exists`)}_compileSchemaEnv(t){if(t.meta?this._compileMetaSchema(t):vu.compileSchema.call(this,t),!t.validate)throw new Error("ajv implementation error");return t.validate}_compileMetaSchema(t){const e=this.opts;this.opts=this._metaOpts;try{vu.compileSchema.call(this,t)}finally{this.opts=e}}}function u(t,e,r,i="error"){for(const n in t){const o=n;o in e&&this.logger[i](`${r}: option ${n}. ${t[o]}`)}}function l(t){return t=uu.normalizeId(t),this.schemas[t]||this.refs[t]}function f(){const t=this.opts.schemas;if(t)if(Array.isArray(t))this.addSchema(t);else for(const e in t)this.addSchema(t[e],e)}function c(){for(const t in this.opts.formats){const e=this.opts.formats[t];e&&this.addFormat(t,e)}}function d(t){if(Array.isArray(t))this.addVocabulary(t);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const e in t){const r=t[e];r.keyword||(r.keyword=e),this.addKeyword(r)}}}function m(){const t={...this.opts};for(const e of i)delete t[e];return t}e.default=h,h.ValidationError=du.default,h.MissingRefError=gu.default;const p={log(){},warn(){},error(){}};const g=/^[a-z_$][a-z0-9_$:-]*$/i;function v(t,e){const{RULES:r}=this;if(Hh.eachItem(t,t=>{if(r.keywords[t])throw new Error(`Keyword ${t} is already defined`);if(!g.test(t))throw new Error(`Keyword ${t} has invalid name`)}),e&&e.$data&&!("code"in e)&&!("validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function y(t,e,r){var i;const n=null==e?void 0:e.post;if(r&&n)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:o}=this;let s=n?o.post:o.rules.find(({type:t})=>t===r);if(s||(s={type:r,rules:[]},o.rules.push(s)),o.keywords[t]=!0,!e)return;const a={keyword:t,definition:{...e,type:eu.getJSONTypes(e.type),schemaType:eu.getJSONTypes(e.schemaType)}};e.before?w.call(this,s,a,e.before):s.rules.push(a),o.all[t]=a,null===(i=e.implements)||void 0===i||i.forEach(t=>this.addKeyword(t))}function w(t,e,r){const i=t.rules.findIndex(t=>t.keyword===r);i>=0?t.rules.splice(i,0,e):(t.rules.push(e),this.logger.warn(`rule ${r} is not defined`))}function b(t){let{metaSchema:e}=t;void 0!==e&&(t.$data&&this.opts.$data&&(e=E(e)),t.validateSchema=this.compile(e,!0))}const M={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function E(t){return{anyOf:[t,M]}}}));var bu={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}},Mu=Object.defineProperty({default:bu},"__esModule",{value:!0}),Eu=a((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.callRef=e.getValidate=void 0;const r={keyword:"$ref",schemaType:"string",code(t){const{gen:e,schema:r,it:o}=t,{baseId:s,schemaEnv:a,validateName:h,opts:u,self:l}=o,{root:f}=a;if(("#"===r||"#/"===r)&&s===f.baseId)return function(){if(a===f)return n(t,h,a,a.$async);const r=e.scopeValue("root",{ref:f});return n(t,Zh._`${r}.validate`,f,f.$async)}();const c=vu.resolveRef.call(l,f,s,r);if(void 0===c)throw new gu.default(s,r);return c instanceof vu.SchemaEnv?function(e){const r=i(t,e);n(t,r,e,e.$async)}(c):function(i){const n=e.scopeValue("schema",!0===u.code.source?{ref:i,code:Zh.stringify(i)}:{ref:i}),o=e.name("valid"),s=t.subschema({schema:i,dataTypes:[],schemaPath:Zh.nil,topSchemaRef:n,errSchemaPath:r},o);t.mergeEvaluated(s),t.ok(o)}(c)}};function i(t,e){const{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):Zh._`${r.scopeValue("wrapper",{ref:e})}.validate`}function n(t,e,r,i){const{gen:n,it:o}=t,{allErrors:s,schemaEnv:a,opts:h}=o,u=h.passContext?Jh.default.this:Zh.nil;function l(t){const e=Zh._`${t}.errors`;n.assign(Jh.default.vErrors,Zh._`${Jh.default.vErrors} === null ? ${e} : ${Jh.default.vErrors}.concat(${e})`),n.assign(Jh.default.errors,Zh._`${Jh.default.vErrors}.length`)}function f(t){var e;if(!o.opts.unevaluated)return;const i=null===(e=null==r?void 0:r.validate)||void 0===e?void 0:e.evaluated;if(!0!==o.props)if(i&&!i.dynamicProps)void 0!==i.props&&(o.props=Hh.mergeEvaluated.props(n,i.props,o.props));else{const e=n.var("props",Zh._`${t}.evaluated.props`);o.props=Hh.mergeEvaluated.props(n,e,o.props,Zh.Name)}if(!0!==o.items)if(i&&!i.dynamicItems)void 0!==i.items&&(o.items=Hh.mergeEvaluated.items(n,i.items,o.items));else{const e=n.var("items",Zh._`${t}.evaluated.items`);o.items=Hh.mergeEvaluated.items(n,e,o.items,Zh.Name)}}i?function(){if(!a.$async)throw new Error("async schema referenced by sync schema");const r=n.let("valid");n.try(()=>{n.code(Zh._`await ${iu.callValidateCode(t,e,u)}`),f(e),s||n.assign(r,!0)},t=>{n.if(Zh._`!(${t} instanceof ${o.ValidationError})`,()=>n.throw(t)),l(t),s||n.assign(r,!1)}),t.ok(r)}():t.result(iu.callValidateCode(t,e,u),()=>f(e),()=>l(e))}e.getValidate=i,e.callRef=n,e.default=r}));var _u=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Mu.default,Eu.default],Nu=Object.defineProperty({default:_u},"__esModule",{value:!0});const Au=Zh.operators,Su={maximum:{okStr:"<=",ok:Au.LTE,fail:Au.GT},minimum:{okStr:">=",ok:Au.GTE,fail:Au.LT},exclusiveMaximum:{okStr:"<",ok:Au.LT,fail:Au.GTE},exclusiveMinimum:{okStr:">",ok:Au.GT,fail:Au.LTE}},Ru={message:({keyword:t,schemaCode:e})=>Zh.str`must be ${Su[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>Zh._`{comparison: ${Su[t].okStr}, limit: ${e}}`};var Iu={keyword:Object.keys(Su),type:"number",schemaType:"number",$data:!0,error:Ru,code(t){const{keyword:e,data:r,schemaCode:i}=t;t.fail$data(Zh._`${r} ${Su[e].fail} ${i} || isNaN(${r})`)}},xu=Object.defineProperty({default:Iu},"__esModule",{value:!0});var ku={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:t})=>Zh.str`must be multiple of ${t}`,params:({schemaCode:t})=>Zh._`{multipleOf: ${t}}`},code(t){const{gen:e,data:r,schemaCode:i,it:n}=t,o=n.opts.multipleOfPrecision,s=e.let("res"),a=o?Zh._`Math.abs(Math.round(${s}) - ${s}) > 1e-${o}`:Zh._`${s} !== parseInt(${s})`;t.fail$data(Zh._`(${i} === 0 || (${s} = ${r}/${i}, ${a}))`)}},Ou=Object.defineProperty({default:ku},"__esModule",{value:!0});function Tu(t){const e=t.length;let r,i=0,n=0;for(;n<e;)i++,r=t.charCodeAt(n++),r>=55296&&r<=56319&&n<e&&(r=t.charCodeAt(n),56320==(64512&r)&&n++);return i}var Pu=Tu;Tu.code='require("ajv/dist/runtime/ucs2length").default';var Cu=Object.defineProperty({default:Pu},"__esModule",{value:!0});var Uu={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:t,schemaCode:e}){const r="maxLength"===t?"more":"fewer";return Zh.str`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>Zh._`{limit: ${t}}`},code(t){const{keyword:e,data:r,schemaCode:i,it:n}=t,o="maxLength"===e?Zh.operators.GT:Zh.operators.LT,s=!1===n.opts.unicode?Zh._`${r}.length`:Zh._`${Hh.useFunc(t.gen,Cu.default)}(${r})`;t.fail$data(Zh._`${s} ${o} ${i}`)}},Fu=Object.defineProperty({default:Uu},"__esModule",{value:!0});var Bu={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:t})=>Zh.str`must match pattern "${t}"`,params:({schemaCode:t})=>Zh._`{pattern: ${t}}`},code(t){const{data:e,$data:r,schema:i,schemaCode:n,it:o}=t,s=o.opts.unicodeRegExp?"u":"",a=r?Zh._`(new RegExp(${n}, ${s}))`:iu.usePattern(t,i);t.fail$data(Zh._`!${a}.test(${e})`)}},Du=Object.defineProperty({default:Bu},"__esModule",{value:!0});var Lu={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:t,schemaCode:e}){const r="maxProperties"===t?"more":"fewer";return Zh.str`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>Zh._`{limit: ${t}}`},code(t){const{keyword:e,data:r,schemaCode:i}=t,n="maxProperties"===e?Zh.operators.GT:Zh.operators.LT;t.fail$data(Zh._`Object.keys(${r}).length ${n} ${i}`)}},$u=Object.defineProperty({default:Lu},"__esModule",{value:!0});var ju={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:t}})=>Zh.str`must have required property '${t}'`,params:({params:{missingProperty:t}})=>Zh._`{missingProperty: ${t}}`},code(t){const{gen:e,schema:r,schemaCode:i,data:n,$data:o,it:s}=t,{opts:a}=s;if(!o&&0===r.length)return;const h=r.length>=a.loopRequired;if(s.allErrors?function(){if(h||o)t.block$data(Zh.nil,u);else for(const e of r)iu.checkReportMissingProp(t,e)}():function(){const s=e.let("missing");if(h||o){const r=e.let("valid",!0);t.block$data(r,()=>function(r,o){t.setParams({missingProperty:r}),e.forOf(r,i,()=>{e.assign(o,iu.propertyInData(e,n,r,a.ownProperties)),e.if(Zh.not(o),()=>{t.error(),e.break()})},Zh.nil)}(s,r)),t.ok(r)}else e.if(iu.checkMissingProp(t,r,s)),iu.reportMissingProp(t,s),e.else()}(),a.strictRequired){const e=t.parentSchema.properties,{definedProperties:i}=t.it;for(const t of r)if(void 0===(null==e?void 0:e[t])&&!i.has(t)){const e=`required property "${t}" is not defined at "${s.schemaEnv.baseId+s.errSchemaPath}" (strictRequired)`;Hh.checkStrictMode(s,e,s.opts.strictRequired)}}function u(){e.forOf("prop",i,r=>{t.setParams({missingProperty:r}),e.if(iu.noPropertyInData(e,n,r,a.ownProperties),()=>t.error())})}}},zu=Object.defineProperty({default:ju},"__esModule",{value:!0});var qu={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:t,schemaCode:e}){const r="maxItems"===t?"more":"fewer";return Zh.str`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>Zh._`{limit: ${t}}`},code(t){const{keyword:e,data:r,schemaCode:i}=t,n="maxItems"===e?Zh.operators.GT:Zh.operators.LT;t.fail$data(Zh._`${r}.length ${n} ${i}`)}},Gu=Object.defineProperty({default:qu},"__esModule",{value:!0});su.code='require("ajv/dist/runtime/equal").default';var Vu=su,Ku=Object.defineProperty({default:Vu},"__esModule",{value:!0});var Zu={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:t,j:e}})=>Zh.str`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>Zh._`{i: ${t}, j: ${e}}`},code(t){const{gen:e,data:r,$data:i,schema:n,parentSchema:o,schemaCode:s,it:a}=t;if(!i&&!n)return;const h=e.let("valid"),u=o.items?eu.getSchemaTypes(o.items):[];function l(i,n){const o=e.name("item"),s=eu.checkDataTypes(u,o,a.opts.strictNumbers,eu.DataType.Wrong),l=e.const("indices",Zh._`{}`);e.for(Zh._`;${i}--;`,()=>{e.let(o,Zh._`${r}[${i}]`),e.if(s,Zh._`continue`),u.length>1&&e.if(Zh._`typeof ${o} == "string"`,Zh._`${o} += "_"`),e.if(Zh._`typeof ${l}[${o}] == "number"`,()=>{e.assign(n,Zh._`${l}[${o}]`),t.error(),e.assign(h,!1).break()}).code(Zh._`${l}[${o}] = ${i}`)})}function f(i,n){const o=Hh.useFunc(e,Ku.default),s=e.name("outer");e.label(s).for(Zh._`;${i}--;`,()=>e.for(Zh._`${n} = ${i}; ${n}--;`,()=>e.if(Zh._`${o}(${r}[${i}], ${r}[${n}])`,()=>{t.error(),e.assign(h,!1).break(s)})))}t.block$data(h,(function(){const i=e.let("i",Zh._`${r}.length`),n=e.let("j");t.setParams({i:i,j:n}),e.assign(h,!0),e.if(Zh._`${i} > 1`,()=>(u.length>0&&!u.some(t=>"object"===t||"array"===t)?l:f)(i,n))}),Zh._`${s} === false`),t.ok(h)}},Hu=Object.defineProperty({default:Zu},"__esModule",{value:!0});var Wu={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:t})=>Zh._`{allowedValue: ${t}}`},code(t){const{gen:e,data:r,$data:i,schemaCode:n,schema:o}=t;i||o&&"object"==typeof o?t.fail$data(Zh._`!${Hh.useFunc(e,Ku.default)}(${r}, ${n})`):t.fail(Zh._`${o} !== ${r}`)}},Ju=Object.defineProperty({default:Wu},"__esModule",{value:!0});var Xu={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:t})=>Zh._`{allowedValues: ${t}}`},code(t){const{gen:e,data:r,$data:i,schema:n,schemaCode:o,it:s}=t;if(!i&&0===n.length)throw new Error("enum must have non-empty array");const a=n.length>=s.opts.loopEnum,h=Hh.useFunc(e,Ku.default);let u;if(a||i)u=e.let("valid"),t.block$data(u,(function(){e.assign(u,!1),e.forOf("v",o,t=>e.if(Zh._`${h}(${r}, ${t})`,()=>e.assign(u,!0).break()))}));else{if(!Array.isArray(n))throw new Error("ajv implementation error");const t=e.const("vSchema",o);u=Zh.or(...n.map((e,i)=>function(t,e){const i=n[e];return"object"==typeof i&&null!==i?Zh._`${h}(${r}, ${t}[${e}])`:Zh._`${r} === ${i}`}(t,i)))}t.pass(u)}},Yu=Object.defineProperty({default:Xu},"__esModule",{value:!0});var Qu=[xu.default,Ou.default,Fu.default,Du.default,$u.default,zu.default,Gu.default,Hu.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Ju.default,Yu.default],tl=Object.defineProperty({default:Qu},"__esModule",{value:!0}),el=a((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateAdditionalItems=void 0;const r={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:t}})=>Zh.str`must NOT have more than ${t} items`,params:({params:{len:t}})=>Zh._`{limit: ${t}}`},code(t){const{parentSchema:e,it:r}=t,{items:n}=e;Array.isArray(n)?i(t,n):Hh.checkStrictMode(r,'"additionalItems" is ignored when "items" is not an array of schemas')}};function i(t,e){const{gen:r,schema:i,data:n,keyword:o,it:s}=t;s.items=!0;const a=r.const("len",Zh._`${n}.length`);if(!1===i)t.setParams({len:e.length}),t.pass(Zh._`${a} <= ${e.length}`);else if("object"==typeof i&&!Hh.alwaysValidSchema(s,i)){const i=r.var("valid",Zh._`${a} <= ${e.length}`);r.if(Zh.not(i),()=>function(i){r.forRange("i",e.length,a,e=>{t.subschema({keyword:o,dataProp:e,dataPropType:Hh.Type.Num},i),s.allErrors||r.if(Zh.not(i),()=>r.break())})}(i)),t.ok(i)}}e.validateAdditionalItems=i,e.default=r})),rl=a((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateTuple=void 0;const r={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){const{schema:e,it:r}=t;if(Array.isArray(e))return i(t,"additionalItems",e);r.items=!0,Hh.alwaysValidSchema(r,e)||t.ok(iu.validateArray(t))}};function i(t,e,r=t.schema){const{gen:i,parentSchema:n,data:o,keyword:s,it:a}=t;!function(t){const{opts:i,errSchemaPath:n}=a,o=r.length,h=o===t.minItems&&(o===t.maxItems||!1===t[e]);if(i.strictTuples&&!h){const t=`"${s}" is ${o}-tuple, but minItems or maxItems/${e} are not specified or different at path "${n}"`;Hh.checkStrictMode(a,t,i.strictTuples)}}(n),a.opts.unevaluated&&r.length&&!0!==a.items&&(a.items=Hh.mergeEvaluated.items(i,r.length,a.items));const h=i.name("valid"),u=i.const("len",Zh._`${o}.length`);r.forEach((e,r)=>{Hh.alwaysValidSchema(a,e)||(i.if(Zh._`${u} > ${r}`,()=>t.subschema({keyword:s,schemaProp:r,dataProp:r},h)),t.ok(h))})}e.validateTuple=i,e.default=r}));var il={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>rl.validateTuple(t,"items")},nl=Object.defineProperty({default:il},"__esModule",{value:!0});var ol={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:t}})=>Zh.str`must NOT have more than ${t} items`,params:({params:{len:t}})=>Zh._`{limit: ${t}}`},code(t){const{schema:e,parentSchema:r,it:i}=t,{prefixItems:n}=r;i.items=!0,Hh.alwaysValidSchema(i,e)||(n?el.validateAdditionalItems(t,n):t.ok(iu.validateArray(t)))}},sl=Object.defineProperty({default:ol},"__esModule",{value:!0});var al={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:t,max:e}})=>void 0===e?Zh.str`must contain at least ${t} valid item(s)`:Zh.str`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>void 0===e?Zh._`{minContains: ${t}}`:Zh._`{minContains: ${t}, maxContains: ${e}}`},code(t){const{gen:e,schema:r,parentSchema:i,data:n,it:o}=t;let s,a;const{minContains:h,maxContains:u}=i;o.opts.next?(s=void 0===h?1:h,a=u):s=1;const l=e.const("len",Zh._`${n}.length`);if(t.setParams({min:s,max:a}),void 0===a&&0===s)return void Hh.checkStrictMode(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==a&&s>a)return Hh.checkStrictMode(o,'"minContains" > "maxContains" is always invalid'),void t.fail();if(Hh.alwaysValidSchema(o,r)){let e=Zh._`${l} >= ${s}`;return void 0!==a&&(e=Zh._`${e} && ${l} <= ${a}`),void t.pass(e)}o.items=!0;const f=e.name("valid");if(void 0===a&&1===s)c(f,()=>e.if(f,()=>e.break()));else{e.let(f,!1);const t=e.name("_valid"),r=e.let("count",0);c(t,()=>e.if(t,()=>function(t){e.code(Zh._`${t}++`),void 0===a?e.if(Zh._`${t} >= ${s}`,()=>e.assign(f,!0).break()):(e.if(Zh._`${t} > ${a}`,()=>e.assign(f,!1).break()),1===s?e.assign(f,!0):e.if(Zh._`${t} >= ${s}`,()=>e.assign(f,!0)))}(r)))}function c(r,i){e.forRange("i",0,l,e=>{t.subschema({keyword:"contains",dataProp:e,dataPropType:Hh.Type.Num,compositeRule:!0},r),i()})}t.result(f,()=>t.reset())}},hl=Object.defineProperty({default:al},"__esModule",{value:!0}),ul=a((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0,e.error={message:({params:{property:t,depsCount:e,deps:r}})=>{const i=1===e?"property":"properties";return Zh.str`must have ${i} ${r} when property ${t} is present`},params:({params:{property:t,depsCount:e,deps:r,missingProperty:i}})=>Zh._`{property: ${t},
    missingProperty: ${i},
    depsCount: ${e},
    deps: ${r}}`};const r={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(t){const[e,r]=function({schema:t}){const e={},r={};for(const i in t){if("__proto__"===i)continue;(Array.isArray(t[i])?e:r)[i]=t[i]}return[e,r]}(t);i(t,e),n(t,r)}};function i(t,e=t.schema){const{gen:r,data:i,it:n}=t;if(0===Object.keys(e).length)return;const o=r.let("missing");for(const s in e){const a=e[s];if(0===a.length)continue;const h=iu.propertyInData(r,i,s,n.opts.ownProperties);t.setParams({property:s,depsCount:a.length,deps:a.join(", ")}),n.allErrors?r.if(h,()=>{for(const e of a)iu.checkReportMissingProp(t,e)}):(r.if(Zh._`${h} && (${iu.checkMissingProp(t,a,o)})`),iu.reportMissingProp(t,o),r.else())}}function n(t,e=t.schema){const{gen:r,data:i,keyword:n,it:o}=t,s=r.name("valid");for(const a in e)Hh.alwaysValidSchema(o,e[a])||(r.if(iu.propertyInData(r,i,a,o.opts.ownProperties),()=>{const e=t.subschema({keyword:n,schemaProp:a},s);t.mergeValidEvaluated(e,s)},()=>r.var(s,!0)),t.ok(s))}e.validatePropertyDeps=i,e.validateSchemaDeps=n,e.default=r}));var ll={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:t})=>Zh._`{propertyName: ${t.propertyName}}`},code(t){const{gen:e,schema:r,data:i,it:n}=t;if(Hh.alwaysValidSchema(n,r))return;const o=e.name("valid");e.forIn("key",i,r=>{t.setParams({propertyName:r}),t.subschema({keyword:"propertyNames",data:r,dataTypes:["string"],propertyName:r,compositeRule:!0},o),e.if(Zh.not(o),()=>{t.error(!0),n.allErrors||e.break()})}),t.ok(o)}},fl=Object.defineProperty({default:ll},"__esModule",{value:!0});var cl={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:t})=>Zh._`{additionalProperty: ${t.additionalProperty}}`},code(t){const{gen:e,schema:r,parentSchema:i,data:n,errsCount:o,it:s}=t;if(!o)throw new Error("ajv implementation error");const{allErrors:a,opts:h}=s;if(s.props=!0,"all"!==h.removeAdditional&&Hh.alwaysValidSchema(s,r))return;const u=iu.allSchemaProperties(i.properties),l=iu.allSchemaProperties(i.patternProperties);function f(t){e.code(Zh._`delete ${n}[${t}]`)}function c(i){if("all"===h.removeAdditional||h.removeAdditional&&!1===r)f(i);else{if(!1===r)return t.setParams({additionalProperty:i}),t.error(),void(a||e.break());if("object"==typeof r&&!Hh.alwaysValidSchema(s,r)){const r=e.name("valid");"failing"===h.removeAdditional?(d(i,r,!1),e.if(Zh.not(r),()=>{t.reset(),f(i)})):(d(i,r),a||e.if(Zh.not(r),()=>e.break()))}}}function d(e,r,i){const n={keyword:"additionalProperties",dataProp:e,dataPropType:Hh.Type.Str};!1===i&&Object.assign(n,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(n,r)}e.forIn("key",n,r=>{u.length||l.length?e.if(function(r){let n;if(u.length>8){const t=Hh.schemaRefOrVal(s,i.properties,"properties");n=iu.isOwnProperty(e,t,r)}else n=u.length?Zh.or(...u.map(t=>Zh._`${r} === ${t}`)):Zh.nil;return l.length&&(n=Zh.or(n,...l.map(e=>Zh._`${iu.usePattern(t,e)}.test(${r})`))),Zh.not(n)}(r),()=>c(r)):c(r)}),t.ok(Zh._`${o} === ${Jh.default.errors}`)}},dl=Object.defineProperty({default:cl},"__esModule",{value:!0});var ml={keyword:"properties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,parentSchema:i,data:n,it:o}=t;"all"===o.opts.removeAdditional&&void 0===i.additionalProperties&&dl.default.code(new lu.KeywordCxt(o,dl.default,"additionalProperties"));const s=iu.allSchemaProperties(r);for(const t of s)o.definedProperties.add(t);o.opts.unevaluated&&s.length&&!0!==o.props&&(o.props=Hh.mergeEvaluated.props(e,Hh.toHash(s),o.props));const a=s.filter(t=>!Hh.alwaysValidSchema(o,r[t]));if(0===a.length)return;const h=e.name("valid");for(const r of a)u(r)?l(r):(e.if(iu.propertyInData(e,n,r,o.opts.ownProperties)),l(r),o.allErrors||e.else().var(h,!0),e.endIf()),t.it.definedProperties.add(r),t.ok(h);function u(t){return o.opts.useDefaults&&!o.compositeRule&&void 0!==r[t].default}function l(e){t.subschema({keyword:"properties",schemaProp:e,dataProp:e},h)}}},pl=Object.defineProperty({default:ml},"__esModule",{value:!0});const gl=Hh;var vl={keyword:"patternProperties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,data:i,parentSchema:n,it:o}=t,{opts:s}=o,a=iu.allSchemaProperties(r),h=a.filter(t=>Hh.alwaysValidSchema(o,r[t]));if(0===a.length||h.length===a.length&&(!o.opts.unevaluated||!0===o.props))return;const u=s.strictSchema&&!s.allowMatchingProperties&&n.properties,l=e.name("valid");!0===o.props||o.props instanceof Zh.Name||(o.props=gl.evaluatedPropsToName(e,o.props));const{props:f}=o;function c(t){for(const e in u)new RegExp(t).test(e)&&Hh.checkStrictMode(o,`property ${e} matches pattern ${t} (use allowMatchingProperties)`)}function d(r){e.forIn("key",i,i=>{e.if(Zh._`${iu.usePattern(t,r)}.test(${i})`,()=>{const n=h.includes(r);n||t.subschema({keyword:"patternProperties",schemaProp:r,dataProp:i,dataPropType:gl.Type.Str},l),o.opts.unevaluated&&!0!==f?e.assign(Zh._`${f}[${i}]`,!0):n||o.allErrors||e.if(Zh.not(l),()=>e.break())})})}!function(){for(const t of a)u&&c(t),o.allErrors?d(t):(e.var(l,!0),d(t),e.if(l))}()}},yl=Object.defineProperty({default:vl},"__esModule",{value:!0});var wl={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){const{gen:e,schema:r,it:i}=t;if(Hh.alwaysValidSchema(i,r))return void t.fail();const n=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},n),t.result(n,()=>t.error(),()=>t.reset())},error:{message:"must NOT be valid"}},bl=Object.defineProperty({default:wl},"__esModule",{value:!0});var Ml={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:iu.validateUnion,error:{message:"must match a schema in anyOf"}},El=Object.defineProperty({default:Ml},"__esModule",{value:!0});var _l={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:t})=>Zh._`{passingSchemas: ${t.passing}}`},code(t){const{gen:e,schema:r,parentSchema:i,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(n.opts.discriminator&&i.discriminator)return;const o=r,s=e.let("valid",!1),a=e.let("passing",null),h=e.name("_valid");t.setParams({passing:a}),e.block((function(){o.forEach((r,i)=>{let o;Hh.alwaysValidSchema(n,r)?e.var(h,!0):o=t.subschema({keyword:"oneOf",schemaProp:i,compositeRule:!0},h),i>0&&e.if(Zh._`${h} && ${s}`).assign(s,!1).assign(a,Zh._`[${a}, ${i}]`).else(),e.if(h,()=>{e.assign(s,!0),e.assign(a,i),o&&t.mergeEvaluated(o,Zh.Name)})})})),t.result(s,()=>t.reset(),()=>t.error(!0))}},Nl=Object.defineProperty({default:_l},"__esModule",{value:!0});var Al={keyword:"allOf",schemaType:"array",code(t){const{gen:e,schema:r,it:i}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");const n=e.name("valid");r.forEach((e,r)=>{if(Hh.alwaysValidSchema(i,e))return;const o=t.subschema({keyword:"allOf",schemaProp:r},n);t.ok(n),t.mergeEvaluated(o)})}},Sl=Object.defineProperty({default:Al},"__esModule",{value:!0});function Rl(t,e){const r=t.schema[e];return void 0!==r&&!Hh.alwaysValidSchema(t,r)}var Il={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:t})=>Zh.str`must match "${t.ifClause}" schema`,params:({params:t})=>Zh._`{failingKeyword: ${t.ifClause}}`},code(t){const{gen:e,parentSchema:r,it:i}=t;void 0===r.then&&void 0===r.else&&Hh.checkStrictMode(i,'"if" without "then" and "else" is ignored');const n=Rl(i,"then"),o=Rl(i,"else");if(!n&&!o)return;const s=e.let("valid",!0),a=e.name("_valid");if(function(){const e=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);t.mergeEvaluated(e)}(),t.reset(),n&&o){const r=e.let("ifClause");t.setParams({ifClause:r}),e.if(a,h("then",r),h("else",r))}else n?e.if(a,h("then")):e.if(Zh.not(a),h("else"));function h(r,i){return()=>{const n=t.subschema({keyword:r},a);e.assign(s,a),t.mergeValidEvaluated(n,s),i?e.assign(i,Zh._`${r}`):t.setParams({ifClause:r})}}t.pass(s,()=>t.error(!0))}},xl=Object.defineProperty({default:Il},"__esModule",{value:!0});var kl={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){void 0===e.if&&Hh.checkStrictMode(r,`"${t}" without "if" is ignored`)}},Ol=Object.defineProperty({default:kl},"__esModule",{value:!0});var Tl=function(t=!1){const e=[bl.default,El.default,Nl.default,Sl.default,xl.default,Ol.default,fl.default,dl.default,ul.default,pl.default,yl.default];return t?e.push(nl.default,sl.default):e.push(el.default,rl.default),e.push(hl.default),e},Pl=Object.defineProperty({default:Tl},"__esModule",{value:!0});var Cl={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:t})=>Zh.str`must match format "${t}"`,params:({schemaCode:t})=>Zh._`{format: ${t}}`},code(t,e){const{gen:r,data:i,$data:n,schema:o,schemaCode:s,it:a}=t,{opts:h,errSchemaPath:u,schemaEnv:l,self:f}=a;h.validateFormats&&(n?function(){const n=r.scopeValue("formats",{ref:f.formats,code:h.code.formats}),o=r.const("fDef",Zh._`${n}[${s}]`),a=r.let("fType"),u=r.let("format");r.if(Zh._`typeof ${o} == "object" && !(${o} instanceof RegExp)`,()=>r.assign(a,Zh._`${o}.type || "string"`).assign(u,Zh._`${o}.validate`),()=>r.assign(a,Zh._`"string"`).assign(u,o)),t.fail$data(Zh.or(!1===h.strictSchema?Zh.nil:Zh._`${s} && !${u}`,function(){const t=l.$async?Zh._`(${o}.async ? await ${u}(${i}) : ${u}(${i}))`:Zh._`${u}(${i})`,r=Zh._`(typeof ${u} == "function" ? ${t} : ${u}.test(${i}))`;return Zh._`${u} && ${u} !== true && ${a} === ${e} && !${r}`}()))}():function(){const n=f.formats[o];if(!n)return void function(){if(!1===h.strictSchema)return void f.logger.warn(t());throw new Error(t());function t(){return`unknown format "${o}" ignored in schema at path "${u}"`}}();if(!0===n)return;const[s,a,c]=function(t){const e=t instanceof RegExp?Zh.regexpCode(t):h.code.formats?Zh._`${h.code.formats}${Zh.getProperty(o)}`:void 0,i=r.scopeValue("formats",{key:o,ref:t,code:e});if("object"==typeof t&&!(t instanceof RegExp))return[t.type||"string",t.validate,Zh._`${i}.validate`];return["string",t,i]}(n);s===e&&t.pass(function(){if("object"==typeof n&&!(n instanceof RegExp)&&n.async){if(!l.$async)throw new Error("async format in sync schema");return Zh._`await ${c}(${i})`}return"function"==typeof a?Zh._`${c}(${i})`:Zh._`${c}.test(${i})`}())}())}};var Ul=[Object.defineProperty({default:Cl},"__esModule",{value:!0}).default],Fl=Object.defineProperty({default:Ul},"__esModule",{value:!0}),Bl=a((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.contentVocabulary=e.metadataVocabulary=void 0,e.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],e.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}));var Dl=[Nu.default,tl.default,Pl.default(),Fl.default,Bl.metadataVocabulary,Bl.contentVocabulary],Ll=Object.defineProperty({default:Dl},"__esModule",{value:!0}),$l=a((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))}));var jl={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:t,tagName:e}})=>t===$l.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>Zh._`{error: ${t}, tag: ${r}, tagValue: ${e}}`},code(t){const{gen:e,data:r,schema:i,parentSchema:n,it:o}=t,{oneOf:s}=n;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=i.propertyName;if("string"!=typeof a)throw new Error("discriminator: requires propertyName");if(i.mapping)throw new Error("discriminator: mapping is not supported");if(!s)throw new Error("discriminator: requires oneOf keyword");const h=e.let("valid",!1),u=e.const("tag",Zh._`${r}${Zh.getProperty(a)}`);function l(r){const i=e.name("valid"),n=t.subschema({keyword:"oneOf",schemaProp:r},i);return t.mergeEvaluated(n,Zh.Name),i}e.if(Zh._`typeof ${u} == "string"`,()=>function(){const r=function(){var t;const e={},r=o(n);let i=!0;for(let e=0;e<s.length;e++){const n=s[e],u=null===(t=n.properties)||void 0===t?void 0:t[a];if("object"!=typeof u)throw new Error(`discriminator: oneOf schemas must have "properties/${a}"`);i=i&&(r||o(n)),h(u,e)}if(!i)throw new Error(`discriminator: "${a}" must be required`);return e;function o({required:t}){return Array.isArray(t)&&t.includes(a)}function h(t,e){if(t.const)u(t.const,e);else{if(!t.enum)throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`);for(const r of t.enum)u(r,e)}}function u(t,r){if("string"!=typeof t||t in e)throw new Error(`discriminator: "${a}" values must be unique strings`);e[t]=r}}();e.if(!1);for(const t in r)e.elseIf(Zh._`${u} === ${t}`),e.assign(h,l(r[t]));e.else(),t.error(!1,{discrError:$l.DiscrError.Mapping,tag:u,tagName:a}),e.endIf()}(),()=>t.error(!1,{discrError:$l.DiscrError.Tag,tag:u,tagName:a})),t.ok(h)}},zl=Object.defineProperty({default:jl},"__esModule",{value:!0}),ql={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0},Gl=a((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;const r=["/properties"],i="http://json-schema.org/draft-07/schema";class n extends wu.default{_addVocabularies(){super._addVocabularies(),Ll.default.forEach(t=>this.addVocabulary(t)),this.opts.discriminator&&this.addKeyword(zl.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const t=this.opts.$data?this.$dataMetaSchema(ql,r):ql;this.addMetaSchema(t,i,!1),this.refs["http://json-schema.org/schema"]=i}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}t.exports=e=n,Object.defineProperty(e,"__esModule",{value:!0}),e.default=n,Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return lu.KeywordCxt}}),Object.defineProperty(e,"_",{enumerable:!0,get:function(){return Zh._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return Zh.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return Zh.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return Zh.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return Zh.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return Zh.CodeGen}})})),Vl=o(Gl),Kl=a((function(t,e){function r(t,e){return{validate:t,compare:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0,e.fullFormats={date:r(o,s),time:r(h,u),"date-time":r((function(t){const e=t.split(l);return 2===e.length&&o(e[0])&&h(e[1],!0)}),f),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:function(t){return c.test(t)&&d.test(t)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:function(t){if(p.test(t))return!1;try{return new RegExp(t),!0}catch(t){return!1}},uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm,int32:{type:"number",validate:function(t){return Number.isInteger(t)&&t<=2147483647&&t>=-2147483648}},int64:{type:"number",validate:function(t){return Number.isInteger(t)}},float:{type:"number",validate:m},double:{type:"number",validate:m},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:r(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,s),time:r(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"date-time":r(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,f),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);const i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,n=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(t){const e=i.exec(t);if(!e)return!1;const r=+e[1],o=+e[2],s=+e[3];return o>=1&&o<=12&&s>=1&&s<=(2===o&&function(t){return t%4==0&&(t%100!=0||t%400==0)}(r)?29:n[o])}function s(t,e){if(t&&e)return t>e?1:t<e?-1:0}const a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function h(t,e){const r=a.exec(t);if(!r)return!1;const i=+r[1],n=+r[2],o=+r[3],s=r[5];return(i<=23&&n<=59&&o<=59||23===i&&59===n&&60===o)&&(!e||""!==s)}function u(t,e){if(!t||!e)return;const r=a.exec(t),i=a.exec(e);return r&&i?(t=r[1]+r[2]+r[3]+(r[4]||""))>(e=i[1]+i[2]+i[3]+(i[4]||""))?1:t<e?-1:0:void 0}const l=/t|\s/i;function f(t,e){if(!t||!e)return;const[r,i]=t.split(l),[n,o]=e.split(l),a=s(r,n);return void 0!==a?a||u(i,o):void 0}const c=/\/|:/,d=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function m(){return!0}const p=/[^\\]\\Z/})),Zl=a((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const r=Zh.operators,i={formatMaximum:{okStr:"<=",ok:r.LTE,fail:r.GT},formatMinimum:{okStr:">=",ok:r.GTE,fail:r.LT},formatExclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},formatExclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},n={message:({keyword:t,schemaCode:e})=>Zh.str`should be ${i[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>Zh._`{comparison: ${i[t].okStr}, limit: ${e}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:n,code(t){const{gen:e,data:r,schemaCode:n,keyword:o,it:s}=t,{opts:a,self:h}=s;if(!a.validateFormats)return;const u=new Gl.KeywordCxt(s,h.RULES.all.format.definition,"format");function l(t){return Zh._`${t}.compare(${r}, ${n}) ${i[o].fail} 0`}u.$data?function(){const r=e.scopeValue("formats",{ref:h.formats,code:a.code.formats}),i=e.const("fmt",Zh._`${r}[${u.schemaCode}]`);t.fail$data(Zh.or(Zh._`typeof ${i} != "object"`,Zh._`${i} instanceof RegExp`,Zh._`typeof ${i}.compare != "function"`,l(i)))}():function(){const r=u.schema,i=h.formats[r];if(!i||!0===i)return;if("object"!=typeof i||i instanceof RegExp||"function"!=typeof i.compare)throw new Error(`"${o}": format "${r}" does not define "compare" function`);const n=e.scopeValue("formats",{key:r,ref:i,code:a.code.formats?Zh._`${a.code.formats}${Zh.getProperty(r)}`:void 0});t.fail$data(l(n))}()},dependencies:["format"]};e.default=t=>(t.addKeyword(e.formatLimitDefinition),t)})),Hl=o(a((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const r=new Zh.Name("fullFormats"),i=new Zh.Name("fastFormats"),n=(t,e={keywords:!0})=>{if(Array.isArray(e))return o(t,e,Kl.fullFormats,r),t;const[n,s]="fast"===e.mode?[Kl.fastFormats,i]:[Kl.fullFormats,r];return o(t,e.formats||Kl.formatNames,n,s),e.keywords&&Zl.default(t),t};function o(t,e,r,i){var n,o;null!==(n=(o=t.opts.code).formats)&&void 0!==n||(o.formats=Zh._`require("ajv-formats/dist/formats").${i}`);for(const i of e)t.addFormat(i,r[i])}n.get=(t,e="full")=>{const r=("fast"===e?Kl.fastFormats:Kl.fullFormats)[t];if(!r)throw new Error(`Unknown format "${t}"`);return r},t.exports=e=n,Object.defineProperty(e,"__esModule",{value:!0}),e.default=n}))),Wl="[object GeneratorFunction]",Jl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xl=/^\w*$/,Yl=/^\./,Ql=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tf=/\\(\\)?/g,ef=/^\[object .+?Constructor\]$/,rf=/^(?:0|[1-9]\d*)$/,nf="object"==typeof n&&n&&n.Object===Object&&n,of="object"==typeof self&&self&&self.Object===Object&&self,sf=nf||of||Function("return this")();var af,hf=Array.prototype,uf=Function.prototype,lf=Object.prototype,ff=sf["__core-js_shared__"],cf=(af=/[^.]+$/.exec(ff&&ff.keys&&ff.keys.IE_PROTO||""))?"Symbol(src)_1."+af:"",df=uf.toString,mf=lf.hasOwnProperty,pf=lf.toString,gf=RegExp("^"+df.call(mf).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vf=sf.Symbol,yf=hf.splice,wf=Of(sf,"Map"),bf=Of(Object,"create"),Mf=vf?vf.prototype:void 0,Ef=Mf?Mf.toString:void 0;function _f(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function Nf(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function Af(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function Sf(t,e,r){var i=t[e];mf.call(t,e)&&Ff(i,r)&&(void 0!==r||e in t)||(t[e]=r)}function Rf(t,e){for(var r=t.length;r--;)if(Ff(t[r][0],e))return r;return-1}function If(t){return!(!Df(t)||(e=t,cf&&cf in e))&&(function(t){var e=Df(t)?pf.call(t):"";return"[object Function]"==e||e==Wl}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?gf:ef).test(function(t){if(null!=t){try{return df.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e}function xf(t,e,r,i){if(!Df(t))return t;for(var n=-1,o=(e=function(t,e){if(Bf(t))return!1;var r=typeof t;if("number"==r||"symbol"==r||"boolean"==r||null==t||Lf(t))return!0;return Xl.test(t)||!Jl.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:function(t){return Bf(t)?t:Pf(t)}(e)).length,s=o-1,a=t;null!=a&&++n<o;){var h=Cf(e[n]),u=r;if(n!=s){var l=a[h];void 0===(u=i?i(l,h,a):void 0)&&(u=Df(l)?l:Tf(e[n+1])?[]:{})}Sf(a,h,u),a=a[h]}return t}function kf(t,e){var r=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map}function Of(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return If(r)?r:void 0}function Tf(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||rf.test(t))&&t>-1&&t%1==0&&t<e}_f.prototype.clear=function(){this.__data__=bf?bf(null):{}},_f.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},_f.prototype.get=function(t){var e=this.__data__;if(bf){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return mf.call(e,t)?e[t]:void 0},_f.prototype.has=function(t){var e=this.__data__;return bf?void 0!==e[t]:mf.call(e,t)},_f.prototype.set=function(t,e){return this.__data__[t]=bf&&void 0===e?"__lodash_hash_undefined__":e,this},Nf.prototype.clear=function(){this.__data__=[]},Nf.prototype.delete=function(t){var e=this.__data__,r=Rf(e,t);return!(r<0)&&(r==e.length-1?e.pop():yf.call(e,r,1),!0)},Nf.prototype.get=function(t){var e=this.__data__,r=Rf(e,t);return r<0?void 0:e[r][1]},Nf.prototype.has=function(t){return Rf(this.__data__,t)>-1},Nf.prototype.set=function(t,e){var r=this.__data__,i=Rf(r,t);return i<0?r.push([t,e]):r[i][1]=e,this},Af.prototype.clear=function(){this.__data__={hash:new _f,map:new(wf||Nf),string:new _f}},Af.prototype.delete=function(t){return kf(this,t).delete(t)},Af.prototype.get=function(t){return kf(this,t).get(t)},Af.prototype.has=function(t){return kf(this,t).has(t)},Af.prototype.set=function(t,e){return kf(this,t).set(t,e),this};var Pf=Uf((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(Lf(t))return Ef?Ef.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e);var r=[];return Yl.test(t)&&r.push(""),t.replace(Ql,(function(t,e,i,n){r.push(i?n.replace(tf,"$1"):e||t)})),r}));function Cf(t){if("string"==typeof t||Lf(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}function Uf(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var i=arguments,n=e?e.apply(this,i):i[0],o=r.cache;if(o.has(n))return o.get(n);var s=t.apply(this,i);return r.cache=o.set(n,s),s};return r.cache=new(Uf.Cache||Af),r}function Ff(t,e){return t===e||t!=t&&e!=e}Uf.Cache=Af;var Bf=Array.isArray;function Df(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Lf(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==pf.call(t)}var $f=function(t,e,r){return null==t?t:xf(t,e,r)},jf=function(){function t(t,e,r,i){this.options={},this.calls=[],this.paths=[],this.network=t,this.provider=e,this.abi=r,this.options=i||{}}return t.prototype.call=function(t,e,r,i){return this.calls.push([e,r,i]),this.paths.push(t),this},t.prototype.execute=function(t){return e(this,void 0,void 0,(function(){var e,i=this;return r(this,(function(r){switch(r.label){case 0:return e=t||{},[4,Ub(this.network,this.provider,this.abi,this.calls,this.options)];case 1:return r.sent().forEach((function(t,r){return $f(e,i.paths[r],t.length>1?t:t[0])})),this.calls=[],this.paths=[],[2,e]}}))}))},t}();let zf=!1,qf=!1;const Gf={debug:1,default:2,info:2,warning:3,error:4,off:5};let Vf=Gf.default,Kf=null;const Zf=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var Hf,Wf;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(Hf||(Hf={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(Wf||(Wf={}));class Jf{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Gf[r]&&this.throwArgumentError("invalid log level name","logLevel",t),Vf>Gf[r]||console.log.apply(console,e)}debug(...t){this._log(Jf.levels.DEBUG,t)}info(...t){this._log(Jf.levels.INFO,t)}warn(...t){this._log(Jf.levels.WARNING,t)}makeError(t,e,r){if(qf)return this.makeError("censored error",e,{});e||(e=Jf.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(t=>{try{i.push(t+"="+JSON.stringify(r[t]))}catch(e){i.push(t+"="+JSON.stringify(r[t].toString()))}}),i.push("code="+e),i.push("version="+this.version);const n=t;i.length&&(t+=" ("+i.join(", ")+")");const o=new Error(t);return o.reason=n,o.code=e,Object.keys(r).forEach((function(t){o[t]=r[t]})),o}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,Jf.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,i){t||this.throwError(e,r,i)}assertArgument(t,e,r,i){t||this.throwArgumentError(e,r,i)}checkNormalize(t){Zf&&this.throwError("platform missing String.prototype.normalize",Jf.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Zf})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,Jf.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,Jf.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,Jf.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,Jf.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",Jf.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",Jf.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",Jf.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Kf||(Kf=new Jf("logger/5.3.0")),Kf}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",Jf.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),zf){if(!t)return;this.globalLogger().throwError("error censorship permanent",Jf.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}qf=!!t,zf=!!e}static setLogLevel(t){const e=Gf[t.toLowerCase()];null!=e?Vf=e:Jf.globalLogger().warn("invalid log level - "+t)}static from(t){return new Jf(t)}}Jf.errors=Wf,Jf.levels=Hf;const Xf=new Jf("networks/5.3.1");function Yf(t){const e=function(e,r){null==r&&(r={});const i=[];if(e.InfuraProvider)try{i.push(new e.InfuraProvider(t,r.infura))}catch(t){}if(e.EtherscanProvider)try{i.push(new e.EtherscanProvider(t,r.etherscan))}catch(t){}if(e.AlchemyProvider)try{i.push(new e.AlchemyProvider(t,r.alchemy))}catch(t){}if(e.CloudflareProvider)try{i.push(new e.CloudflareProvider(t))}catch(t){}if(0===i.length)return null;if(e.FallbackProvider){let n=1;return null!=r.quorum?n=r.quorum:"homestead"===t&&(n=2),new e.FallbackProvider(i,n)}return i[0]};return e.renetwork=function(t){return Yf(t)},e}function Qf(t,e){const r=function(r,i){return r.JsonRpcProvider?new r.JsonRpcProvider(t,e):null};return r.renetwork=function(e){return Qf(t,e)},r}const tc={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Yf("homestead")},ec={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Yf("ropsten")},rc={chainId:63,name:"classicMordor",_defaultProvider:Qf("https://www.ethercluster.com/mordor","classicMordor")},ic={unspecified:{chainId:0,name:"unspecified"},homestead:tc,mainnet:tc,morden:{chainId:2,name:"morden"},ropsten:ec,testnet:ec,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Yf("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Yf("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Yf("goerli")},classic:{chainId:61,name:"classic",_defaultProvider:Qf("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:rc,classicTestnet:rc,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Qf("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic"},maticmum:{chainId:80001,name:"maticmum"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};let nc=!1,oc=!1;const sc={debug:1,default:2,info:2,warning:3,error:4,off:5};let ac=sc.default,hc=null;const uc=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var lc,fc;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(lc||(lc={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(fc||(fc={}));class cc{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==sc[r]&&this.throwArgumentError("invalid log level name","logLevel",t),ac>sc[r]||console.log.apply(console,e)}debug(...t){this._log(cc.levels.DEBUG,t)}info(...t){this._log(cc.levels.INFO,t)}warn(...t){this._log(cc.levels.WARNING,t)}makeError(t,e,r){if(oc)return this.makeError("censored error",e,{});e||(e=cc.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(t=>{try{i.push(t+"="+JSON.stringify(r[t]))}catch(e){i.push(t+"="+JSON.stringify(r[t].toString()))}}),i.push("code="+e),i.push("version="+this.version);const n=t;i.length&&(t+=" ("+i.join(", ")+")");const o=new Error(t);return o.reason=n,o.code=e,Object.keys(r).forEach((function(t){o[t]=r[t]})),o}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,cc.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,i){t||this.throwError(e,r,i)}assertArgument(t,e,r,i){t||this.throwArgumentError(e,r,i)}checkNormalize(t){uc&&this.throwError("platform missing String.prototype.normalize",cc.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:uc})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,cc.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,cc.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,cc.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,cc.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",cc.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",cc.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",cc.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return hc||(hc=new cc("logger/5.3.0")),hc}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",cc.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),nc){if(!t)return;this.globalLogger().throwError("error censorship permanent",cc.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}oc=!!t,nc=!!e}static setLogLevel(t){const e=sc[t.toLowerCase()];null!=e?ac=e:cc.globalLogger().warn("invalid log level - "+t)}static from(t){return new cc(t)}}cc.errors=fc,cc.levels=lc;const dc=new cc("bytes/5.3.0");function mc(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return mc(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function pc(t,e){if(e||(e={}),"number"==typeof t){dc.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),mc(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),function(t){return!!t.toHexString}(t)&&(t=t.toHexString()),function(t,e){if("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))return!1;if(e&&t.length!==2+2*e)return!1;return!0}(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0x0"+r.substring(2):"right"===e.hexPad?r+="0":dc.throwArgumentError("hex data is odd-length","value",t));const i=[];for(let t=0;t<r.length;t+=2)i.push(parseInt(r.substring(t,t+2),16));return mc(new Uint8Array(i))}return function(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(null==t.length)return!1;for(let e=0;e<t.length;e++){const r=t[e];if("number"!=typeof r||r<0||r>=256||r%1)return!1}return!0}(t)?mc(new Uint8Array(t)):dc.throwArgumentError("invalid arrayify value","value",t)}window&&window.__awaiter;new cc("properties/5.3.0");function gc(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}class vc{constructor(t){gc(this,"alphabet",t),gc(this,"base",t.length),gc(this,"_alphabetMap",{}),gc(this,"_leader",t.charAt(0));for(let e=0;e<t.length;e++)this._alphabetMap[t.charAt(e)]=e}encode(t){let e=pc(t);if(0===e.length)return"";let r=[0];for(let t=0;t<e.length;++t){let i=e[t];for(let t=0;t<r.length;++t)i+=r[t]<<8,r[t]=i%this.base,i=i/this.base|0;for(;i>0;)r.push(i%this.base),i=i/this.base|0}let i="";for(let t=0;0===e[t]&&t<e.length-1;++t)i+=this._leader;for(let t=r.length-1;t>=0;--t)i+=this.alphabet[r[t]];return i}decode(t){if("string"!=typeof t)throw new TypeError("Expected String");let e=[];if(0===t.length)return new Uint8Array(e);e.push(0);for(let r=0;r<t.length;r++){let i=this._alphabetMap[t[r]];if(void 0===i)throw new Error("Non-base"+this.base+" character");let n=i;for(let t=0;t<e.length;++t)n+=e[t]*this.base,e[t]=255&n,n>>=8;for(;n>0;)e.push(255&n),n>>=8}for(let r=0;t[r]===this._leader&&r<t.length-1;++r)e.push(0);return pc(new Uint8Array(e.reverse()))}}new vc("abcdefghijklmnopqrstuvwxyz234567");const yc=new vc("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var wc=a((function(t){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function n(t,e,r){if(n.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:Ot.Buffer}catch(t){}function s(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function a(t,e,r){var i=s(t,r);return r-1>=e&&(i|=s(t,r-1)<<4),i}function h(t,e,r,i){for(var n=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;n*=i,n+=a>=49?a-49+10:a>=17?a-17+10:a}return n}n.isBN=function(t){return t instanceof n||null!==t&&"object"==typeof t&&t.constructor.wordSize===n.wordSize&&Array.isArray(t.words)},n.max=function(t,e){return t.cmp(e)>0?t:e},n.min=function(t,e){return t.cmp(e)<0?t:e},n.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<t.length&&(16===e?this._parseHex(t,n,i):(this._parseBase(t,e,n),"le"===i&&this._initArray(this.toArray(),e,i)))},n.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},n.prototype._initArray=function(t,e,i){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,s,a=0;if("be"===i)for(n=t.length-1,o=0;n>=0;n-=3)s=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===i)for(n=0,o=0;n<t.length;n+=3)s=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},n.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,o=0,s=0;if("be"===r)for(i=t.length-1;i>=e;i-=2)n=a(t,e,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)n=a(t,e,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;this.strip()},n.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0;for(var o=t.length-r,s=o%i,a=Math.min(o,o-s)+r,u=0,l=r;l<a;l+=i)u=h(t,l,l+i,e),this.imuln(n),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var f=1;for(u=h(t,l,t.length,e),l=0;l<s;l++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},n.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},n.prototype.clone=function(){var t=new n(null);return this.copy(t),t},n.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function c(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],o=0|e.words[0],s=n*o,a=67108863&s,h=s/67108864|0;r.words[0]=a;for(var u=1;u<i;u++){for(var l=h>>>26,f=67108863&h,c=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=c;d++){var m=u-d|0;l+=(s=(n=0|t.words[m])*(o=0|e.words[d])+f)/67108864|0,f=67108863&s}r.words[u]=0|f,h=0|l}return 0!==h?r.words[u]=0|h:r.length--,r.strip()}n.prototype.toString=function(t,e){var i;if(e=0|e||1,16===(t=t||10)||"hex"===t){i="";for(var n=0,o=0,s=0;s<this.length;s++){var a=this.words[s],h=(16777215&(a<<n|o)).toString(16);i=0!==(o=a>>>24-n&16777215)||s!==this.length-1?u[6-h.length]+h+i:h+i,(n+=2)>=26&&(n-=26,s--)}for(0!==o&&(i=o.toString(16)+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var c=l[t],d=f[t];i="";var m=this.clone();for(m.negative=0;!m.isZero();){var p=m.modn(d).toString(t);i=(m=m.idivn(d)).isZero()?p+i:u[c-p.length]+p+i}for(this.isZero()&&(i="0"+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(t,e){return r(void 0!==o),this.toArrayLike(o,t,e)},n.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},n.prototype.toArrayLike=function(t,e,i){var n=this.byteLength(),o=i||Math.max(1,n);r(n<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,h="le"===e,u=new t(o),l=this.clone();if(h){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-n;a++)u[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[o-a-1]=s}return u},Math.clz32?n.prototype._countBits=function(t){return 32-Math.clz32(t)}:n.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},n.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},n.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},n.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},n.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},n.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},n.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},n.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},n.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},n.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},n.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},n.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},n.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},n.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},n.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},n.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this.strip()},n.prototype.notn=function(t){return this.clone().inotn(t)},n.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var i=t/26|0,n=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<n:this.words[i]&~(1<<n),this.strip()},n.prototype.iadd=function(t){var e,r,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this);for(var n=0,o=0;o<i.length;o++)e=(0|r.words[o])+(0|i.words[o])+n,this.words[o]=67108863&e,n=e>>>26;for(;0!==n&&o<r.length;o++)e=(0|r.words[o])+n,this.words[o]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},n.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},n.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,i,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=t):(r=t,i=this);for(var o=0,s=0;s<i.length;s++)o=(e=(0|r.words[s])-(0|i.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,r){var i,n,o,s=t.words,a=e.words,h=r.words,u=0,l=0|s[0],f=8191&l,c=l>>>13,d=0|s[1],m=8191&d,p=d>>>13,g=0|s[2],v=8191&g,y=g>>>13,w=0|s[3],b=8191&w,M=w>>>13,E=0|s[4],_=8191&E,N=E>>>13,A=0|s[5],S=8191&A,R=A>>>13,I=0|s[6],x=8191&I,k=I>>>13,O=0|s[7],T=8191&O,P=O>>>13,C=0|s[8],U=8191&C,F=C>>>13,B=0|s[9],D=8191&B,L=B>>>13,$=0|a[0],j=8191&$,z=$>>>13,q=0|a[1],G=8191&q,V=q>>>13,K=0|a[2],Z=8191&K,H=K>>>13,W=0|a[3],J=8191&W,X=W>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,it=et>>>13,nt=0|a[6],ot=8191&nt,st=nt>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ft=8191&lt,ct=lt>>>13,dt=0|a[9],mt=8191&dt,pt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(u+(i=Math.imul(f,j))|0)+((8191&(n=(n=Math.imul(f,z))+Math.imul(c,j)|0))<<13)|0;u=((o=Math.imul(c,z))+(n>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(m,j),n=(n=Math.imul(m,z))+Math.imul(p,j)|0,o=Math.imul(p,z);var vt=(u+(i=i+Math.imul(f,G)|0)|0)+((8191&(n=(n=n+Math.imul(f,V)|0)+Math.imul(c,G)|0))<<13)|0;u=((o=o+Math.imul(c,V)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(v,j),n=(n=Math.imul(v,z))+Math.imul(y,j)|0,o=Math.imul(y,z),i=i+Math.imul(m,G)|0,n=(n=n+Math.imul(m,V)|0)+Math.imul(p,G)|0,o=o+Math.imul(p,V)|0;var yt=(u+(i=i+Math.imul(f,Z)|0)|0)+((8191&(n=(n=n+Math.imul(f,H)|0)+Math.imul(c,Z)|0))<<13)|0;u=((o=o+Math.imul(c,H)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(b,j),n=(n=Math.imul(b,z))+Math.imul(M,j)|0,o=Math.imul(M,z),i=i+Math.imul(v,G)|0,n=(n=n+Math.imul(v,V)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,V)|0,i=i+Math.imul(m,Z)|0,n=(n=n+Math.imul(m,H)|0)+Math.imul(p,Z)|0,o=o+Math.imul(p,H)|0;var wt=(u+(i=i+Math.imul(f,J)|0)|0)+((8191&(n=(n=n+Math.imul(f,X)|0)+Math.imul(c,J)|0))<<13)|0;u=((o=o+Math.imul(c,X)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(_,j),n=(n=Math.imul(_,z))+Math.imul(N,j)|0,o=Math.imul(N,z),i=i+Math.imul(b,G)|0,n=(n=n+Math.imul(b,V)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,V)|0,i=i+Math.imul(v,Z)|0,n=(n=n+Math.imul(v,H)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,H)|0,i=i+Math.imul(m,J)|0,n=(n=n+Math.imul(m,X)|0)+Math.imul(p,J)|0,o=o+Math.imul(p,X)|0;var bt=(u+(i=i+Math.imul(f,Q)|0)|0)+((8191&(n=(n=n+Math.imul(f,tt)|0)+Math.imul(c,Q)|0))<<13)|0;u=((o=o+Math.imul(c,tt)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(S,j),n=(n=Math.imul(S,z))+Math.imul(R,j)|0,o=Math.imul(R,z),i=i+Math.imul(_,G)|0,n=(n=n+Math.imul(_,V)|0)+Math.imul(N,G)|0,o=o+Math.imul(N,V)|0,i=i+Math.imul(b,Z)|0,n=(n=n+Math.imul(b,H)|0)+Math.imul(M,Z)|0,o=o+Math.imul(M,H)|0,i=i+Math.imul(v,J)|0,n=(n=n+Math.imul(v,X)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,X)|0,i=i+Math.imul(m,Q)|0,n=(n=n+Math.imul(m,tt)|0)+Math.imul(p,Q)|0,o=o+Math.imul(p,tt)|0;var Mt=(u+(i=i+Math.imul(f,rt)|0)|0)+((8191&(n=(n=n+Math.imul(f,it)|0)+Math.imul(c,rt)|0))<<13)|0;u=((o=o+Math.imul(c,it)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(x,j),n=(n=Math.imul(x,z))+Math.imul(k,j)|0,o=Math.imul(k,z),i=i+Math.imul(S,G)|0,n=(n=n+Math.imul(S,V)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,V)|0,i=i+Math.imul(_,Z)|0,n=(n=n+Math.imul(_,H)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,H)|0,i=i+Math.imul(b,J)|0,n=(n=n+Math.imul(b,X)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,X)|0,i=i+Math.imul(v,Q)|0,n=(n=n+Math.imul(v,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,i=i+Math.imul(m,rt)|0,n=(n=n+Math.imul(m,it)|0)+Math.imul(p,rt)|0,o=o+Math.imul(p,it)|0;var Et=(u+(i=i+Math.imul(f,ot)|0)|0)+((8191&(n=(n=n+Math.imul(f,st)|0)+Math.imul(c,ot)|0))<<13)|0;u=((o=o+Math.imul(c,st)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(T,j),n=(n=Math.imul(T,z))+Math.imul(P,j)|0,o=Math.imul(P,z),i=i+Math.imul(x,G)|0,n=(n=n+Math.imul(x,V)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,V)|0,i=i+Math.imul(S,Z)|0,n=(n=n+Math.imul(S,H)|0)+Math.imul(R,Z)|0,o=o+Math.imul(R,H)|0,i=i+Math.imul(_,J)|0,n=(n=n+Math.imul(_,X)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,X)|0,i=i+Math.imul(b,Q)|0,n=(n=n+Math.imul(b,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,i=i+Math.imul(v,rt)|0,n=(n=n+Math.imul(v,it)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,it)|0,i=i+Math.imul(m,ot)|0,n=(n=n+Math.imul(m,st)|0)+Math.imul(p,ot)|0,o=o+Math.imul(p,st)|0;var _t=(u+(i=i+Math.imul(f,ht)|0)|0)+((8191&(n=(n=n+Math.imul(f,ut)|0)+Math.imul(c,ht)|0))<<13)|0;u=((o=o+Math.imul(c,ut)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(U,j),n=(n=Math.imul(U,z))+Math.imul(F,j)|0,o=Math.imul(F,z),i=i+Math.imul(T,G)|0,n=(n=n+Math.imul(T,V)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,V)|0,i=i+Math.imul(x,Z)|0,n=(n=n+Math.imul(x,H)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,H)|0,i=i+Math.imul(S,J)|0,n=(n=n+Math.imul(S,X)|0)+Math.imul(R,J)|0,o=o+Math.imul(R,X)|0,i=i+Math.imul(_,Q)|0,n=(n=n+Math.imul(_,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,i=i+Math.imul(b,rt)|0,n=(n=n+Math.imul(b,it)|0)+Math.imul(M,rt)|0,o=o+Math.imul(M,it)|0,i=i+Math.imul(v,ot)|0,n=(n=n+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,i=i+Math.imul(m,ht)|0,n=(n=n+Math.imul(m,ut)|0)+Math.imul(p,ht)|0,o=o+Math.imul(p,ut)|0;var Nt=(u+(i=i+Math.imul(f,ft)|0)|0)+((8191&(n=(n=n+Math.imul(f,ct)|0)+Math.imul(c,ft)|0))<<13)|0;u=((o=o+Math.imul(c,ct)|0)+(n>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,i=Math.imul(D,j),n=(n=Math.imul(D,z))+Math.imul(L,j)|0,o=Math.imul(L,z),i=i+Math.imul(U,G)|0,n=(n=n+Math.imul(U,V)|0)+Math.imul(F,G)|0,o=o+Math.imul(F,V)|0,i=i+Math.imul(T,Z)|0,n=(n=n+Math.imul(T,H)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,H)|0,i=i+Math.imul(x,J)|0,n=(n=n+Math.imul(x,X)|0)+Math.imul(k,J)|0,o=o+Math.imul(k,X)|0,i=i+Math.imul(S,Q)|0,n=(n=n+Math.imul(S,tt)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,tt)|0,i=i+Math.imul(_,rt)|0,n=(n=n+Math.imul(_,it)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,it)|0,i=i+Math.imul(b,ot)|0,n=(n=n+Math.imul(b,st)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,st)|0,i=i+Math.imul(v,ht)|0,n=(n=n+Math.imul(v,ut)|0)+Math.imul(y,ht)|0,o=o+Math.imul(y,ut)|0,i=i+Math.imul(m,ft)|0,n=(n=n+Math.imul(m,ct)|0)+Math.imul(p,ft)|0,o=o+Math.imul(p,ct)|0;var At=(u+(i=i+Math.imul(f,mt)|0)|0)+((8191&(n=(n=n+Math.imul(f,pt)|0)+Math.imul(c,mt)|0))<<13)|0;u=((o=o+Math.imul(c,pt)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(D,G),n=(n=Math.imul(D,V))+Math.imul(L,G)|0,o=Math.imul(L,V),i=i+Math.imul(U,Z)|0,n=(n=n+Math.imul(U,H)|0)+Math.imul(F,Z)|0,o=o+Math.imul(F,H)|0,i=i+Math.imul(T,J)|0,n=(n=n+Math.imul(T,X)|0)+Math.imul(P,J)|0,o=o+Math.imul(P,X)|0,i=i+Math.imul(x,Q)|0,n=(n=n+Math.imul(x,tt)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,tt)|0,i=i+Math.imul(S,rt)|0,n=(n=n+Math.imul(S,it)|0)+Math.imul(R,rt)|0,o=o+Math.imul(R,it)|0,i=i+Math.imul(_,ot)|0,n=(n=n+Math.imul(_,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,i=i+Math.imul(b,ht)|0,n=(n=n+Math.imul(b,ut)|0)+Math.imul(M,ht)|0,o=o+Math.imul(M,ut)|0,i=i+Math.imul(v,ft)|0,n=(n=n+Math.imul(v,ct)|0)+Math.imul(y,ft)|0,o=o+Math.imul(y,ct)|0;var St=(u+(i=i+Math.imul(m,mt)|0)|0)+((8191&(n=(n=n+Math.imul(m,pt)|0)+Math.imul(p,mt)|0))<<13)|0;u=((o=o+Math.imul(p,pt)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(D,Z),n=(n=Math.imul(D,H))+Math.imul(L,Z)|0,o=Math.imul(L,H),i=i+Math.imul(U,J)|0,n=(n=n+Math.imul(U,X)|0)+Math.imul(F,J)|0,o=o+Math.imul(F,X)|0,i=i+Math.imul(T,Q)|0,n=(n=n+Math.imul(T,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,i=i+Math.imul(x,rt)|0,n=(n=n+Math.imul(x,it)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,it)|0,i=i+Math.imul(S,ot)|0,n=(n=n+Math.imul(S,st)|0)+Math.imul(R,ot)|0,o=o+Math.imul(R,st)|0,i=i+Math.imul(_,ht)|0,n=(n=n+Math.imul(_,ut)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,ut)|0,i=i+Math.imul(b,ft)|0,n=(n=n+Math.imul(b,ct)|0)+Math.imul(M,ft)|0,o=o+Math.imul(M,ct)|0;var Rt=(u+(i=i+Math.imul(v,mt)|0)|0)+((8191&(n=(n=n+Math.imul(v,pt)|0)+Math.imul(y,mt)|0))<<13)|0;u=((o=o+Math.imul(y,pt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(D,J),n=(n=Math.imul(D,X))+Math.imul(L,J)|0,o=Math.imul(L,X),i=i+Math.imul(U,Q)|0,n=(n=n+Math.imul(U,tt)|0)+Math.imul(F,Q)|0,o=o+Math.imul(F,tt)|0,i=i+Math.imul(T,rt)|0,n=(n=n+Math.imul(T,it)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,it)|0,i=i+Math.imul(x,ot)|0,n=(n=n+Math.imul(x,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,i=i+Math.imul(S,ht)|0,n=(n=n+Math.imul(S,ut)|0)+Math.imul(R,ht)|0,o=o+Math.imul(R,ut)|0,i=i+Math.imul(_,ft)|0,n=(n=n+Math.imul(_,ct)|0)+Math.imul(N,ft)|0,o=o+Math.imul(N,ct)|0;var It=(u+(i=i+Math.imul(b,mt)|0)|0)+((8191&(n=(n=n+Math.imul(b,pt)|0)+Math.imul(M,mt)|0))<<13)|0;u=((o=o+Math.imul(M,pt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(D,Q),n=(n=Math.imul(D,tt))+Math.imul(L,Q)|0,o=Math.imul(L,tt),i=i+Math.imul(U,rt)|0,n=(n=n+Math.imul(U,it)|0)+Math.imul(F,rt)|0,o=o+Math.imul(F,it)|0,i=i+Math.imul(T,ot)|0,n=(n=n+Math.imul(T,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,i=i+Math.imul(x,ht)|0,n=(n=n+Math.imul(x,ut)|0)+Math.imul(k,ht)|0,o=o+Math.imul(k,ut)|0,i=i+Math.imul(S,ft)|0,n=(n=n+Math.imul(S,ct)|0)+Math.imul(R,ft)|0,o=o+Math.imul(R,ct)|0;var xt=(u+(i=i+Math.imul(_,mt)|0)|0)+((8191&(n=(n=n+Math.imul(_,pt)|0)+Math.imul(N,mt)|0))<<13)|0;u=((o=o+Math.imul(N,pt)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(D,rt),n=(n=Math.imul(D,it))+Math.imul(L,rt)|0,o=Math.imul(L,it),i=i+Math.imul(U,ot)|0,n=(n=n+Math.imul(U,st)|0)+Math.imul(F,ot)|0,o=o+Math.imul(F,st)|0,i=i+Math.imul(T,ht)|0,n=(n=n+Math.imul(T,ut)|0)+Math.imul(P,ht)|0,o=o+Math.imul(P,ut)|0,i=i+Math.imul(x,ft)|0,n=(n=n+Math.imul(x,ct)|0)+Math.imul(k,ft)|0,o=o+Math.imul(k,ct)|0;var kt=(u+(i=i+Math.imul(S,mt)|0)|0)+((8191&(n=(n=n+Math.imul(S,pt)|0)+Math.imul(R,mt)|0))<<13)|0;u=((o=o+Math.imul(R,pt)|0)+(n>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(D,ot),n=(n=Math.imul(D,st))+Math.imul(L,ot)|0,o=Math.imul(L,st),i=i+Math.imul(U,ht)|0,n=(n=n+Math.imul(U,ut)|0)+Math.imul(F,ht)|0,o=o+Math.imul(F,ut)|0,i=i+Math.imul(T,ft)|0,n=(n=n+Math.imul(T,ct)|0)+Math.imul(P,ft)|0,o=o+Math.imul(P,ct)|0;var Ot=(u+(i=i+Math.imul(x,mt)|0)|0)+((8191&(n=(n=n+Math.imul(x,pt)|0)+Math.imul(k,mt)|0))<<13)|0;u=((o=o+Math.imul(k,pt)|0)+(n>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,i=Math.imul(D,ht),n=(n=Math.imul(D,ut))+Math.imul(L,ht)|0,o=Math.imul(L,ut),i=i+Math.imul(U,ft)|0,n=(n=n+Math.imul(U,ct)|0)+Math.imul(F,ft)|0,o=o+Math.imul(F,ct)|0;var Tt=(u+(i=i+Math.imul(T,mt)|0)|0)+((8191&(n=(n=n+Math.imul(T,pt)|0)+Math.imul(P,mt)|0))<<13)|0;u=((o=o+Math.imul(P,pt)|0)+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(D,ft),n=(n=Math.imul(D,ct))+Math.imul(L,ft)|0,o=Math.imul(L,ct);var Pt=(u+(i=i+Math.imul(U,mt)|0)|0)+((8191&(n=(n=n+Math.imul(U,pt)|0)+Math.imul(F,mt)|0))<<13)|0;u=((o=o+Math.imul(F,pt)|0)+(n>>>13)|0)+(Pt>>>26)|0,Pt&=67108863;var Ct=(u+(i=Math.imul(D,mt))|0)+((8191&(n=(n=Math.imul(D,pt))+Math.imul(L,mt)|0))<<13)|0;return u=((o=Math.imul(L,pt))+(n>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,h[0]=gt,h[1]=vt,h[2]=yt,h[3]=wt,h[4]=bt,h[5]=Mt,h[6]=Et,h[7]=_t,h[8]=Nt,h[9]=At,h[10]=St,h[11]=Rt,h[12]=It,h[13]=xt,h[14]=kt,h[15]=Ot,h[16]=Tt,h[17]=Pt,h[18]=Ct,0!==u&&(h[19]=u,r.length++),r};function m(t,e,r){return(new p).mulp(t,e,r)}function p(t,e){this.x=t,this.y=e}Math.imul||(d=c),n.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?d(this,t,e):r<63?c(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,o=0;o<r.length-1;o++){var s=n;n=0;for(var a=67108863&i,h=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=h;u++){var l=o-u,f=(0|t.words[l])*(0|e.words[u]),c=67108863&f;a=67108863&(c=c+a|0),n+=(s=(s=s+(f/67108864|0)|0)+(c>>>26)|0)>>>26,s&=67108863}r.words[o]=a,i=s,s=n}return 0!==i?r.words[o]=i:r.length--,r.strip()}(this,t,e):m(this,t,e)},p.prototype.makeRBT=function(t){for(var e=new Array(t),r=n.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},p.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var i=0,n=0;n<e;n++)i|=(1&t)<<e-n-1,t>>=1;return i},p.prototype.permute=function(t,e,r,i,n,o){for(var s=0;s<o;s++)i[s]=e[t[s]],n[s]=r[t[s]]},p.prototype.transform=function(t,e,r,i,n,o){this.permute(o,t,e,r,i,n);for(var s=1;s<n;s<<=1)for(var a=s<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<n;l+=a)for(var f=h,c=u,d=0;d<s;d++){var m=r[l+d],p=i[l+d],g=r[l+d+s],v=i[l+d+s],y=f*g-c*v;v=f*v+c*g,g=y,r[l+d]=m+g,i[l+d]=p+v,r[l+d+s]=m-g,i[l+d+s]=p-v,d!==a&&(y=h*f-u*c,c=h*c+u*f,f=y)}},p.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},p.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},p.prototype.normalize13b=function(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=67108863&n,r=n<67108864?0:n/67108864|0}return t},p.prototype.convert13b=function(t,e,i,n){for(var o=0,s=0;s<e;s++)o+=0|t[s],i[2*s]=8191&o,o>>>=13,i[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<n;++s)i[s]=0;r(0===o),r(0==(-8192&o))},p.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},p.prototype.mulp=function(t,e,r){var i=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(i),o=this.stub(i),s=new Array(i),a=new Array(i),h=new Array(i),u=new Array(i),l=new Array(i),f=new Array(i),c=r.words;c.length=i,this.convert13b(t.words,t.length,s,i),this.convert13b(e.words,e.length,u,i),this.transform(s,o,a,h,i,n),this.transform(u,o,l,f,i,n);for(var d=0;d<i;d++){var m=a[d]*l[d]-h[d]*f[d];h[d]=a[d]*f[d]+h[d]*l[d],a[d]=m}return this.conjugate(a,h,i),this.transform(a,h,c,o,i,n),this.conjugate(c,o,i),this.normalize13b(c,i),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},n.prototype.mul=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},n.prototype.mulf=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),m(this,t,e)},n.prototype.imul=function(t){return this.clone().mulTo(t,this)},n.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,i=0;i<this.length;i++){var n=(0|this.words[i])*t,o=(67108863&n)+(67108863&e);e>>=26,e+=n/67108864|0,e+=o>>>26,this.words[i]=67108863&o}return 0!==e&&(this.words[i]=e,this.length++),this},n.prototype.muln=function(t){return this.clone().imuln(t)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=(t.words[i]&1<<n)>>>n}return e}(t);if(0===e.length)return new n(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var o=r.sqr();i<e.length;i++,o=o.sqr())0!==e[i]&&(r=r.mul(o));return r},n.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,i=t%26,n=(t-i)/26,o=67108863>>>26-i<<26-i;if(0!==i){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,h=(0|this.words[e])-a<<i;this.words[e]=h|s,s=a>>>26-i}s&&(this.words[e]=s,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this.strip()},n.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},n.prototype.iushrn=function(t,e,i){var n;r("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,h=i;if(n-=s,n=Math.max(0,n),h){for(var u=0;u<s;u++)h.words[u]=this.words[u];h.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=n);u--){var f=0|this.words[u];this.words[u]=l<<26-o|f>>>o,l=f&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(t,e,i){return r(0===this.negative),this.iushrn(t,e,i)},n.prototype.shln=function(t){return this.clone().ishln(t)},n.prototype.ushln=function(t){return this.clone().iushln(t)},n.prototype.shrn=function(t){return this.clone().ishrn(t)},n.prototype.ushrn=function(t){return this.clone().iushrn(t)},n.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26,n=1<<e;return!(this.length<=i)&&!!(this.words[i]&n)},n.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this.strip()},n.prototype.maskn=function(t){return this.clone().imaskn(t)},n.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},n.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},n.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},n.prototype.addn=function(t){return this.clone().iaddn(t)},n.prototype.subn=function(t){return this.clone().isubn(t)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(t,e,i){var n,o,s=t.length+i;this._expand(s);var a=0;for(n=0;n<t.length;n++){o=(0|this.words[n+i])+a;var h=(0|t.words[n])*e;a=((o-=67108863&h)>>26)-(h/67108864|0),this.words[n+i]=67108863&o}for(;n<this.length-i;n++)a=(o=(0|this.words[n+i])+a)>>26,this.words[n+i]=67108863&o;if(0===a)return this.strip();for(r(-1===a),a=0,n=0;n<this.length;n++)a=(o=-(0|this.words[n])+a)>>26,this.words[n]=67108863&o;return this.negative=1,this.strip()},n.prototype._wordDiv=function(t,e){var r=(this.length,t.length),i=this.clone(),o=t,s=0|o.words[o.length-1];0!==(r=26-this._countBits(s))&&(o=o.ushln(r),i.iushln(r),s=0|o.words[o.length-1]);var a,h=i.length-o.length;if("mod"!==e){(a=new n(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=i.clone()._ishlnsubmul(o,1,h);0===l.negative&&(i=l,a&&(a.words[h]=1));for(var f=h-1;f>=0;f--){var c=67108864*(0|i.words[o.length+f])+(0|i.words[o.length+f-1]);for(c=Math.min(c/s|0,67108863),i._ishlnsubmul(o,c,f);0!==i.negative;)c--,i.negative=0,i._ishlnsubmul(o,1,f),i.isZero()||(i.negative^=1);a&&(a.words[f]=c)}return a&&a.strip(),i.strip(),"div"!==e&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},n.prototype.divmod=function(t,e,i){return r(!t.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(o=a.div.neg()),"div"!==e&&(s=a.mod.neg(),i&&0!==s.negative&&s.iadd(t)),{div:o,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(o=a.div.neg()),{div:o,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),i&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new n(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new n(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new n(this.modn(t.words[0]))}:this._wordDiv(t,e);var o,s,a},n.prototype.div=function(t){return this.divmod(t,"div",!1).div},n.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},n.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},n.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),o=r.cmp(i);return o<0||1===n&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},n.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,i=0,n=this.length-1;n>=0;n--)i=(e*i+(0|this.words[n]))%t;return i},n.prototype.idivn=function(t){r(t<=67108863);for(var e=0,i=this.length-1;i>=0;i--){var n=(0|this.words[i])+67108864*e;this.words[i]=n/t|0,e=n%t}return this.strip()},n.prototype.divn=function(t){return this.clone().idivn(t)},n.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new n(1),s=new n(0),a=new n(0),h=new n(1),u=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++u;for(var l=i.clone(),f=e.clone();!e.isZero();){for(var c=0,d=1;0==(e.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(e.iushrn(c);c-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(l),s.isub(f)),o.iushrn(1),s.iushrn(1);for(var m=0,p=1;0==(i.words[0]&p)&&m<26;++m,p<<=1);if(m>0)for(i.iushrn(m);m-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(f)),a.iushrn(1),h.iushrn(1);e.cmp(i)>=0?(e.isub(i),o.isub(a),s.isub(h)):(i.isub(e),a.isub(o),h.isub(s))}return{a:a,b:h,gcd:i.iushln(u)}},n.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,s=new n(1),a=new n(0),h=i.clone();e.cmpn(1)>0&&i.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var f=0,c=1;0==(i.words[0]&c)&&f<26;++f,c<<=1);if(f>0)for(i.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(i)>=0?(e.isub(i),s.isub(a)):(i.isub(e),a.isub(s))}return(o=0===e.cmpn(1)?s:a).cmpn(0)<0&&o.iadd(t),o},n.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var o=e;e=r,r=o}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},n.prototype.invm=function(t){return this.egcd(t).a.umod(t)},n.prototype.isEven=function(){return 0==(1&this.words[0])},n.prototype.isOdd=function(){return 1==(1&this.words[0])},n.prototype.andln=function(t){return this.words[0]&t},n.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,i=(t-e)/26,n=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var o=n,s=i;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(t){var e,i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)e=1;else{i&&(t=-t),r(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},n.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},n.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},n.prototype.gtn=function(t){return 1===this.cmpn(t)},n.prototype.gt=function(t){return 1===this.cmp(t)},n.prototype.gten=function(t){return this.cmpn(t)>=0},n.prototype.gte=function(t){return this.cmp(t)>=0},n.prototype.ltn=function(t){return-1===this.cmpn(t)},n.prototype.lt=function(t){return-1===this.cmp(t)},n.prototype.lten=function(t){return this.cmpn(t)<=0},n.prototype.lte=function(t){return this.cmp(t)<=0},n.prototype.eqn=function(t){return 0===this.cmpn(t)},n.prototype.eq=function(t){return 0===this.cmp(t)},n.red=function(t){return new E(t)},n.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(t){return this.red=t,this},n.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},n.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},n.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},n.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},n.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},n.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},n.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},n.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new n(e,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(t){if("string"==typeof t){var e=n._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function _(t){E.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new n(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},i(y,v),y.prototype.split=function(t,e){for(var r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var n=t.words[9];for(e.words[e.length++]=4194303&n,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(4194303&o)<<4|n>>>22,n=o}n>>>=22,t.words[i-10]=n,0===n&&t.length>10?t.length-=10:t.length-=9},y.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,v),i(b,v),i(M,v),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=19*(0|t.words[r])+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},n._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new y;else if("p224"===t)e=new w;else if("p192"===t)e=new b;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return g[t]=e,e},E.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},E.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},E.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},E.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},E.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},E.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},E.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},E.prototype.isqr=function(t){return this.imul(t,t.clone())},E.prototype.sqr=function(t){return this.mul(t,t)},E.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var i=this.m.add(new n(1)).iushrn(2);return this.pow(t,i)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new n(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new n(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var f=this.pow(l,o),c=this.pow(t,o.addn(1).iushrn(1)),d=this.pow(t,o),m=s;0!==d.cmp(a);){for(var p=d,g=0;0!==p.cmp(a);g++)p=p.redSqr();r(g<m);var v=this.pow(f,new n(1).iushln(m-g-1));c=c.redMul(v),f=v.redSqr(),d=d.redMul(f),m=g}return c},E.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},E.prototype.pow=function(t,e){if(e.isZero())return new n(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new n(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var o=r[0],s=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),i=e.length-1;i>=0;i--){for(var u=e.words[i],l=h-1;l>=0;l--){var f=u>>l&1;o!==r[0]&&(o=this.sqr(o)),0!==f||0!==s?(s<<=1,s|=f,(4===++a||0===i&&0===l)&&(o=this.mul(o,r[s]),a=0,s=0)):a=0}h=26}return o},E.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},E.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},n.mont=function(t){return new _(t)},i(_,E),_.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},_.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},_.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},_.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new n(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(i).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},_.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,n)}));const bc=new Jf("bytes/5.3.0");function Mc(t){return!!t.toHexString}function Ec(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Ec(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function _c(t){return Ic(t)&&!(t.length%2)||Nc(t)}function Nc(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(null==t.length)return!1;for(let e=0;e<t.length;e++){const r=t[e];if("number"!=typeof r||r<0||r>=256||r%1)return!1}return!0}function Ac(t,e){if(e||(e={}),"number"==typeof t){bc.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),Ec(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Mc(t)&&(t=t.toHexString()),Ic(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0x0"+r.substring(2):"right"===e.hexPad?r+="0":bc.throwArgumentError("hex data is odd-length","value",t));const i=[];for(let t=0;t<r.length;t+=2)i.push(parseInt(r.substring(t,t+2),16));return Ec(new Uint8Array(i))}return Nc(t)?Ec(new Uint8Array(t)):bc.throwArgumentError("invalid arrayify value","value",t)}function Sc(t){const e=t.map(t=>Ac(t)),r=e.reduce((t,e)=>t+e.length,0),i=new Uint8Array(r);return e.reduce((t,e)=>(i.set(e,t),t+e.length),0),Ec(i)}function Rc(t){let e=Ac(t);if(0===e.length)return e;let r=0;for(;r<e.length&&0===e[r];)r++;return r&&(e=e.slice(r)),e}function Ic(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}function xc(t,e){if(e||(e={}),"number"==typeof t){bc.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e="0123456789abcdef"[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Mc(t))return t.toHexString();if(Ic(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":bc.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Nc(t)){let e="0x";for(let r=0;r<t.length;r++){let i=t[r];e+="0123456789abcdef"[(240&i)>>4]+"0123456789abcdef"[15&i]}return e}return bc.throwArgumentError("invalid hexlify value","value",t)}function kc(t){if("string"!=typeof t)t=xc(t);else if(!Ic(t)||t.length%2)return null;return(t.length-2)/2}function Oc(t,e,r){return"string"!=typeof t?t=xc(t):(!Ic(t)||t.length%2)&&bc.throwArgumentError("invalid hexData","value",t),e=2+2*e,null!=r?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function Tc(t){let e="0x";return t.forEach(t=>{e+=xc(t).substring(2)}),e}function Pc(t){const e=function(t){"string"!=typeof t&&(t=xc(t));Ic(t)||bc.throwArgumentError("invalid hex string","value",t);t=t.substring(2);let e=0;for(;e<t.length&&"0"===t[e];)e++;return"0x"+t.substring(e)}(xc(t,{hexPad:"left"}));return"0x"===e?"0x0":e}function Cc(t,e){for("string"!=typeof t?t=xc(t):Ic(t)||bc.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&bc.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Uc(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0};if(_c(t)){const r=Ac(t);65!==r.length&&bc.throwArgumentError("invalid signature string; must be 65 bytes","signature",t),e.r=xc(r.slice(0,32)),e.s=xc(r.slice(32,64)),e.v=r[64],e.v<27&&(0===e.v||1===e.v?e.v+=27:bc.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=xc(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,null!=e._vs){const r=function(t,e){(t=Ac(t)).length>e&&bc.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Ec(r)}(Ac(e._vs),32);e._vs=xc(r);const i=r[0]>=128?1:0;null==e.recoveryParam?e.recoveryParam=i:e.recoveryParam!==i&&bc.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),r[0]&=127;const n=xc(r);null==e.s?e.s=n:e.s!==n&&bc.throwArgumentError("signature v mismatch _vs","signature",t)}null==e.recoveryParam?null==e.v?bc.throwArgumentError("signature missing v and recoveryParam","signature",t):0===e.v||1===e.v?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2:null==e.v?e.v=27+e.recoveryParam:e.recoveryParam!==1-e.v%2&&bc.throwArgumentError("signature recoveryParam mismatch v","signature",t),null!=e.r&&Ic(e.r)?e.r=Cc(e.r,32):bc.throwArgumentError("signature missing or invalid r","signature",t),null!=e.s&&Ic(e.s)?e.s=Cc(e.s,32):bc.throwArgumentError("signature missing or invalid s","signature",t);const r=Ac(e.s);r[0]>=128&&bc.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const i=xc(r);e._vs&&(Ic(e._vs)||bc.throwArgumentError("signature invalid _vs","signature",t),e._vs=Cc(e._vs,32)),null==e._vs?e._vs=i:e._vs!==i&&bc.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e}var Fc=wc.BN;const Bc=new Jf("bignumber/5.3.0"),Dc={};let Lc=!1;class $c{constructor(t,e){Bc.checkNew(new.target,$c),t!==Dc&&Bc.throwError("cannot call constructor directly; use BigNumber.from",Jf.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return zc(qc(this).fromTwos(t))}toTwos(t){return zc(qc(this).toTwos(t))}abs(){return"-"===this._hex[0]?$c.from(this._hex.substring(1)):this}add(t){return zc(qc(this).add(qc(t)))}sub(t){return zc(qc(this).sub(qc(t)))}div(t){return $c.from(t).isZero()&&Gc("division by zero","div"),zc(qc(this).div(qc(t)))}mul(t){return zc(qc(this).mul(qc(t)))}mod(t){const e=qc(t);return e.isNeg()&&Gc("cannot modulo negative values","mod"),zc(qc(this).umod(e))}pow(t){const e=qc(t);return e.isNeg()&&Gc("cannot raise to negative values","pow"),zc(qc(this).pow(e))}and(t){const e=qc(t);return(this.isNegative()||e.isNeg())&&Gc("cannot 'and' negative values","and"),zc(qc(this).and(e))}or(t){const e=qc(t);return(this.isNegative()||e.isNeg())&&Gc("cannot 'or' negative values","or"),zc(qc(this).or(e))}xor(t){const e=qc(t);return(this.isNegative()||e.isNeg())&&Gc("cannot 'xor' negative values","xor"),zc(qc(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&Gc("cannot mask negative values","mask"),zc(qc(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&Gc("cannot shift negative values","shl"),zc(qc(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&Gc("cannot shift negative values","shr"),zc(qc(this).shrn(t))}eq(t){return qc(this).eq(qc(t))}lt(t){return qc(this).lt(qc(t))}lte(t){return qc(this).lte(qc(t))}gt(t){return qc(this).gt(qc(t))}gte(t){return qc(this).gte(qc(t))}isNegative(){return"-"===this._hex[0]}isZero(){return qc(this).isZero()}toNumber(){try{return qc(this).toNumber()}catch(t){Gc("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return Bc.throwError("this platform does not support BigInt",Jf.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?Lc||(Lc=!0,Bc.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?Bc.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Jf.errors.UNEXPECTED_ARGUMENT,{}):Bc.throwError("BigNumber.toString does not accept parameters",Jf.errors.UNEXPECTED_ARGUMENT,{})),qc(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof $c)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new $c(Dc,jc(t)):t.match(/^-?[0-9]+$/)?new $c(Dc,jc(new Fc(t))):Bc.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&Gc("underflow","BigNumber.from",t),(t>=9007199254740991||t<=-9007199254740991)&&Gc("overflow","BigNumber.from",t),$c.from(String(t));const e=t;if("bigint"==typeof e)return $c.from(e.toString());if(Nc(e))return $c.from(xc(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return $c.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(Ic(t)||"-"===t[0]&&Ic(t.substring(1))))return $c.from(t)}return Bc.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function jc(t){if("string"!=typeof t)return jc(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&Bc.throwArgumentError("invalid hex","value",t),"0x00"===(t=jc(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function zc(t){return $c.from(jc(t))}function qc(t){const e=$c.from(t).toHexString();return"-"===e[0]?new Fc("-"+e.substring(3),16):new Fc(e.substring(2),16)}function Gc(t,e,r){const i={fault:t,operation:e};return null!=r&&(i.value=r),Bc.throwError(t,Jf.errors.NUMERIC_FAULT,i)}const Vc=$c.from(0);function Kc(t){return"0x"+lr.keccak_256(Ac(t))}const Zc=new Jf("strings/5.3.0");var Hc,Wc;function Jc(t,e,r,i,n){if(t===Wc.BAD_PREFIX||t===Wc.UNEXPECTED_CONTINUE){let t=0;for(let i=e+1;i<r.length&&r[i]>>6==2;i++)t++;return t}return t===Wc.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(Hc||(Hc={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(Wc||(Wc={}));const Xc=Object.freeze({error:function(t,e,r,i,n){return Zc.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:Jc,replace:function(t,e,r,i,n){return t===Wc.OVERLONG?(i.push(n),0):(i.push(65533),Jc(t,e,r))}});function Yc(t,e){null==e&&(e=Xc.error),t=Ac(t);const r=[];let i=0;for(;i<t.length;){const n=t[i++];if(n>>7==0){r.push(n);continue}let o=null,s=null;if(192==(224&n))o=1,s=127;else if(224==(240&n))o=2,s=2047;else{if(240!=(248&n)){i+=e(128==(192&n)?Wc.UNEXPECTED_CONTINUE:Wc.BAD_PREFIX,i-1,t,r);continue}o=3,s=65535}if(i-1+o>=t.length){i+=e(Wc.OVERRUN,i-1,t,r);continue}let a=n&(1<<8-o-1)-1;for(let n=0;n<o;n++){let n=t[i];if(128!=(192&n)){i+=e(Wc.MISSING_CONTINUE,i,t,r),a=null;break}a=a<<6|63&n,i++}null!==a&&(a>1114111?i+=e(Wc.OUT_OF_RANGE,i-1-o,t,r,a):a>=55296&&a<=57343?i+=e(Wc.UTF16_SURROGATE,i-1-o,t,r,a):a<=s?i+=e(Wc.OVERLONG,i-1-o,t,r,a):r.push(a))}return r}function Qc(t,e=Hc.current){e!=Hc.current&&(Zc.checkNormalize(),t=t.normalize(e));let r=[];for(let e=0;e<t.length;e++){const i=t.charCodeAt(e);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(63&i|128);else if(55296==(64512&i)){e++;const n=t.charCodeAt(e);if(e>=t.length||56320!=(64512&n))throw new Error("invalid utf-8 string");const o=65536+((1023&i)<<10)+(1023&n);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(63&i|128)}return Ac(r)}function td(t){return t.map(t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t)))).join("")}function ed(t,e){return td(Yc(t,e))}function rd(t,e=Hc.current){return Yc(Qc(t,e))}function id(t,e){e||(e=function(t){return[parseInt(t,16)]});let r=0,i={};return t.split(",").forEach(t=>{let n=t.split(":");r+=parseInt(n[0],16),i[r]=e(n[1])}),i}function nd(t){let e=0;return t.split(",").map(t=>{let r=t.split("-");1===r.length?r[1]="0":""===r[1]&&(r[1]="1");let i=e+parseInt(r[0],16);return e=parseInt(r[1],16),{l:i,h:e}})}function od(t,e){let r=0;for(let i=0;i<e.length;i++){let n=e[i];if(r+=n.l,t>=r&&t<=r+n.h&&(t-r)%(n.d||1)==0){if(n.e&&-1!==n.e.indexOf(t-r))continue;return n}}return null}const sd=nd("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),ad="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(t=>parseInt(t,16)),hd=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],ud=id("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),ld=id("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),fd=id("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(t){if(t.length%4!=0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e})),cd=nd("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function dd(t){if(t.match(/^[a-z0-9-]*$/i)&&t.length<=59)return t.toLowerCase();let e=rd(t);var r;r=e.map(t=>{if(ad.indexOf(t)>=0)return[];if(t>=65024&&t<=65039)return[];let e=function(t){let e=od(t,hd);if(e)return[t+e.s];let r=ud[t];if(r)return r;let i=ld[t];return i?[t+i[0]]:fd[t]||null}(t);return e||[t]}),e=r.reduce((t,e)=>(e.forEach(e=>{t.push(e)}),t),[]),e=rd(td(e),Hc.NFKC),e.forEach(t=>{if(od(t,cd))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(t=>{if(od(t,sd))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let i=td(e);if("-"===i.substring(0,1)||"--"===i.substring(2,4)||"-"===i.substring(i.length-1))throw new Error("invalid hyphen");if(i.length>63)throw new Error("too long");return i}function md(t){return Kc(Qc(t))}const pd=new Jf("hash/5.3.0"),gd=new Uint8Array(32);gd.fill(0);const vd=new RegExp("^((.*)\\.)?([^.]+)$");function yd(t){"string"!=typeof t&&pd.throwArgumentError("invalid ENS name; not a string","name",t);let e=t,r=gd;for(;e.length;){const i=e.match(vd);null!=i&&""!==i[2]||pd.throwArgumentError("invalid ENS address; missing component","name",t);r=Kc(Sc([r,Kc(Qc(dd(i[3])))])),e=i[2]||""}return xc(r)}const wd=new Jf("rlp/5.3.0");function bd(t){const e=[];for(;t;)e.unshift(255&t),t>>=8;return e}function Md(t,e,r){let i=0;for(let n=0;n<r;n++)i=256*i+t[e+n];return i}function Ed(t){return xc(function t(e){if(Array.isArray(e)){let r=[];if(e.forEach((function(e){r=r.concat(t(e))})),r.length<=55)return r.unshift(192+r.length),r;const i=bd(r.length);return i.unshift(247+i.length),i.concat(r)}_c(e)||wd.throwArgumentError("RLP object must be BytesLike","object",e);const r=Array.prototype.slice.call(Ac(e));if(1===r.length&&r[0]<=127)return r;if(r.length<=55)return r.unshift(128+r.length),r;const i=bd(r.length);return i.unshift(183+i.length),i.concat(r)}(t))}function _d(t,e,r,i){const n=[];for(;r<e+1+i;){const o=Nd(t,r);n.push(o.result),(r+=o.consumed)>e+1+i&&wd.throwError("child data too short",Jf.errors.BUFFER_OVERRUN,{})}return{consumed:1+i,result:n}}function Nd(t,e){if(0===t.length&&wd.throwError("data too short",Jf.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&wd.throwError("data short segment too short",Jf.errors.BUFFER_OVERRUN,{});const i=Md(t,e+1,r);return e+1+r+i>t.length&&wd.throwError("data long segment too short",Jf.errors.BUFFER_OVERRUN,{}),_d(t,e,e+1+r,r+i)}if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&wd.throwError("data array too short",Jf.errors.BUFFER_OVERRUN,{}),_d(t,e,e+1,r)}if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&wd.throwError("data array too short",Jf.errors.BUFFER_OVERRUN,{});const i=Md(t,e+1,r);e+1+r+i>t.length&&wd.throwError("data array too short",Jf.errors.BUFFER_OVERRUN,{});return{consumed:1+r+i,result:xc(t.slice(e+1+r,e+1+r+i))}}if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&wd.throwError("data too short",Jf.errors.BUFFER_OVERRUN,{});return{consumed:1+r,result:xc(t.slice(e+1,e+1+r))}}return{consumed:1,result:xc(t[e])}}function Ad(t){const e=Ac(t),r=Nd(e,0);return r.consumed!==e.length&&wd.throwArgumentError("invalid rlp data","data",t),r.result}const Sd=new Jf("address/5.3.0");function Rd(t){Ic(t,20)||Sd.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let t=0;t<40;t++)r[t]=e[t].charCodeAt(0);const i=Ac(Kc(r));for(let t=0;t<40;t+=2)i[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&i[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return"0x"+e.join("")}const Id={};for(let t=0;t<10;t++)Id[String(t)]=String(t);for(let t=0;t<26;t++)Id[String.fromCharCode(65+t)]=String(10+t);const xd=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function kd(t){let e=null;if("string"!=typeof t&&Sd.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=Rd(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Sd.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==function(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map(t=>Id[t]).join("");for(;e.length>=xd;){let t=e.substring(0,xd);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}(t)&&Sd.throwArgumentError("bad icap checksum","address",t),r=t.substring(4),e=new Fc(r,36).toString(16);e.length<40;)e="0"+e;e=Rd("0x"+e)}else Sd.throwArgumentError("invalid address","address",t);var r;return e}var Od=window&&window.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function s(t){try{h(i.next(t))}catch(t){o(t)}}function a(t){try{h(i.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}h((i=i.apply(t,e||[])).next())}))};const Td=new Jf("properties/5.3.0");function Pd(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Cd(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||"object"!=typeof t.prototype)break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function Ud(t){return Od(this,void 0,void 0,(function*(){const e=Object.keys(t).map(e=>{const r=t[e];return Promise.resolve(r).then(t=>({key:e,value:t}))});return(yield Promise.all(e)).reduce((t,e)=>(t[e.key]=e.value,t),{})}))}function Fd(t){const e={};for(const r in t)e[r]=t[r];return e}const Bd={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Dd(t){if(function t(e){if(null==e||Bd[typeof e])return!0;if(Array.isArray(e)||"object"==typeof e){if(!Object.isFrozen(e))return!1;const r=Object.keys(e);for(let i=0;i<r.length;i++)if(!t(e[r[i]]))return!1;return!0}return Td.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}(t))return t;if(Array.isArray(t))return Object.freeze(t.map(t=>Ld(t)));if("object"==typeof t){const e={};for(const r in t){const i=t[r];void 0!==i&&Pd(e,r,Ld(i))}return e}return Td.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function Ld(t){return Dd(t)}var $d=window&&window.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function s(t){try{h(i.next(t))}catch(t){o(t)}}function a(t){try{h(i.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}h((i=i.apply(t,e||[])).next())}))};const jd=new Jf("hash/5.3.0"),zd=new Uint8Array(32);zd.fill(0);const qd=$c.from(-1),Gd=$c.from(0),Vd=$c.from(1),Kd=$c.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const Zd=Cc(Vd.toHexString(),32),Hd=Cc(Gd.toHexString(),32),Wd={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Jd=["name","version","chainId","verifyingContract","salt"];function Xd(t){return function(e){return"string"!=typeof e&&jd.throwArgumentError("invalid domain value for "+JSON.stringify(t),"domain."+t,e),e}}const Yd={name:Xd("name"),version:Xd("version"),chainId:function(t){try{return $c.from(t).toString()}catch(t){}return jd.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return kd(t).toLowerCase()}catch(t){}return jd.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=Ac(t);if(32!==e.length)throw new Error("bad length");return xc(e)}catch(t){}return jd.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function Qd(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=""===e[1],i=parseInt(e[2]||"256");(i%8!=0||i>256||e[2]&&e[2]!==String(i))&&jd.throwArgumentError("invalid numeric width","type",t);const n=Kd.mask(r?i-1:i),o=r?n.add(Vd).mul(qd):Gd;return function(e){const r=$c.from(e);return(r.lt(o)||r.gt(n))&&jd.throwArgumentError("value out-of-bounds for "+t,"value",e),Cc(r.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(0===r||r>32||e[1]!==String(r))&&jd.throwArgumentError("invalid bytes width","type",t),function(e){return Ac(e).length!==r&&jd.throwArgumentError("invalid length for "+t,"value",e),function(t){const e=Ac(t),r=e.length%32;return r?Tc([e,zd.slice(r)]):xc(e)}(e)}}}switch(t){case"address":return function(t){return Cc(kd(t),32)};case"bool":return function(t){return t?Zd:Hd};case"bytes":return function(t){return Kc(t)};case"string":return function(t){return md(t)}}return null}function tm(t,e){return`${t}(${e.map(({name:t,type:e})=>e+" "+t).join(",")})`}class em{constructor(t){Pd(this,"types",Object.freeze(Ld(t))),Pd(this,"_encoderCache",{}),Pd(this,"_types",{});const e={},r={},i={};Object.keys(t).forEach(t=>{e[t]={},r[t]=[],i[t]={}});for(const i in t){const n={};t[i].forEach(o=>{n[o.name]&&jd.throwArgumentError(`duplicate variable name ${JSON.stringify(o.name)} in ${JSON.stringify(i)}`,"types",t),n[o.name]=!0;const s=o.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===i&&jd.throwArgumentError("circular type reference to "+JSON.stringify(s),"types",t);Qd(s)||(r[s]||jd.throwArgumentError("unknown type "+JSON.stringify(s),"types",t),r[s].push(i),e[i][s]=!0)})}const n=Object.keys(r).filter(t=>0===r[t].length);0===n.length?jd.throwArgumentError("missing primary type","types",t):n.length>1&&jd.throwArgumentError("ambiguous primary types or unused types: "+n.map(t=>JSON.stringify(t)).join(", "),"types",t),Pd(this,"primaryType",n[0]),function n(o,s){s[o]&&jd.throwArgumentError("circular type reference to "+JSON.stringify(o),"types",t),s[o]=!0,Object.keys(e[o]).forEach(t=>{r[t]&&(n(t,s),Object.keys(s).forEach(e=>{i[e][t]=!0}))}),delete s[o]}(this.primaryType,{});for(const e in i){const r=Object.keys(i[e]);r.sort(),this._types[e]=tm(e,t[e])+r.map(e=>tm(e,t[e])).join("")}}getEncoder(t){let e=this._encoderCache[t];return e||(e=this._encoderCache[t]=this._getEncoder(t)),e}_getEncoder(t){{const e=Qd(t);if(e)return e}const e=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){const t=e[1],r=this.getEncoder(t),i=parseInt(e[3]);return e=>{i>=0&&e.length!==i&&jd.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e);let n=e.map(r);return this._types[t]&&(n=n.map(Kc)),Kc(Tc(n))}}const r=this.types[t];if(r){const e=md(this._types[t]);return t=>{const i=r.map(({name:e,type:r})=>{const i=this.getEncoder(r)(t[e]);return this._types[r]?Kc(i):i});return i.unshift(e),Tc(i)}}return jd.throwArgumentError("unknown type: "+t,"type",t)}encodeType(t){const e=this._types[t];return e||jd.throwArgumentError("unknown type: "+JSON.stringify(t),"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return Kc(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,r){if(Qd(t))return r(t,e);const i=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const t=i[1],n=parseInt(i[3]);return n>=0&&e.length!==n&&jd.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e),e.map(e=>this._visit(t,e,r))}const n=this.types[t];return n?n.reduce((t,{name:i,type:n})=>(t[i]=this._visit(n,e[i],r),t),{}):jd.throwArgumentError("unknown type: "+t,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new em(t)}static getPrimaryType(t){return em.from(t).primaryType}static hashStruct(t,e,r){return em.from(e).hashStruct(t,r)}static hashDomain(t){const e=[];for(const r in t){const i=Wd[r];i||jd.throwArgumentError("invalid typed-data domain key: "+JSON.stringify(r),"domain",t),e.push({name:r,type:i})}return e.sort((t,e)=>Jd.indexOf(t.name)-Jd.indexOf(e.name)),em.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,r){return Tc(["0x1901",em.hashDomain(t),em.from(e).hash(r)])}static hash(t,e,r){return Kc(em.encode(t,e,r))}static resolveNames(t,e,r,i){return $d(this,void 0,void 0,(function*(){t=Fd(t);const n={};t.verifyingContract&&!Ic(t.verifyingContract,20)&&(n[t.verifyingContract]="0x");const o=em.from(e);o.visit(r,(t,e)=>("address"!==t||Ic(e,20)||(n[e]="0x"),e));for(const t in n)n[t]=yield i(t);return t.verifyingContract&&n[t.verifyingContract]&&(t.verifyingContract=n[t.verifyingContract]),r=o.visit(r,(t,e)=>"address"===t&&n[e]?n[e]:e),{domain:t,value:r}}))}static getPayload(t,e,r){em.hashDomain(t);const i={},n=[];Jd.forEach(e=>{const r=t[e];null!=r&&(i[e]=Yd[e](r),n.push({name:e,type:Wd[e]}))});const o=em.from(e),s=Fd(e);return s.EIP712Domain?jd.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",e):s.EIP712Domain=n,o.encode(r),{types:s,domain:i,primaryType:o.primaryType,message:o.visit(r,(t,e)=>{if(t.match(/^bytes(\d*)/))return xc(Ac(e));if(t.match(/^u?int/))return $c.from(e).toString();switch(t){case"address":return e.toLowerCase();case"bool":return!!e;case"string":return"string"!=typeof e&&jd.throwArgumentError("invalid string","value",e),e}return jd.throwArgumentError("unsupported type","type",t)})}}}var rm=im;function im(t,e){if(!t)throw new Error(e||"Assertion failed")}function nm(t,e){return 55296==(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1)))}function om(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function sm(t){return 1===t.length?"0"+t:t}function am(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}im.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var hm={inherits:a((function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),toArray:function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var i=0,n=0;n<t.length;n++){var o=t.charCodeAt(n);o<128?r[i++]=o:o<2048?(r[i++]=o>>6|192,r[i++]=63&o|128):nm(t,n)?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++n)),r[i++]=o>>18|240,r[i++]=o>>12&63|128,r[i++]=o>>6&63|128,r[i++]=63&o|128):(r[i++]=o>>12|224,r[i++]=o>>6&63|128,r[i++]=63&o|128)}else for(n=0;n<t.length;n++)r[n]=0|t[n];return r},toHex:function(t){for(var e="",r=0;r<t.length;r++)e+=sm(t[r].toString(16));return e},htonl:om,toHex32:function(t,e){for(var r="",i=0;i<t.length;i++){var n=t[i];"little"===e&&(n=om(n)),r+=am(n.toString(16))}return r},zero2:sm,zero8:am,join32:function(t,e,r,i){var n=r-e;rm(n%4==0);for(var o=new Array(n/4),s=0,a=e;s<o.length;s++,a+=4){var h;h="big"===i?t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],o[s]=h>>>0}return o},split32:function(t,e){for(var r=new Array(4*t.length),i=0,n=0;i<t.length;i++,n+=4){var o=t[i];"big"===e?(r[n]=o>>>24,r[n+1]=o>>>16&255,r[n+2]=o>>>8&255,r[n+3]=255&o):(r[n+3]=o>>>24,r[n+2]=o>>>16&255,r[n+1]=o>>>8&255,r[n]=255&o)}return r},rotr32:function(t,e){return t>>>e|t<<32-e},rotl32:function(t,e){return t<<e|t>>>32-e},sum32:function(t,e){return t+e>>>0},sum32_3:function(t,e,r){return t+e+r>>>0},sum32_4:function(t,e,r,i){return t+e+r+i>>>0},sum32_5:function(t,e,r,i,n){return t+e+r+i+n>>>0},sum64:function(t,e,r,i){var n=t[e],o=i+t[e+1]>>>0,s=(o<i?1:0)+r+n;t[e]=s>>>0,t[e+1]=o},sum64_hi:function(t,e,r,i){return(e+i>>>0<e?1:0)+t+r>>>0},sum64_lo:function(t,e,r,i){return e+i>>>0},sum64_4_hi:function(t,e,r,i,n,o,s,a){var h=0,u=e;return h+=(u=u+i>>>0)<e?1:0,h+=(u=u+o>>>0)<o?1:0,t+r+n+s+(h+=(u=u+a>>>0)<a?1:0)>>>0},sum64_4_lo:function(t,e,r,i,n,o,s,a){return e+i+o+a>>>0},sum64_5_hi:function(t,e,r,i,n,o,s,a,h,u){var l=0,f=e;return l+=(f=f+i>>>0)<e?1:0,l+=(f=f+o>>>0)<o?1:0,l+=(f=f+a>>>0)<a?1:0,t+r+n+s+h+(l+=(f=f+u>>>0)<u?1:0)>>>0},sum64_5_lo:function(t,e,r,i,n,o,s,a,h,u){return e+i+o+a+u>>>0},rotr64_hi:function(t,e,r){return(e<<32-r|t>>>r)>>>0},rotr64_lo:function(t,e,r){return(t<<32-r|e>>>r)>>>0},shr64_hi:function(t,e,r){return t>>>r},shr64_lo:function(t,e,r){return(t<<32-r|e>>>r)>>>0}};function um(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var lm=um;um.prototype.update=function(t,e){if(t=hm.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=hm.join32(t,0,t.length-r,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},um.prototype.digest=function(t){return this.update(this._pad()),rm(null===this.pending),this._digest(t)},um.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,i=new Array(r+this.padLength);i[0]=128;for(var n=1;n<r;n++)i[n]=0;if(t<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)i[n++]=0;i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=t>>>24&255,i[n++]=t>>>16&255,i[n++]=t>>>8&255,i[n++]=255&t}else for(i[n++]=255&t,i[n++]=t>>>8&255,i[n++]=t>>>16&255,i[n++]=t>>>24&255,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,o=8;o<this.padLength;o++)i[n++]=0;return i};var fm={BlockHash:lm},cm=hm.rotr32;function dm(t,e,r){return t&e^~t&r}function mm(t,e,r){return t&e^t&r^e&r}function pm(t,e,r){return t^e^r}var gm={ft_1:function(t,e,r,i){return 0===t?dm(e,r,i):1===t||3===t?pm(e,r,i):2===t?mm(e,r,i):void 0},ch32:dm,maj32:mm,p32:pm,s0_256:function(t){return cm(t,2)^cm(t,13)^cm(t,22)},s1_256:function(t){return cm(t,6)^cm(t,11)^cm(t,25)},g0_256:function(t){return cm(t,7)^cm(t,18)^t>>>3},g1_256:function(t){return cm(t,17)^cm(t,19)^t>>>10}},vm=hm.rotl32,ym=hm.sum32,wm=hm.sum32_5,bm=gm.ft_1,Mm=fm.BlockHash,Em=[1518500249,1859775393,2400959708,3395469782];function _m(){if(!(this instanceof _m))return new _m;Mm.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}hm.inherits(_m,Mm);var Nm=_m;_m.blockSize=512,_m.outSize=160,_m.hmacStrength=80,_m.padLength=64,_m.prototype._update=function(t,e){for(var r=this.W,i=0;i<16;i++)r[i]=t[e+i];for(;i<r.length;i++)r[i]=vm(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var n=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],h=this.h[4];for(i=0;i<r.length;i++){var u=~~(i/20),l=wm(vm(n,5),bm(u,o,s,a),h,r[i],Em[u]);h=a,a=s,s=vm(o,30),o=n,n=l}this.h[0]=ym(this.h[0],n),this.h[1]=ym(this.h[1],o),this.h[2]=ym(this.h[2],s),this.h[3]=ym(this.h[3],a),this.h[4]=ym(this.h[4],h)},_m.prototype._digest=function(t){return"hex"===t?hm.toHex32(this.h,"big"):hm.split32(this.h,"big")};var Am=hm.sum32,Sm=hm.sum32_4,Rm=hm.sum32_5,Im=gm.ch32,xm=gm.maj32,km=gm.s0_256,Om=gm.s1_256,Tm=gm.g0_256,Pm=gm.g1_256,Cm=fm.BlockHash,Um=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Fm(){if(!(this instanceof Fm))return new Fm;Cm.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Um,this.W=new Array(64)}hm.inherits(Fm,Cm);var Bm=Fm;function Dm(){if(!(this instanceof Dm))return new Dm;Bm.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Fm.blockSize=512,Fm.outSize=256,Fm.hmacStrength=192,Fm.padLength=64,Fm.prototype._update=function(t,e){for(var r=this.W,i=0;i<16;i++)r[i]=t[e+i];for(;i<r.length;i++)r[i]=Sm(Pm(r[i-2]),r[i-7],Tm(r[i-15]),r[i-16]);var n=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],h=this.h[4],u=this.h[5],l=this.h[6],f=this.h[7];for(rm(this.k.length===r.length),i=0;i<r.length;i++){var c=Rm(f,Om(h),Im(h,u,l),this.k[i],r[i]),d=Am(km(n),xm(n,o,s));f=l,l=u,u=h,h=Am(a,c),a=s,s=o,o=n,n=Am(c,d)}this.h[0]=Am(this.h[0],n),this.h[1]=Am(this.h[1],o),this.h[2]=Am(this.h[2],s),this.h[3]=Am(this.h[3],a),this.h[4]=Am(this.h[4],h),this.h[5]=Am(this.h[5],u),this.h[6]=Am(this.h[6],l),this.h[7]=Am(this.h[7],f)},Fm.prototype._digest=function(t){return"hex"===t?hm.toHex32(this.h,"big"):hm.split32(this.h,"big")},hm.inherits(Dm,Bm);var Lm=Dm;Dm.blockSize=512,Dm.outSize=224,Dm.hmacStrength=192,Dm.padLength=64,Dm.prototype._digest=function(t){return"hex"===t?hm.toHex32(this.h.slice(0,7),"big"):hm.split32(this.h.slice(0,7),"big")};var $m=hm.rotr64_hi,jm=hm.rotr64_lo,zm=hm.shr64_hi,qm=hm.shr64_lo,Gm=hm.sum64,Vm=hm.sum64_hi,Km=hm.sum64_lo,Zm=hm.sum64_4_hi,Hm=hm.sum64_4_lo,Wm=hm.sum64_5_hi,Jm=hm.sum64_5_lo,Xm=fm.BlockHash,Ym=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Qm(){if(!(this instanceof Qm))return new Qm;Xm.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Ym,this.W=new Array(160)}hm.inherits(Qm,Xm);var tp=Qm;function ep(t,e,r,i,n){var o=t&r^~t&n;return o<0&&(o+=4294967296),o}function rp(t,e,r,i,n,o){var s=e&i^~e&o;return s<0&&(s+=4294967296),s}function ip(t,e,r,i,n){var o=t&r^t&n^r&n;return o<0&&(o+=4294967296),o}function np(t,e,r,i,n,o){var s=e&i^e&o^i&o;return s<0&&(s+=4294967296),s}function op(t,e){var r=$m(t,e,28)^$m(e,t,2)^$m(e,t,7);return r<0&&(r+=4294967296),r}function sp(t,e){var r=jm(t,e,28)^jm(e,t,2)^jm(e,t,7);return r<0&&(r+=4294967296),r}function ap(t,e){var r=$m(t,e,14)^$m(t,e,18)^$m(e,t,9);return r<0&&(r+=4294967296),r}function hp(t,e){var r=jm(t,e,14)^jm(t,e,18)^jm(e,t,9);return r<0&&(r+=4294967296),r}function up(t,e){var r=$m(t,e,1)^$m(t,e,8)^zm(t,e,7);return r<0&&(r+=4294967296),r}function lp(t,e){var r=jm(t,e,1)^jm(t,e,8)^qm(t,e,7);return r<0&&(r+=4294967296),r}function fp(t,e){var r=$m(t,e,19)^$m(e,t,29)^zm(t,e,6);return r<0&&(r+=4294967296),r}function cp(t,e){var r=jm(t,e,19)^jm(e,t,29)^qm(t,e,6);return r<0&&(r+=4294967296),r}function dp(){if(!(this instanceof dp))return new dp;tp.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Qm.blockSize=1024,Qm.outSize=512,Qm.hmacStrength=192,Qm.padLength=128,Qm.prototype._prepareBlock=function(t,e){for(var r=this.W,i=0;i<32;i++)r[i]=t[e+i];for(;i<r.length;i+=2){var n=fp(r[i-4],r[i-3]),o=cp(r[i-4],r[i-3]),s=r[i-14],a=r[i-13],h=up(r[i-30],r[i-29]),u=lp(r[i-30],r[i-29]),l=r[i-32],f=r[i-31];r[i]=Zm(n,o,s,a,h,u,l,f),r[i+1]=Hm(n,o,s,a,h,u,l,f)}},Qm.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,i=this.h[0],n=this.h[1],o=this.h[2],s=this.h[3],a=this.h[4],h=this.h[5],u=this.h[6],l=this.h[7],f=this.h[8],c=this.h[9],d=this.h[10],m=this.h[11],p=this.h[12],g=this.h[13],v=this.h[14],y=this.h[15];rm(this.k.length===r.length);for(var w=0;w<r.length;w+=2){var b=v,M=y,E=ap(f,c),_=hp(f,c),N=ep(f,c,d,m,p),A=rp(f,c,d,m,p,g),S=this.k[w],R=this.k[w+1],I=r[w],x=r[w+1],k=Wm(b,M,E,_,N,A,S,R,I,x),O=Jm(b,M,E,_,N,A,S,R,I,x);b=op(i,n),M=sp(i,n),E=ip(i,n,o,s,a),_=np(i,n,o,s,a,h);var T=Vm(b,M,E,_),P=Km(b,M,E,_);v=p,y=g,p=d,g=m,d=f,m=c,f=Vm(u,l,k,O),c=Km(l,l,k,O),u=a,l=h,a=o,h=s,o=i,s=n,i=Vm(k,O,T,P),n=Km(k,O,T,P)}Gm(this.h,0,i,n),Gm(this.h,2,o,s),Gm(this.h,4,a,h),Gm(this.h,6,u,l),Gm(this.h,8,f,c),Gm(this.h,10,d,m),Gm(this.h,12,p,g),Gm(this.h,14,v,y)},Qm.prototype._digest=function(t){return"hex"===t?hm.toHex32(this.h,"big"):hm.split32(this.h,"big")},hm.inherits(dp,tp);var mp=dp;dp.blockSize=1024,dp.outSize=384,dp.hmacStrength=192,dp.padLength=128,dp.prototype._digest=function(t){return"hex"===t?hm.toHex32(this.h.slice(0,12),"big"):hm.split32(this.h.slice(0,12),"big")};var pp={sha1:Nm,sha224:Lm,sha256:Bm,sha384:mp,sha512:tp},gp=hm.rotl32,vp=hm.sum32,yp=hm.sum32_3,wp=hm.sum32_4,bp=fm.BlockHash;function Mp(){if(!(this instanceof Mp))return new Mp;bp.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}hm.inherits(Mp,bp);var Ep=Mp;function _p(t,e,r,i){return t<=15?e^r^i:t<=31?e&r|~e&i:t<=47?(e|~r)^i:t<=63?e&i|r&~i:e^(r|~i)}function Np(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Ap(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}Mp.blockSize=512,Mp.outSize=160,Mp.hmacStrength=192,Mp.padLength=64,Mp.prototype._update=function(t,e){for(var r=this.h[0],i=this.h[1],n=this.h[2],o=this.h[3],s=this.h[4],a=r,h=i,u=n,l=o,f=s,c=0;c<80;c++){var d=vp(gp(wp(r,_p(c,i,n,o),t[Sp[c]+e],Np(c)),Ip[c]),s);r=s,s=o,o=gp(n,10),n=i,i=d,d=vp(gp(wp(a,_p(79-c,h,u,l),t[Rp[c]+e],Ap(c)),xp[c]),f),a=f,f=l,l=gp(u,10),u=h,h=d}d=yp(this.h[1],n,l),this.h[1]=yp(this.h[2],o,f),this.h[2]=yp(this.h[3],s,a),this.h[3]=yp(this.h[4],r,h),this.h[4]=yp(this.h[0],i,u),this.h[0]=d},Mp.prototype._digest=function(t){return"hex"===t?hm.toHex32(this.h,"little"):hm.split32(this.h,"little")};var Sp=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Rp=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Ip=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],xp=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],kp={ripemd160:Ep};function Op(t,e,r){if(!(this instanceof Op))return new Op(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(hm.toArray(e,r))}var Tp=Op;Op.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),rm(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},Op.prototype.update=function(t,e){return this.inner.update(t,e),this},Op.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)};var Pp=a((function(t,e){var r=e;r.utils=hm,r.common=fm,r.sha=pp,r.ripemd=kp,r.hmac=Tp,r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160}));let Cp=!1,Up=!1;const Fp={debug:1,default:2,info:2,warning:3,error:4,off:5};let Bp=Fp.default,Dp=null;const Lp=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var $p,jp;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}($p||($p={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(jp||(jp={}));class zp{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Fp[r]&&this.throwArgumentError("invalid log level name","logLevel",t),Bp>Fp[r]||console.log.apply(console,e)}debug(...t){this._log(zp.levels.DEBUG,t)}info(...t){this._log(zp.levels.INFO,t)}warn(...t){this._log(zp.levels.WARNING,t)}makeError(t,e,r){if(Up)return this.makeError("censored error",e,{});e||(e=zp.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(t=>{try{i.push(t+"="+JSON.stringify(r[t]))}catch(e){i.push(t+"="+JSON.stringify(r[t].toString()))}}),i.push("code="+e),i.push("version="+this.version);const n=t;i.length&&(t+=" ("+i.join(", ")+")");const o=new Error(t);return o.reason=n,o.code=e,Object.keys(r).forEach((function(t){o[t]=r[t]})),o}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,zp.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,i){t||this.throwError(e,r,i)}assertArgument(t,e,r,i){t||this.throwArgumentError(e,r,i)}checkNormalize(t){Lp&&this.throwError("platform missing String.prototype.normalize",zp.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Lp})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,zp.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,zp.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,zp.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,zp.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",zp.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",zp.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",zp.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Dp||(Dp=new zp("logger/5.3.0")),Dp}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",zp.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Cp){if(!t)return;this.globalLogger().throwError("error censorship permanent",zp.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Up=!!t,Cp=!!e}static setLogLevel(t){const e=Fp[t.toLowerCase()];null!=e?Bp=e:zp.globalLogger().warn("invalid log level - "+t)}static from(t){return new zp(t)}}zp.errors=jp,zp.levels=$p;const qp=new zp("bytes/5.3.0");function Gp(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Gp(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Vp(t,e){if(e||(e={}),"number"==typeof t){qp.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),Gp(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),function(t){return!!t.toHexString}(t)&&(t=t.toHexString()),function(t,e){if("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))return!1;if(e&&t.length!==2+2*e)return!1;return!0}(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0x0"+r.substring(2):"right"===e.hexPad?r+="0":qp.throwArgumentError("hex data is odd-length","value",t));const i=[];for(let t=0;t<r.length;t+=2)i.push(parseInt(r.substring(t,t+2),16));return Gp(new Uint8Array(i))}return function(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(null==t.length)return!1;for(let e=0;e<t.length;e++){const r=t[e];if("number"!=typeof r||r<0||r>=256||r%1)return!1}return!0}(t)?Gp(new Uint8Array(t)):qp.throwArgumentError("invalid arrayify value","value",t)}new zp("sha2/5.3.0");function Kp(t){return"0x"+Pp.sha256().update(Vp(t)).digest("hex")}function Zp(t){t=Ac(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}var Hp=window&&window.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function s(t){try{h(i.next(t))}catch(t){o(t)}}function a(t){try{h(i.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}h((i=i.apply(t,e||[])).next())}))};function Wp(t,e){return Hp(this,void 0,void 0,(function*(){null==e&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0,mode:"cors",cache:"no-cache",credentials:"same-origin",redirect:"follow",referrer:"client"},i=yield fetch(t,r),n=yield i.arrayBuffer(),o={};return i.headers.forEach?i.headers.forEach((t,e)=>{o[e.toLowerCase()]=t}):i.headers.keys().forEach(t=>{o[t.toLowerCase()]=i.headers.get(t)}),{headers:o,statusCode:i.status,statusMessage:i.statusText,body:Ac(new Uint8Array(n))}}))}var Jp=window&&window.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function s(t){try{h(i.next(t))}catch(t){o(t)}}function a(t){try{h(i.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}h((i=i.apply(t,e||[])).next())}))};const Xp=new Jf("web/5.3.0");function Yp(t){return new Promise(e=>{setTimeout(e,t)})}function Qp(t,e){if(null==t)return null;if("string"==typeof t)return t;if(_c(t)){if(e&&("text"===e.split("/")[0]||"application/json"===e.split(";")[0].trim()))try{return ed(t)}catch(t){}return xc(t)}return t}function tg(t,e,r){let i=null;if(null!=e){i=Qc(e);const r="string"==typeof t?{url:t}:Fd(t);if(r.headers){0!==Object.keys(r.headers).filter(t=>"content-type"===t.toLowerCase()).length||(r.headers=Fd(r.headers),r.headers["content-type"]="application/json")}else r.headers={"content-type":"application/json"};t=r}return function(t,e,r){const i="object"==typeof t&&null!=t.throttleLimit?t.throttleLimit:12;Xp.assertArgument(i>0&&i%1==0,"invalid connection throttle limit","connection.throttleLimit",i);const n="object"==typeof t?t.throttleCallback:null,o="object"==typeof t&&"number"==typeof t.throttleSlotInterval?t.throttleSlotInterval:100;Xp.assertArgument(o>0&&o%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",o);const s={};let a=null;const h={method:"GET"};let u=!1,l=12e4;if("string"==typeof t)a=t;else if("object"==typeof t){if(null!=t&&null!=t.url||Xp.throwArgumentError("missing URL","connection.url",t),a=t.url,"number"==typeof t.timeout&&t.timeout>0&&(l=t.timeout),t.headers)for(const e in t.headers)s[e.toLowerCase()]={key:e,value:String(t.headers[e])},["if-none-match","if-modified-since"].indexOf(e.toLowerCase())>=0&&(u=!0);if(h.allowGzip=!!t.allowGzip,null!=t.user&&null!=t.password){"https:"!==a.substring(0,6)&&!0!==t.allowInsecureAuthentication&&Xp.throwError("basic authentication requires a secure https url",Jf.errors.INVALID_ARGUMENT,{argument:"url",url:a,user:t.user,password:"[REDACTED]"});const e=t.user+":"+t.password;s.authorization={key:"Authorization",value:"Basic "+Zp(Qc(e))}}}e&&(h.method="POST",h.body=e,null==s["content-type"]&&(s["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==s["content-length"]&&(s["content-length"]={key:"Content-Length",value:String(e.length)}));const f={};Object.keys(s).forEach(t=>{const e=s[t];f[e.key]=e.value}),h.headers=f;const c=function(){let t=null;return{promise:new Promise((function(e,r){l&&(t=setTimeout(()=>{null!=t&&(t=null,r(Xp.makeError("timeout",Jf.errors.TIMEOUT,{requestBody:Qp(h.body,f["content-type"]),requestMethod:h.method,timeout:l,url:a})))},l))})),cancel:function(){null!=t&&(clearTimeout(t),t=null)}}}(),d=function(){return Jp(this,void 0,void 0,(function*(){for(let t=0;t<i;t++){let e=null;try{if(e=yield Wp(a,h),429===e.statusCode&&t<i){let r=!0;if(n&&(r=yield n(t,a)),r){let r=0;const i=e.headers["retry-after"];r="string"==typeof i&&i.match(/^[1-9][0-9]*$/)?1e3*parseInt(i):o*parseInt(String(Math.random()*Math.pow(2,t))),yield Yp(r);continue}}}catch(t){e=t.response,null==e&&(c.cancel(),Xp.throwError("missing response",Jf.errors.SERVER_ERROR,{requestBody:Qp(h.body,f["content-type"]),requestMethod:h.method,serverError:t,url:a}))}let s=e.body;if(u&&304===e.statusCode?s=null:(e.statusCode<200||e.statusCode>=300)&&(c.cancel(),Xp.throwError("bad response",Jf.errors.SERVER_ERROR,{status:e.statusCode,headers:e.headers,body:Qp(s,e.headers?e.headers["content-type"]:null),requestBody:Qp(h.body,f["content-type"]),requestMethod:h.method,url:a})),r)try{const t=yield r(s,e);return c.cancel(),t}catch(r){if(r.throttleRetry&&t<i){let e=!0;if(n&&(e=yield n(t,a)),e){const e=o*parseInt(String(Math.random()*Math.pow(2,t)));yield Yp(e);continue}}c.cancel(),Xp.throwError("processing response error",Jf.errors.SERVER_ERROR,{body:Qp(s,e.headers?e.headers["content-type"]:null),error:r,requestBody:Qp(h.body,f["content-type"]),requestMethod:h.method,url:a})}return c.cancel(),s}return Xp.throwError("failed response",Jf.errors.SERVER_ERROR,{requestBody:Qp(h.body,f["content-type"]),requestMethod:h.method,url:a})}))}();return Promise.race([c.promise,d])}(t,i,(t,e)=>{let i=null;if(null!=t)try{i=JSON.parse(ed(t))}catch(e){Xp.throwError("invalid JSON",Jf.errors.SERVER_ERROR,{body:t,error:e})}return r&&(i=r(i,e)),i})}function eg(t,e){return e||(e={}),null==(e=Fd(e)).floor&&(e.floor=0),null==e.ceiling&&(e.ceiling=1e4),null==e.interval&&(e.interval=250),new Promise((function(r,i){let n=null,o=!1;const s=()=>!o&&(o=!0,n&&clearTimeout(n),!0);e.timeout&&(n=setTimeout(()=>{s()&&i(new Error("timeout"))},e.timeout));const a=e.retryLimit;let h=0;!function n(){return t().then((function(t){if(void 0!==t)s()&&r(t);else if(e.oncePoll)e.oncePoll.once("poll",n);else if(e.onceBlock)e.onceBlock.once("block",n);else if(!o){if(h++,h>a)return void(s()&&i(new Error("retry limit reached")));let t=e.interval*parseInt(String(Math.random()*Math.pow(2,h)));t<e.floor&&(t=e.floor),t>e.ceiling&&(t=e.ceiling),setTimeout(n,t)}return null}),(function(t){s()&&i(t)}))}()}))}for(var rg="qpzry9x8gf2tvdw0s3jn54khce6mua7l",ig={},ng=0;ng<rg.length;ng++){var og=rg.charAt(ng);if(void 0!==ig[og])throw new TypeError(og+" is ambiguous");ig[og]=ng}function sg(t){var e=t>>25;return(33554431&t)<<5^996825010&-(e>>0&1)^642813549&-(e>>1&1)^513874426&-(e>>2&1)^1027748829&-(e>>3&1)^705979059&-(e>>4&1)}function ag(t){for(var e=1,r=0;r<t.length;++r){var i=t.charCodeAt(r);if(i<33||i>126)return"Invalid prefix ("+t+")";e=sg(e)^i>>5}for(e=sg(e),r=0;r<t.length;++r){var n=t.charCodeAt(r);e=sg(e)^31&n}return e}function hg(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),i=t.toUpperCase();if(t!==r&&t!==i)return"Mixed-case string "+t;var n=(t=r).lastIndexOf("1");if(-1===n)return"No separator character for "+t;if(0===n)return"Missing prefix for "+t;var o=t.slice(0,n),s=t.slice(n+1);if(s.length<6)return"Data too short";var a=ag(o);if("string"==typeof a)return a;for(var h=[],u=0;u<s.length;++u){var l=s.charAt(u),f=ig[l];if(void 0===f)return"Unknown character "+l;a=sg(a)^f,u+6>=s.length||h.push(f)}return 1!==a?"Invalid checksum for "+t:{prefix:o,words:h}}function ug(t,e,r,i){for(var n=0,o=0,s=(1<<r)-1,a=[],h=0;h<t.length;++h)for(n=n<<e|t[h],o+=e;o>=r;)o-=r,a.push(n>>o&s);if(i)o>0&&a.push(n<<r-o&s);else{if(o>=e)return"Excess padding";if(n<<r-o&s)return"Non-zero padding"}return a}var lg={decodeUnsafe:function(){var t=hg.apply(null,arguments);if("object"==typeof t)return t},decode:function(t){var e=hg.apply(null,arguments);if("object"==typeof e)return e;throw new Error(e)},encode:function(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");var i=ag(t=t.toLowerCase());if("string"==typeof i)throw new Error(i);for(var n=t+"1",o=0;o<e.length;++o){var s=e[o];if(s>>5!=0)throw new Error("Non 5-bit word");i=sg(i)^s,n+=rg.charAt(s)}for(o=0;o<6;++o)i=sg(i);for(i^=1,o=0;o<6;++o){n+=rg.charAt(i>>5*(5-o)&31)}return n},toWordsUnsafe:function(t){var e=ug(t,8,5,!0);if(Array.isArray(e))return e},toWords:function(t){var e=ug(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)},fromWordsUnsafe:function(t){var e=ug(t,5,8,!1);if(Array.isArray(e))return e},fromWords:function(t){var e=ug(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}};const fg="providers/5.3.1";function cg(t,e,r){return t(r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&r.path)}},r.exports),r.exports}var dg=mg;function mg(t,e){if(!t)throw new Error(e||"Assertion failed")}mg.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var pg=cg((function(t,e){var r=e;function i(t){return 1===t.length?"0"+t:t}function n(t){for(var e="",r=0;r<t.length;r++)e+=i(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var i=0;i<t.length;i++)r[i]=0|t[i];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t);for(i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(i=0;i<t.length;i++){var n=t.charCodeAt(i),o=n>>8,s=255&n;o?r.push(o,s):r.push(s)}return r},r.zero2=i,r.toHex=n,r.encode=function(t,e){return"hex"===e?n(t):t}})),gg=cg((function(t,e){var r=e;r.assert=dg,r.toArray=pg.toArray,r.zero2=pg.zero2,r.toHex=pg.toHex,r.encode=pg.encode,r.getNAF=function(t,e,r){var i=new Array(Math.max(t.bitLength(),r)+1);i.fill(0);for(var n=1<<e+1,o=t.clone(),s=0;s<i.length;s++){var a,h=o.andln(n-1);o.isOdd()?(a=h>(n>>1)-1?(n>>1)-h:h,o.isubn(a)):a=0,i[s]=a,o.iushrn(1)}return i},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var i,n=0,o=0;t.cmpn(-n)>0||e.cmpn(-o)>0;){var s,a,h=t.andln(3)+n&3,u=e.andln(3)+o&3;3===h&&(h=-1),3===u&&(u=-1),s=0==(1&h)?0:3!==(i=t.andln(7)+n&7)&&5!==i||2!==u?h:-h,r[0].push(s),a=0==(1&u)?0:3!==(i=e.andln(7)+o&7)&&5!==i||2!==h?u:-u,r[1].push(a),2*n===s+1&&(n=1-n),2*o===a+1&&(o=1-o),t.iushrn(1),e.iushrn(1)}return r},r.cachedProperty=function(t,e,r){var i="_"+e;t.prototype[e]=function(){return void 0!==this[i]?this[i]:this[i]=r.call(this)}},r.parseBytes=function(t){return"string"==typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new wc(t,"hex","le")}})),vg=gg.getNAF,yg=gg.getJSF,wg=gg.assert;function bg(t,e){this.type=t,this.p=new wc(e.p,16),this.red=e.prime?wc.red(e.prime):wc.mont(this.p),this.zero=new wc(0).toRed(this.red),this.one=new wc(1).toRed(this.red),this.two=new wc(2).toRed(this.red),this.n=e.n&&new wc(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Mg=bg;function Eg(t,e){this.curve=t,this.type=e,this.precomputed=null}bg.prototype.point=function(){throw new Error("Not implemented")},bg.prototype.validate=function(){throw new Error("Not implemented")},bg.prototype._fixedNafMul=function(t,e){wg(t.precomputed);var r=t._getDoubles(),i=vg(e,1,this._bitLength),n=(1<<r.step+1)-(r.step%2==0?2:1);n/=3;var o,s,a=[];for(o=0;o<i.length;o+=r.step){s=0;for(var h=o+r.step-1;h>=o;h--)s=(s<<1)+i[h];a.push(s)}for(var u=this.jpoint(null,null,null),l=this.jpoint(null,null,null),f=n;f>0;f--){for(o=0;o<a.length;o++)(s=a[o])===f?l=l.mixedAdd(r.points[o]):s===-f&&(l=l.mixedAdd(r.points[o].neg()));u=u.add(l)}return u.toP()},bg.prototype._wnafMul=function(t,e){var r=4,i=t._getNAFPoints(r);r=i.wnd;for(var n=i.points,o=vg(e,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var h=0;a>=0&&0===o[a];a--)h++;if(a>=0&&h++,s=s.dblp(h),a<0)break;var u=o[a];wg(0!==u),s="affine"===t.type?u>0?s.mixedAdd(n[u-1>>1]):s.mixedAdd(n[-u-1>>1].neg()):u>0?s.add(n[u-1>>1]):s.add(n[-u-1>>1].neg())}return"affine"===t.type?s.toP():s},bg.prototype._wnafMulAdd=function(t,e,r,i,n){var o,s,a,h=this._wnafT1,u=this._wnafT2,l=this._wnafT3,f=0;for(o=0;o<i;o++){var c=(a=e[o])._getNAFPoints(t);h[o]=c.wnd,u[o]=c.points}for(o=i-1;o>=1;o-=2){var d=o-1,m=o;if(1===h[d]&&1===h[m]){var p=[e[d],null,null,e[m]];0===e[d].y.cmp(e[m].y)?(p[1]=e[d].add(e[m]),p[2]=e[d].toJ().mixedAdd(e[m].neg())):0===e[d].y.cmp(e[m].y.redNeg())?(p[1]=e[d].toJ().mixedAdd(e[m]),p[2]=e[d].add(e[m].neg())):(p[1]=e[d].toJ().mixedAdd(e[m]),p[2]=e[d].toJ().mixedAdd(e[m].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],v=yg(r[d],r[m]);for(f=Math.max(v[0].length,f),l[d]=new Array(f),l[m]=new Array(f),s=0;s<f;s++){var y=0|v[0][s],w=0|v[1][s];l[d][s]=g[3*(y+1)+(w+1)],l[m][s]=0,u[d]=p}}else l[d]=vg(r[d],h[d],this._bitLength),l[m]=vg(r[m],h[m],this._bitLength),f=Math.max(l[d].length,f),f=Math.max(l[m].length,f)}var b=this.jpoint(null,null,null),M=this._wnafT4;for(o=f;o>=0;o--){for(var E=0;o>=0;){var _=!0;for(s=0;s<i;s++)M[s]=0|l[s][o],0!==M[s]&&(_=!1);if(!_)break;E++,o--}if(o>=0&&E++,b=b.dblp(E),o<0)break;for(s=0;s<i;s++){var N=M[s];0!==N&&(N>0?a=u[s][N-1>>1]:N<0&&(a=u[s][-N-1>>1].neg()),b="affine"===a.type?b.mixedAdd(a):b.add(a))}}for(o=0;o<i;o++)u[o]=null;return n?b:b.toP()},bg.BasePoint=Eg,Eg.prototype.eq=function(){throw new Error("Not implemented")},Eg.prototype.validate=function(){return this.curve.validate(this)},bg.prototype.decodePoint=function(t,e){t=gg.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?wg(t[t.length-1]%2==0):7===t[0]&&wg(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},Eg.prototype.encodeCompressed=function(t){return this.encode(t,!0)},Eg.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},Eg.prototype.encode=function(t,e){return gg.encode(this._encode(e),t)},Eg.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},Eg.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},Eg.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<e;n+=t){for(var o=0;o<t;o++)i=i.dbl();r.push(i)}return{step:t,points:r}},Eg.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,i=1===r?null:this.dbl(),n=1;n<r;n++)e[n]=e[n-1].add(i);return{wnd:t,points:e}},Eg.prototype._getBeta=function(){return null},Eg.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var _g=cg((function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),Ng=gg.assert;function Ag(t){Mg.call(this,"short",t),this.a=new wc(t.a,16).toRed(this.red),this.b=new wc(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}_g(Ag,Mg);var Sg=Ag;function Rg(t,e,r,i){Mg.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new wc(e,16),this.y=new wc(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Ig(t,e,r,i){Mg.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new wc(0)):(this.x=new wc(e,16),this.y=new wc(r,16),this.z=new wc(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Ag.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new wc(t.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);e=(e=i[0].cmp(i[1])<0?i[0]:i[1]).toRed(this.red)}if(t.lambda)r=new wc(t.lambda,16);else{var n=this._getEndoRoots(this.n);0===this.g.mul(n[0]).x.cmp(this.g.x.redMul(e))?r=n[0]:(r=n[1],Ng(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new wc(t.a,16),b:new wc(t.b,16)}})):this._getEndoBasis(r)}}},Ag.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:wc.mont(t),r=new wc(2).toRed(e).redInvm(),i=r.redNeg(),n=new wc(3).toRed(e).redNeg().redSqrt().redMul(r);return[i.redAdd(n).fromRed(),i.redSub(n).fromRed()]},Ag.prototype._getEndoBasis=function(t){for(var e,r,i,n,o,s,a,h,u,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=t,c=this.n.clone(),d=new wc(1),m=new wc(0),p=new wc(0),g=new wc(1),v=0;0!==f.cmpn(0);){var y=c.div(f);h=c.sub(y.mul(f)),u=p.sub(y.mul(d));var w=g.sub(y.mul(m));if(!i&&h.cmp(l)<0)e=a.neg(),r=d,i=h.neg(),n=u;else if(i&&2==++v)break;a=h,c=f,f=h,p=d,d=u,g=m,m=w}o=h.neg(),s=u;var b=i.sqr().add(n.sqr());return o.sqr().add(s.sqr()).cmp(b)>=0&&(o=e,s=r),i.negative&&(i=i.neg(),n=n.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:i,b:n},{a:o,b:s}]},Ag.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],i=e[1],n=i.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),s=n.mul(r.a),a=o.mul(i.a),h=n.mul(r.b),u=o.mul(i.b);return{k1:t.sub(s).sub(a),k2:h.add(u).neg()}},Ag.prototype.pointFromX=function(t,e){(t=new wc(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(0!==i.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var n=i.fromRed().isOdd();return(e&&!n||!e&&n)&&(i=i.redNeg()),this.point(t,i)},Ag.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,i=this.a.redMul(e),n=e.redSqr().redMul(e).redIAdd(i).redIAdd(this.b);return 0===r.redSqr().redISub(n).cmpn(0)},Ag.prototype._endoWnafMulAdd=function(t,e,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,o=0;o<t.length;o++){var s=this._endoSplit(e[o]),a=t[o],h=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),h=h.neg(!0)),i[2*o]=a,i[2*o+1]=h,n[2*o]=s.k1,n[2*o+1]=s.k2}for(var u=this._wnafMulAdd(1,i,n,2*o,r),l=0;l<2*o;l++)i[l]=null,n[l]=null;return u},_g(Rg,Mg.BasePoint),Ag.prototype.point=function(t,e,r){return new Rg(this,t,e,r)},Ag.prototype.pointFromJSON=function(t,e){return Rg.fromJSON(this,t,e)},Rg.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,i=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return e}},Rg.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Rg.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var i=t.point(e[0],e[1],r);if(!e[2])return i;function n(e){return t.point(e[0],e[1],r)}var o=e[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(n))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(n))}},i},Rg.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Rg.prototype.isInfinity=function(){return this.inf},Rg.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),i=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},Rg.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),i=t.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(i),o=n.redSqr().redISub(this.x.redAdd(this.x)),s=n.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},Rg.prototype.getX=function(){return this.x.fromRed()},Rg.prototype.getY=function(){return this.y.fromRed()},Rg.prototype.mul=function(t){return t=new wc(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},Rg.prototype.mulAdd=function(t,e,r){var i=[this,e],n=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},Rg.prototype.jmulAdd=function(t,e,r){var i=[this,e],n=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},Rg.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},Rg.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,i=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return e},Rg.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},_g(Ig,Mg.BasePoint),Ag.prototype.jpoint=function(t,e,r){return new Ig(this,t,e,r)},Ig.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),i=this.y.redMul(e).redMul(t);return this.curve.point(r,i)},Ig.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Ig.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(e),n=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(r.redMul(this.z)),a=i.redSub(n),h=o.redSub(s);if(0===a.cmpn(0))return 0!==h.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),f=i.redMul(u),c=h.redSqr().redIAdd(l).redISub(f).redISub(f),d=h.redMul(f.redISub(c)).redISub(o.redMul(l)),m=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(c,d,m)},Ig.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,i=t.x.redMul(e),n=this.y,o=t.y.redMul(e).redMul(this.z),s=r.redSub(i),a=n.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=s.redSqr(),u=h.redMul(s),l=r.redMul(h),f=a.redSqr().redIAdd(u).redISub(l).redISub(l),c=a.redMul(l.redISub(f)).redISub(n.redMul(u)),d=this.z.redMul(s);return this.curve.jpoint(f,c,d)},Ig.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,o=this.x,s=this.y,a=this.z,h=a.redSqr().redSqr(),u=s.redAdd(s);for(e=0;e<t;e++){var l=o.redSqr(),f=u.redSqr(),c=f.redSqr(),d=l.redAdd(l).redIAdd(l).redIAdd(i.redMul(h)),m=o.redMul(f),p=d.redSqr().redISub(m.redAdd(m)),g=m.redISub(p),v=d.redMul(g);v=v.redIAdd(v).redISub(c);var y=u.redMul(a);e+1<t&&(h=h.redMul(c)),o=p,a=y,u=v}return this.curve.jpoint(o,u.redMul(n),a)},Ig.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Ig.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),o=n.redSqr(),s=this.x.redAdd(n).redSqr().redISub(i).redISub(o);s=s.redIAdd(s);var a=i.redAdd(i).redIAdd(i),h=a.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=h,e=a.redMul(s.redISub(h)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),f=this.y.redSqr(),c=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(l).redISub(c);d=d.redIAdd(d);var m=l.redAdd(l).redIAdd(l),p=m.redSqr(),g=c.redIAdd(c);g=(g=g.redIAdd(g)).redIAdd(g),t=p.redISub(d).redISub(d),e=m.redMul(d.redISub(t)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},Ig.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),o=n.redSqr(),s=this.x.redAdd(n).redSqr().redISub(i).redISub(o);s=s.redIAdd(s);var a=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),h=a.redSqr().redISub(s).redISub(s);t=h;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=a.redMul(s.redISub(h)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),f=this.y.redSqr(),c=this.x.redMul(f),d=this.x.redSub(l).redMul(this.x.redAdd(l));d=d.redAdd(d).redIAdd(d);var m=c.redIAdd(c),p=(m=m.redIAdd(m)).redAdd(m);t=d.redSqr().redISub(p),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(l);var g=f.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=d.redMul(m.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,r)},Ig.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),o=e.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(n)),h=e.redAdd(e),u=(h=h.redIAdd(h)).redMul(s),l=a.redSqr().redISub(u.redAdd(u)),f=u.redISub(l),c=s.redSqr();c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var d=a.redMul(f).redISub(c),m=r.redAdd(r).redMul(i);return this.curve.jpoint(l,d,m)},Ig.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),i=e.redSqr(),n=t.redAdd(t).redIAdd(t),o=n.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(i),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),h=i.redIAdd(i);h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var u=n.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(h),l=e.redMul(u);l=(l=l.redIAdd(l)).redIAdd(l);var f=this.x.redMul(a).redISub(l);f=(f=f.redIAdd(f)).redIAdd(f);var c=this.y.redMul(u.redMul(h.redISub(u)).redISub(s.redMul(a)));c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(f,c,d)},Ig.prototype.mul=function(t,e){return t=new wc(t,e),this.curve._wnafMul(this,t)},Ig.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var i=e.redMul(this.z),n=r.redMul(t.z);return 0===this.y.redMul(n).redISub(t.y.redMul(i)).cmpn(0)},Ig.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var i=t.clone(),n=this.curve.redN.redMul(e);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),0===this.x.cmp(r))return!0}},Ig.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Ig.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var xg=cg((function(t,e){var r=e;r.base=Mg,r.short=Sg,r.mont=null,r.edwards=null})),kg=cg((function(t,e){var r,i=e,n=gg.assert;function o(t){"short"===t.type?this.curve=new xg.short(t):"edwards"===t.type?this.curve=new xg.edwards(t):this.curve=new xg.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(t,e){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var r=new o(e);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=o,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Pp.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Pp.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Pp.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Pp.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Pp.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Pp.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Pp.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(t){r=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Pp.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function Og(t){if(!(this instanceof Og))return new Og(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=pg.toArray(t.entropy,t.entropyEnc||"hex"),r=pg.toArray(t.nonce,t.nonceEnc||"hex"),i=pg.toArray(t.pers,t.persEnc||"hex");dg(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,i)}var Tg=Og;Og.prototype._init=function(t,e,r){var i=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},Og.prototype._hmac=function(){return new Pp.hmac(this.hash,this.K)},Og.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},Og.prototype.reseed=function(t,e,r,i){"string"!=typeof e&&(i=r,r=e,e=null),t=pg.toArray(t,e),r=pg.toArray(r,i),dg(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},Og.prototype.generate=function(t,e,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(i=r,r=e,e=null),r&&(r=pg.toArray(r,i||"hex"),this._update(r));for(var n=[];n.length<t;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var o=n.slice(0,t);return this._update(r),this._reseed++,pg.encode(o,e)};var Pg=gg.assert;function Cg(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Ug=Cg;Cg.fromPublic=function(t,e,r){return e instanceof Cg?e:new Cg(t,{pub:e,pubEnc:r})},Cg.fromPrivate=function(t,e,r){return e instanceof Cg?e:new Cg(t,{priv:e,privEnc:r})},Cg.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Cg.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},Cg.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},Cg.prototype._importPrivate=function(t,e){this.priv=new wc(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},Cg.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?Pg(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Pg(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},Cg.prototype.derive=function(t){return t.validate()||Pg(t.validate(),"public point not validated"),t.mul(this.priv).getX()},Cg.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},Cg.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},Cg.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Fg=gg.assert;function Bg(t,e){if(t instanceof Bg)return t;this._importDER(t,e)||(Fg(t.r&&t.s,"Signature without r or s"),this.r=new wc(t.r,16),this.s=new wc(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Dg=Bg;function Lg(){this.place=0}function $g(t,e){var r=t[e.place++];if(!(128&r))return r;var i=15&r;if(0===i||i>4)return!1;for(var n=0,o=0,s=e.place;o<i;o++,s++)n<<=8,n|=t[s],n>>>=0;return!(n<=127)&&(e.place=s,n)}function jg(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function zg(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}Bg.prototype._importDER=function(t,e){t=gg.toArray(t,e);var r=new Lg;if(48!==t[r.place++])return!1;var i=$g(t,r);if(!1===i)return!1;if(i+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var n=$g(t,r);if(!1===n)return!1;var o=t.slice(r.place,n+r.place);if(r.place+=n,2!==t[r.place++])return!1;var s=$g(t,r);if(!1===s)return!1;if(t.length!==s+r.place)return!1;var a=t.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new wc(o),this.s=new wc(a),this.recoveryParam=null,!0},Bg.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=jg(e),r=jg(r);!(r[0]||128&r[1]);)r=r.slice(1);var i=[2];zg(i,e.length),(i=i.concat(e)).push(2),zg(i,r.length);var n=i.concat(r),o=[48];return zg(o,n.length),o=o.concat(n),gg.encode(o,t)};var qg=function(){throw new Error("unsupported")},Gg=gg.assert;function Vg(t){if(!(this instanceof Vg))return new Vg(t);"string"==typeof t&&(Gg(Object.prototype.hasOwnProperty.call(kg,t),"Unknown curve "+t),t=kg[t]),t instanceof kg.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Kg=Vg;Vg.prototype.keyPair=function(t){return new Ug(this,t)},Vg.prototype.keyFromPrivate=function(t,e){return Ug.fromPrivate(this,t,e)},Vg.prototype.keyFromPublic=function(t,e){return Ug.fromPublic(this,t,e)},Vg.prototype.genKeyPair=function(t){t||(t={});for(var e=new Tg({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||qg(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new wc(2));;){var n=new wc(e.generate(r));if(!(n.cmp(i)>0))return n.iaddn(1),this.keyFromPrivate(n)}},Vg.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},Vg.prototype.sign=function(t,e,r,i){"object"==typeof r&&(i=r,r=null),i||(i={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new wc(t,16));for(var n=this.n.byteLength(),o=e.getPrivate().toArray("be",n),s=t.toArray("be",n),a=new Tg({hash:this.hash,entropy:o,nonce:s,pers:i.pers,persEnc:i.persEnc||"utf8"}),h=this.n.sub(new wc(1)),u=0;;u++){var l=i.k?i.k(u):new wc(a.generate(this.n.byteLength()));if(!((l=this._truncateToN(l,!0)).cmpn(1)<=0||l.cmp(h)>=0)){var f=this.g.mul(l);if(!f.isInfinity()){var c=f.getX(),d=c.umod(this.n);if(0!==d.cmpn(0)){var m=l.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(m=m.umod(this.n)).cmpn(0)){var p=(f.getY().isOdd()?1:0)|(0!==c.cmp(d)?2:0);return i.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),p^=1),new Dg({r:d,s:m,recoveryParam:p})}}}}}},Vg.prototype.verify=function(t,e,r,i){t=this._truncateToN(new wc(t,16)),r=this.keyFromPublic(r,i);var n=(e=new Dg(e,"hex")).r,o=e.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,a=o.invm(this.n),h=a.mul(t).umod(this.n),u=a.mul(n).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(h,r.getPublic(),u)).isInfinity()&&s.eqXToP(n):!(s=this.g.mulAdd(h,r.getPublic(),u)).isInfinity()&&0===s.getX().umod(this.n).cmp(n)},Vg.prototype.recoverPubKey=function(t,e,r,i){Gg((3&r)===r,"The recovery param is more than two bits"),e=new Dg(e,i);var n=this.n,o=new wc(t),s=e.r,a=e.s,h=1&r,u=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");s=u?this.curve.pointFromX(s.add(this.curve.n),h):this.curve.pointFromX(s,h);var l=e.r.invm(n),f=n.sub(o).mul(l).umod(n),c=a.mul(l).umod(n);return this.g.mulAdd(f,s,c)},Vg.prototype.getKeyRecoveryParam=function(t,e,r,i){if(null!==(e=new Dg(e,i)).recoveryParam)return e.recoveryParam;for(var n=0;n<4;n++){var o;try{o=this.recoverPubKey(t,e,n)}catch(t){continue}if(o.eq(r))return n}throw new Error("Unable to find valid recovery factor")};var Zg=cg((function(t,e){var r=e;r.version="6.5.4",r.utils=gg,r.rand=function(){throw new Error("unsupported")},r.curve=xg,r.curves=kg,r.ec=Kg,r.eddsa=null})).ec;const Hg=new Jf("signing-key/5.3.0");let Wg=null;function Jg(){return Wg||(Wg=new Zg("secp256k1")),Wg}class Xg{constructor(t){Pd(this,"curve","secp256k1"),Pd(this,"privateKey",xc(t));const e=Jg().keyFromPrivate(Ac(this.privateKey));Pd(this,"publicKey","0x"+e.getPublic(!1,"hex")),Pd(this,"compressedPublicKey","0x"+e.getPublic(!0,"hex")),Pd(this,"_isSigningKey",!0)}_addPoint(t){const e=Jg().keyFromPublic(Ac(this.publicKey)),r=Jg().keyFromPublic(Ac(t));return"0x"+e.pub.add(r.pub).encodeCompressed("hex")}signDigest(t){const e=Jg().keyFromPrivate(Ac(this.privateKey)),r=Ac(t);32!==r.length&&Hg.throwArgumentError("bad digest length","digest",t);const i=e.sign(r,{canonical:!0});return Uc({recoveryParam:i.recoveryParam,r:Cc("0x"+i.r.toString(16),32),s:Cc("0x"+i.s.toString(16),32)})}computeSharedSecret(t){const e=Jg().keyFromPrivate(Ac(this.privateKey)),r=Jg().keyFromPublic(Ac(Yg(t)));return Cc("0x"+e.derive(r.getPublic()).toString(16),32)}static isSigningKey(t){return!(!t||!t._isSigningKey)}}function Yg(t,e){const r=Ac(t);if(32===r.length){const t=new Xg(r);return e?"0x"+Jg().keyFromPrivate(r).getPublic(!0,"hex"):t.publicKey}return 33===r.length?e?xc(r):"0x"+Jg().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?e?"0x"+Jg().keyFromPublic(r).getPublic(!0,"hex"):xc(r):Hg.throwArgumentError("invalid public or private key","key","[REDACTED]")}const Qg=new Jf("transactions/5.3.0");function tv(t){return"0x"===t?null:kd(t)}function ev(t){return"0x"===t?Vc:$c.from(t)}function rv(t,e){return function(t){return kd(Oc(Kc(Oc(Yg(t),1)),12))}(function(t,e){const r=Uc(e),i={r:Ac(r.r),s:Ac(r.s)};return"0x"+Jg().recoverPubKey(Ac(t),i,r.recoveryParam).encode("hex",!1)}(Ac(t),e))}function iv(t,e){const r=Rc($c.from(t).toHexString());return r.length>32&&Qg.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function nv(t,e){return{address:kd(t),storageKeys:(e||[]).map((e,r)=>(32!==kc(e)&&Qg.throwArgumentError("invalid access list storageKey",`accessList[${t}:${r}]`,e),e.toLowerCase()))}}function ov(t){if(Array.isArray(t))return t.map((t,e)=>Array.isArray(t)?(t.length>2&&Qg.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${e}]`,t),nv(t[0],t[1])):nv(t.address,t.storageKeys));const e=Object.keys(t).map(e=>{const r=t[e].reduce((t,e)=>(t[e]=!0,t),{});return nv(e,Object.keys(r).sort())});return e.sort((t,e)=>t.address.localeCompare(e.address)),e}function sv(t){const e=Ad(t.slice(1));8!==e.length&&11!==e.length&&Qg.throwArgumentError("invalid component count for transaction type: 1","payload",xc(t));const r={type:1,chainId:ev(e[0]).toNumber(),nonce:ev(e[1]).toNumber(),gasPrice:ev(e[2]),gasLimit:ev(e[3]),to:tv(e[4]),value:ev(e[5]),data:e[6],accessList:ov(e[7])};if(8===e.length)return r;try{const t=ev(e[8]).toNumber();if(0!==t&&1!==t)throw new Error("bad recid");r.v=t}catch(t){Qg.throwArgumentError("invalid v for transaction type: 1","v",e[8])}r.r=Cc(e[9],32),r.s=Cc(e[10],32);try{const t=Kc(function(t,e){const r=[iv(t.chainId||0,"chainId"),iv(t.nonce||0,"nonce"),iv(t.gasPrice||0,"gasPrice"),iv(t.gasLimit||0,"gasLimit"),null!=t.to?kd(t.to):"0x",iv(t.value||0,"value"),t.data||"0x",(i=t.accessList||[],ov(i).map(t=>[t.address,t.storageKeys]))];var i;if(e){const t=Uc(e);r.push(iv(t.recoveryParam,"recoveryParam")),r.push(Rc(t.r)),r.push(Rc(t.s))}return Tc(["0x01",Ed(r)])}(r));r.from=rv(t,{r:r.r,s:r.s,recoveryParam:r.v})}catch(t){console.log(t)}return r.hash=Kc(t),r}function av(t){const e=Ac(t);if(e[0]>127)return function(t){const e=Ad(t);9!==e.length&&6!==e.length&&Qg.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:ev(e[0]).toNumber(),gasPrice:ev(e[1]),gasLimit:ev(e[2]),to:tv(e[3]),value:ev(e[4]),data:e[5],chainId:0};if(6===e.length)return r;try{r.v=$c.from(e[6]).toNumber()}catch(t){return console.log(t),r}if(r.r=Cc(e[7],32),r.s=Cc(e[8],32),$c.from(r.r).isZero()&&$c.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let i=r.v-27;const n=e.slice(0,6);0!==r.chainId&&(n.push(xc(r.chainId)),n.push("0x"),n.push("0x"),i-=2*r.chainId+8);const o=Kc(Ed(n));try{r.from=rv(o,{r:xc(r.r),s:xc(r.s),recoveryParam:i})}catch(t){console.log(t)}r.hash=Kc(t)}return r.type=null,r}(e);switch(e[0]){case 1:return sv(e)}return Qg.throwError("unsupported transaction type: "+e[0],Jf.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const hv=new Jf(fg);class uv{constructor(){hv.checkNew(new.target,uv),this.formats=this.getDefaultFormats()}getDefaultFormats(){const t={},e=this.address.bind(this),r=this.bigNumber.bind(this),i=this.blockTag.bind(this),n=this.data.bind(this),o=this.hash.bind(this),s=this.hex.bind(this),a=this.number.bind(this);return t.transaction={hash:o,type:uv.allowNull(a,null),accessList:uv.allowNull(this.accessList.bind(this),null),blockHash:uv.allowNull(o,null),blockNumber:uv.allowNull(a,null),transactionIndex:uv.allowNull(a,null),confirmations:uv.allowNull(a,null),from:e,gasPrice:r,gasLimit:r,to:uv.allowNull(e,null),value:r,nonce:a,data:n,r:uv.allowNull(this.uint256),s:uv.allowNull(this.uint256),v:uv.allowNull(a),creates:uv.allowNull(e,null),raw:uv.allowNull(n)},t.transactionRequest={from:uv.allowNull(e),nonce:uv.allowNull(a),gasLimit:uv.allowNull(r),gasPrice:uv.allowNull(r),to:uv.allowNull(e),value:uv.allowNull(r),data:uv.allowNull(t=>this.data(t,!0)),type:uv.allowNull(a),accessList:uv.allowNull(this.accessList.bind(this),null)},t.receiptLog={transactionIndex:a,blockNumber:a,transactionHash:o,address:e,topics:uv.arrayOf(o),data:n,logIndex:a,blockHash:o},t.receipt={to:uv.allowNull(this.address,null),from:uv.allowNull(this.address,null),contractAddress:uv.allowNull(e,null),transactionIndex:a,root:uv.allowNull(s),gasUsed:r,logsBloom:uv.allowNull(n),blockHash:o,transactionHash:o,logs:uv.arrayOf(this.receiptLog.bind(this)),blockNumber:a,confirmations:uv.allowNull(a,null),cumulativeGasUsed:r,status:uv.allowNull(a)},t.block={hash:o,parentHash:o,number:a,timestamp:a,nonce:uv.allowNull(s),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:e,extraData:n,transactions:uv.allowNull(uv.arrayOf(o))},t.blockWithTransactions=Fd(t.block),t.blockWithTransactions.transactions=uv.allowNull(uv.arrayOf(this.transactionResponse.bind(this))),t.filter={fromBlock:uv.allowNull(i,void 0),toBlock:uv.allowNull(i,void 0),blockHash:uv.allowNull(o,void 0),address:uv.allowNull(e,void 0),topics:uv.allowNull(this.topics.bind(this),void 0)},t.filterLog={blockNumber:uv.allowNull(a),blockHash:uv.allowNull(o),transactionIndex:a,removed:uv.allowNull(this.boolean.bind(this)),address:e,data:uv.allowFalsish(n,"0x"),topics:uv.arrayOf(o),transactionHash:o,logIndex:a},t}accessList(t){return ov(t||[])}number(t){return"0x"===t?0:$c.from(t).toNumber()}bigNumber(t){return $c.from(t)}boolean(t){if("boolean"==typeof t)return t;if("string"==typeof t){if("true"===(t=t.toLowerCase()))return!0;if("false"===t)return!1}throw new Error("invalid boolean - "+t)}hex(t,e){return"string"==typeof t&&(e||"0x"===t.substring(0,2)||(t="0x"+t),Ic(t))?t.toLowerCase():hv.throwArgumentError("invalid hash","value",t)}data(t,e){const r=this.hex(t,e);if(r.length%2!=0)throw new Error("invalid data; odd-length - "+t);return r}address(t){return kd(t)}callAddress(t){if(!Ic(t,32))return null;const e=kd(Oc(t,12));return"0x0000000000000000000000000000000000000000"===e?null:e}contractAddress(t){return function(t){let e=null;try{e=kd(t.from)}catch(e){Sd.throwArgumentError("missing from address","transaction",t)}return kd(Oc(Kc(Ed([e,Rc(Ac($c.from(t.nonce).toHexString()))])),12))}(t)}blockTag(t){if(null==t)return"latest";if("earliest"===t)return"0x0";if("latest"===t||"pending"===t)return t;if("number"==typeof t||Ic(t))return Pc(t);throw new Error("invalid blockTag")}hash(t,e){const r=this.hex(t,e);return 32!==kc(r)?hv.throwArgumentError("invalid hash","value",t):r}difficulty(t){if(null==t)return null;const e=$c.from(t);try{return e.toNumber()}catch(t){}return null}uint256(t){if(!Ic(t))throw new Error("invalid uint256");return Cc(t,32)}_block(t,e){return null!=t.author&&null==t.miner&&(t.miner=t.author),uv.check(e,t)}block(t){return this._block(t,this.formats.block)}blockWithTransactions(t){return this._block(t,this.formats.blockWithTransactions)}transactionRequest(t){return uv.check(this.formats.transactionRequest,t)}transactionResponse(t){null!=t.gas&&null==t.gasLimit&&(t.gasLimit=t.gas),t.to&&$c.from(t.to).isZero()&&(t.to="0x0000000000000000000000000000000000000000"),null!=t.input&&null==t.data&&(t.data=t.input),null==t.to&&null==t.creates&&(t.creates=this.contractAddress(t)),1===t.type&&null==t.accessList&&(t.accessList=[]);const e=uv.check(this.formats.transaction,t);if(null!=t.chainId){let r=t.chainId;Ic(r)&&(r=$c.from(r).toNumber()),e.chainId=r}else{let r=t.networkId;null==r&&null==e.v&&(r=t.chainId),Ic(r)&&(r=$c.from(r).toNumber()),"number"!=typeof r&&null!=e.v&&(r=(e.v-35)/2,r<0&&(r=0),r=parseInt(r)),"number"!=typeof r&&(r=0),e.chainId=r}return e.blockHash&&"x"===e.blockHash.replace(/0/g,"")&&(e.blockHash=null),e}transaction(t){return av(t)}receiptLog(t){return uv.check(this.formats.receiptLog,t)}receipt(t){const e=uv.check(this.formats.receipt,t);if(null!=e.root)if(e.root.length<=4){const t=$c.from(e.root).toNumber();0===t||1===t?(null!=e.status&&e.status!==t&&hv.throwArgumentError("alt-root-status/status mismatch","value",{root:e.root,status:e.status}),e.status=t,delete e.root):hv.throwArgumentError("invalid alt-root-status","value.root",e.root)}else 66!==e.root.length&&hv.throwArgumentError("invalid root hash","value.root",e.root);return null!=e.status&&(e.byzantium=!0),e}topics(t){return Array.isArray(t)?t.map(t=>this.topics(t)):null!=t?this.hash(t,!0):null}filter(t){return uv.check(this.formats.filter,t)}filterLog(t){return uv.check(this.formats.filterLog,t)}static check(t,e){const r={};for(const i in t)try{const n=t[i](e[i]);void 0!==n&&(r[i]=n)}catch(t){throw t.checkKey=i,t.checkValue=e[i],t}return r}static allowNull(t,e){return function(r){return null==r?e:t(r)}}static allowFalsish(t,e){return function(r){return r?t(r):e}}static arrayOf(t){return function(e){if(!Array.isArray(e))throw new Error("not an array");const r=[];return e.forEach((function(e){r.push(t(e))})),r}}}var lv=window&&window.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function s(t){try{h(i.next(t))}catch(t){o(t)}}function a(t){try{h(i.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}h((i=i.apply(t,e||[])).next())}))};const fv=new Jf(fg);function cv(t){return null==t?"null":(32!==kc(t)&&fv.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function dv(t){for(t=t.slice();t.length>0&&null==t[t.length-1];)t.pop();return t.map(t=>{if(Array.isArray(t)){const e={};t.forEach(t=>{e[cv(t)]=!0});const r=Object.keys(e);return r.sort(),r.join("|")}return cv(t)}).join("&")}function mv(t){if("string"==typeof t){if(32===kc(t=t.toLowerCase()))return"tx:"+t;if(-1===t.indexOf(":"))return t}else{if(Array.isArray(t))return"filter:*:"+dv(t);if(class extends class{constructor(t){for(const e in t)this[e]=aa(t[e])}}{static isForkEvent(t){return!(!t||!t._isForkEvent)}}.isForkEvent(t))throw fv.warn("not implemented"),new Error("not implemented");if(t&&"object"==typeof t)return"filter:"+(t.address||"*")+":"+dv(t.topics||[])}throw new Error("invalid event - "+t)}function pv(){return(new Date).getTime()}function gv(t){return new Promise(e=>{setTimeout(e,t)})}const vv=["block","network","pending","poll"];class yv{constructor(t,e,r){Pd(this,"tag",t),Pd(this,"listener",e),Pd(this,"once",r)}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const t=this.tag.split(":");return"tx"!==t[0]?null:t[1]}get filter(){const t=this.tag.split(":");if("filter"!==t[0])return null;const e=t[1],r=""===(i=t[2])?[]:i.split(/&/g).map(t=>{if(""===t)return[];const e=t.split("|").map(t=>"null"===t?null:t);return 1===e.length?e[0]:e});var i;const n={};return r.length>0&&(n.topics=r),e&&"*"!==e&&(n.address=e),n}pollable(){return this.tag.indexOf(":")>=0||vv.indexOf(this.tag)>=0}}const wv={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function bv(t){return Cc($c.from(t).toHexString(),32)}function Mv(t){return yc.encode(Sc([t,Oc(Kp(Kp(t)),0,4)]))}class Ev{constructor(t,e,r){Pd(this,"provider",t),Pd(this,"name",r),Pd(this,"address",t.formatter.address(e))}_fetchBytes(t,e){return lv(this,void 0,void 0,(function*(){const r={to:this.address,data:Tc([t,yd(this.name),e||"0x"])},i=yield this.provider.call(r);if("0x"===i)return null;const n=$c.from(Oc(i,0,32)).toNumber(),o=$c.from(Oc(i,n,n+32)).toNumber();return Oc(i,n+32,n+32+o)}))}_getAddress(t,e){const r=wv[String(t)];if(null==r&&fv.throwError("unsupported coin type: "+t,Jf.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`}),"eth"===r.ilk)return this.provider.formatter.address(e);const i=Ac(e);if(null!=r.p2pkh){const t=e.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(t){const e=parseInt(t[1],16);if(t[2].length===2*e&&e>=1&&e<=75)return Mv(Sc([[r.p2pkh],"0x"+t[2]]))}}if(null!=r.p2sh){const t=e.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(t){const e=parseInt(t[1],16);if(t[2].length===2*e&&e>=1&&e<=75)return Mv(Sc([[r.p2sh],"0x"+t[2]]))}}if(null!=r.prefix){const t=i[1];let e=i[0];if(0===e?20!==t&&32!==t&&(e=-1):e=-1,e>=0&&i.length===2+t&&t>=1&&t<=75){const t=lg.toWords(i.slice(2));return t.unshift(e),lg.encode(r.prefix,t)}}return null}getAddress(t){return lv(this,void 0,void 0,(function*(){if(null==t&&(t=60),60===t){const t={to:this.address,data:"0x3b3b57de"+yd(this.name).substring(2)},e=yield this.provider.call(t);return"0x"===e||"0x0000000000000000000000000000000000000000000000000000000000000000"===e?null:this.provider.formatter.callAddress(e)}const e=yield this._fetchBytes("0xf1cb7e06",bv(t));if(null==e||"0x"===e)return null;const r=this._getAddress(t,e);return null==r&&fv.throwError("invalid or unsupported coin data",Jf.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`,coinType:t,data:e}),r}))}getContentHash(){return lv(this,void 0,void 0,(function*(){const t=yield this._fetchBytes("0xbc1c58d1");if(null==t||"0x"===t)return null;const e=t.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const t=parseInt(e[3],16);if(e[4].length===2*t)return"ipfs://"+yc.encode("0x"+e[1])}const r=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);return r&&64===r[1].length?"bzz://"+r[1]:fv.throwError("invalid or unsupported content hash data",Jf.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:t})}))}getText(t){return lv(this,void 0,void 0,(function*(){let e=Qc(t);e=Sc([bv(64),bv(e.length),e]),e.length%32!=0&&(e=Sc([e,Cc("0x",32-t.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",xc(e));return null==r||"0x"===r?null:ed(r)}))}}let _v=null,Nv=1;class Av extends ua{constructor(t){if(fv.checkNew(new.target,ua),super(),this._events=[],this._emitted={block:-2},this.formatter=new.target.getFormatter(),Pd(this,"anyNetwork","any"===t),this.anyNetwork&&(t=this.detectNetwork()),t instanceof Promise)this._networkPromise=t,t.catch(t=>{}),this._ready().catch(t=>{});else{const e=Cd(new.target,"getNetwork")(t);e?(Pd(this,"_network",e),this.emit("network",e,null)):fv.throwArgumentError("invalid network","network",t)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return lv(this,void 0,void 0,(function*(){if(null==this._network){let t=null;if(this._networkPromise)try{t=yield this._networkPromise}catch(t){}null==t&&(t=yield this.detectNetwork()),t||fv.throwError("no network detected",Jf.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=t:Pd(this,"_network",t),this.emit("network",t,null))}return this._network}))}get ready(){return eg(()=>this._ready().then(t=>t,t=>{if(t.code!==Jf.errors.NETWORK_ERROR||"noNetwork"!==t.event)throw t}))}static getFormatter(){return null==_v&&(_v=new uv),_v}static getNetwork(t){return function(t){if(null==t)return null;if("number"==typeof t){for(const e in ic){const r=ic[e];if(r.chainId===t)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:t,name:"unknown"}}if("string"==typeof t){const e=ic[t];return null==e?null:{name:e.name,chainId:e.chainId,ensAddress:e.ensAddress,_defaultProvider:e._defaultProvider||null}}const e=ic[t.name];if(!e)return"number"!=typeof t.chainId&&Xf.throwArgumentError("invalid network chainId","network",t),t;0!==t.chainId&&t.chainId!==e.chainId&&Xf.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;var i;return null==r&&e._defaultProvider&&(r=(i=e._defaultProvider)&&"function"==typeof i.renetwork?e._defaultProvider.renetwork(t):e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}(null==t?"homestead":t)}_getInternalBlockNumber(t){return lv(this,void 0,void 0,(function*(){if(yield this._ready(),t>0)for(;this._internalBlockNumber;){const e=this._internalBlockNumber;try{const r=yield e;if(pv()-r.respTime<=t)return r.blockNumber;break}catch(t){if(this._internalBlockNumber===e)break}}const e=pv(),r=Ud({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(t=>null,t=>t)}).then(({blockNumber:t,networkError:i})=>{if(i)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),i;const n=pv();return(t=$c.from(t).toNumber())<this._maxInternalBlockNumber&&(t=this._maxInternalBlockNumber),this._maxInternalBlockNumber=t,this._setFastBlockNumber(t),{blockNumber:t,reqTime:e,respTime:n}});return this._internalBlockNumber=r,r.catch(t=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)}),(yield r).blockNumber}))}poll(){return lv(this,void 0,void 0,(function*(){const t=Nv++,e=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(t){return void this.emit("error",t)}if(this._setFastBlockNumber(r),this.emit("poll",t,r),r!==this._lastBlockNumber){if(-2===this._emitted.block&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)fv.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",fv.makeError("network block skew detected",Jf.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let t=this._emitted.block+1;t<=r;t++)this.emit("block",t);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(t=>{if("block"===t)return;const e=this._emitted[t];"pending"!==e&&r-e>12&&delete this._emitted[t]})),-2===this._lastBlockNumber&&(this._lastBlockNumber=r-1),this._events.forEach(t=>{switch(t.type){case"tx":{const r=t.hash;let i=this.getTransactionReceipt(r).then(t=>t&&null!=t.blockNumber?(this._emitted["t:"+r]=t.blockNumber,this.emit(r,t),null):null).catch(t=>{this.emit("error",t)});e.push(i);break}case"filter":{const i=t.filter;i.fromBlock=this._lastBlockNumber+1,i.toBlock=r;const n=this.getLogs(i).then(t=>{0!==t.length&&t.forEach(t=>{this._emitted["b:"+t.blockHash]=t.blockNumber,this._emitted["t:"+t.transactionHash]=t.blockNumber,this.emit(i,t)})}).catch(t=>{this.emit("error",t)});e.push(n);break}}}),this._lastBlockNumber=r,Promise.all(e).then(()=>{this.emit("didPoll",t)}).catch(t=>{this.emit("error",t)})}else this.emit("didPoll",t)}))}resetEventsBlock(t){this._lastBlockNumber=t-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return lv(this,void 0,void 0,(function*(){return fv.throwError("provider does not support network detection",Jf.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})}))}getNetwork(){return lv(this,void 0,void 0,(function*(){const t=yield this._ready(),e=yield this.detectNetwork();if(t.chainId!==e.chainId){if(this.anyNetwork)return this._network=e,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",e,t),yield gv(0),this._network;const r=fv.makeError("underlying network changed",Jf.errors.NETWORK_ERROR,{event:"changed",network:t,detectedNetwork:e});throw this.emit("error",r),r}return t}))}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(t=>{this._setFastBlockNumber(t)},t=>{}),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(t){t&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!t&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(t){if("number"!=typeof t||t<=0||parseInt(String(t))!=t)throw new Error("invalid polling interval");this._pollingInterval=t,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const t=pv();return t-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=t,this._fastBlockNumberPromise=this.getBlockNumber().then(t=>((null==this._fastBlockNumber||t>this._fastBlockNumber)&&(this._fastBlockNumber=t),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(t){null!=this._fastBlockNumber&&t<this._fastBlockNumber||(this._fastQueryDate=pv(),(null==this._fastBlockNumber||t>this._fastBlockNumber)&&(this._fastBlockNumber=t,this._fastBlockNumberPromise=Promise.resolve(t)))}waitForTransaction(t,e,r){return lv(this,void 0,void 0,(function*(){return this._waitForTransaction(t,null==e?1:e,r||0,null)}))}_waitForTransaction(t,e,r,i){return lv(this,void 0,void 0,(function*(){const n=yield this.getTransactionReceipt(t);return(n?n.confirmations:0)>=e?n:new Promise((n,o)=>{const s=[];let a=!1;const h=function(){return!!a||(a=!0,s.forEach(t=>{t()}),!1)},u=t=>{t.confirmations<e||h()||n(t)};if(this.on(t,u),s.push(()=>{this.removeListener(t,u)}),i){let r=i.startBlock,n=null;const u=s=>lv(this,void 0,void 0,(function*(){a||(yield gv(1e3),this.getTransactionCount(i.from).then(l=>lv(this,void 0,void 0,(function*(){if(!a){if(l<=i.nonce)r=s;else{{const e=yield this.getTransaction(t);if(e&&null!=e.blockNumber)return}for(null==n&&(n=r-3,n<i.startBlock&&(n=i.startBlock));n<=s;){if(a)return;const r=yield this.getBlockWithTransactions(n);for(let n=0;n<r.transactions.length;n++){const s=r.transactions[n];if(s.hash===t)return;if(s.from===i.from&&s.nonce===i.nonce){if(a)return;const r=yield this.waitForTransaction(s.hash,e);if(h())return;let n="replaced";return s.data===i.data&&s.to===i.to&&s.value.eq(i.value)?n="repriced":"0x"===s.data&&s.from===s.to&&s.value.isZero()&&(n="cancelled"),void o(fv.makeError("transaction was replaced",Jf.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===n||"cancelled"===n,reason:n,replacement:this._wrapTransaction(s),hash:t,receipt:r}))}}n++}}a||this.once("block",u)}})),t=>{a||this.once("block",u)}))}));if(a)return;this.once("block",u),s.push(()=>{this.removeListener("block",u)})}if("number"==typeof r&&r>0){const t=setTimeout(()=>{h()||o(fv.makeError("timeout exceeded",Jf.errors.TIMEOUT,{timeout:r}))},r);t.unref&&t.unref(),s.push(()=>{clearTimeout(t)})}})}))}getBlockNumber(){return lv(this,void 0,void 0,(function*(){return this._getInternalBlockNumber(0)}))}getGasPrice(){return lv(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield this.perform("getGasPrice",{});try{return $c.from(t)}catch(e){return fv.throwError("bad result from backend",Jf.errors.SERVER_ERROR,{method:"getGasPrice",result:t,error:e})}}))}getBalance(t,e){return lv(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield Ud({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),i=yield this.perform("getBalance",r);try{return $c.from(i)}catch(t){return fv.throwError("bad result from backend",Jf.errors.SERVER_ERROR,{method:"getBalance",params:r,result:i,error:t})}}))}getTransactionCount(t,e){return lv(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield Ud({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),i=yield this.perform("getTransactionCount",r);try{return $c.from(i).toNumber()}catch(t){return fv.throwError("bad result from backend",Jf.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:i,error:t})}}))}getCode(t,e){return lv(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield Ud({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),i=yield this.perform("getCode",r);try{return xc(i)}catch(t){return fv.throwError("bad result from backend",Jf.errors.SERVER_ERROR,{method:"getCode",params:r,result:i,error:t})}}))}getStorageAt(t,e,r){return lv(this,void 0,void 0,(function*(){yield this.getNetwork();const i=yield Ud({address:this._getAddress(t),blockTag:this._getBlockTag(r),position:Promise.resolve(e).then(t=>Pc(t))}),n=yield this.perform("getStorageAt",i);try{return xc(n)}catch(t){return fv.throwError("bad result from backend",Jf.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:n,error:t})}}))}_wrapTransaction(t,e,r){if(null!=e&&32!==kc(e))throw new Error("invalid response - sendTransaction");const i=t;return null!=e&&t.hash!==e&&fv.throwError("Transaction hash mismatch from Provider.sendTransaction.",Jf.errors.UNKNOWN_ERROR,{expectedHash:t.hash,returnedHash:e}),i.wait=(e,i)=>lv(this,void 0,void 0,(function*(){null==e&&(e=1),null==i&&(i=0);let n=void 0;0!==e&&null!=r&&(n={data:t.data,from:t.from,nonce:t.nonce,to:t.to,value:t.value,startBlock:r});const o=yield this._waitForTransaction(t.hash,e,i,n);return null==o&&0===e?null:(this._emitted["t:"+t.hash]=o.blockNumber,0===o.status&&fv.throwError("transaction failed",Jf.errors.CALL_EXCEPTION,{transactionHash:t.hash,transaction:t,receipt:o}),o)})),i}sendTransaction(t){return lv(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield Promise.resolve(t).then(t=>xc(t)),r=this.formatter.transaction(t),i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const t=yield this.perform("sendTransaction",{signedTransaction:e});return this._wrapTransaction(r,t,i)}catch(t){throw t.transaction=r,t.transactionHash=r.hash,t}}))}_getTransactionRequest(t){return lv(this,void 0,void 0,(function*(){const e=yield t,r={};return["from","to"].forEach(t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then(t=>t?this._getAddress(t):null))}),["gasLimit","gasPrice","value"].forEach(t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then(t=>t?$c.from(t):null))}),["type"].forEach(t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then(t=>null!=t?t:null))}),e.accessList&&(r.accessList=this.formatter.accessList(e.accessList)),["data"].forEach(t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then(t=>t?xc(t):null))}),this.formatter.transactionRequest(yield Ud(r))}))}_getFilter(t){return lv(this,void 0,void 0,(function*(){t=yield t;const e={};return null!=t.address&&(e.address=this._getAddress(t.address)),["blockHash","topics"].forEach(r=>{null!=t[r]&&(e[r]=t[r])}),["fromBlock","toBlock"].forEach(r=>{null!=t[r]&&(e[r]=this._getBlockTag(t[r]))}),this.formatter.filter(yield Ud(e))}))}call(t,e){return lv(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield Ud({transaction:this._getTransactionRequest(t),blockTag:this._getBlockTag(e)}),i=yield this.perform("call",r);try{return xc(i)}catch(t){return fv.throwError("bad result from backend",Jf.errors.SERVER_ERROR,{method:"call",params:r,result:i,error:t})}}))}estimateGas(t){return lv(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield Ud({transaction:this._getTransactionRequest(t)}),r=yield this.perform("estimateGas",e);try{return $c.from(r)}catch(t){return fv.throwError("bad result from backend",Jf.errors.SERVER_ERROR,{method:"estimateGas",params:e,result:r,error:t})}}))}_getAddress(t){return lv(this,void 0,void 0,(function*(){const e=yield this.resolveName(t);return null==e&&fv.throwError("ENS name not configured",Jf.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(t)})`}),e}))}_getBlock(t,e){return lv(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;let r=-128;const i={includeTransactions:!!e};if(Ic(t,32))i.blockHash=t;else try{i.blockTag=this.formatter.blockTag(yield this._getBlockTag(t)),Ic(i.blockTag)&&(r=parseInt(i.blockTag.substring(2),16))}catch(e){fv.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",t)}return eg(()=>lv(this,void 0,void 0,(function*(){const t=yield this.perform("getBlock",i);if(null==t)return null!=i.blockHash&&null==this._emitted["b:"+i.blockHash]||null!=i.blockTag&&r>this._emitted.block?null:void 0;if(e){let e=null;for(let r=0;r<t.transactions.length;r++){const i=t.transactions[r];if(null==i.blockNumber)i.confirmations=0;else if(null==i.confirmations){null==e&&(e=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let t=e-i.blockNumber+1;t<=0&&(t=1),i.confirmations=t}}return this.formatter.blockWithTransactions(t)}return this.formatter.block(t)})),{oncePoll:this})}))}getBlock(t){return this._getBlock(t,!1)}getBlockWithTransactions(t){return this._getBlock(t,!0)}getTransaction(t){return lv(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;const e={transactionHash:this.formatter.hash(t,!0)};return eg(()=>lv(this,void 0,void 0,(function*(){const r=yield this.perform("getTransaction",e);if(null==r)return null==this._emitted["t:"+t]?null:void 0;const i=this.formatter.transactionResponse(r);if(null==i.blockNumber)i.confirmations=0;else if(null==i.confirmations){let t=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;t<=0&&(t=1),i.confirmations=t}return this._wrapTransaction(i)})),{oncePoll:this})}))}getTransactionReceipt(t){return lv(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;const e={transactionHash:this.formatter.hash(t,!0)};return eg(()=>lv(this,void 0,void 0,(function*(){const r=yield this.perform("getTransactionReceipt",e);if(null==r)return null==this._emitted["t:"+t]?null:void 0;if(null==r.blockHash)return;const i=this.formatter.receipt(r);if(null==i.blockNumber)i.confirmations=0;else if(null==i.confirmations){let t=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;t<=0&&(t=1),i.confirmations=t}return i})),{oncePoll:this})}))}getLogs(t){return lv(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield Ud({filter:this._getFilter(t)}),r=yield this.perform("getLogs",e);return r.forEach(t=>{null==t.removed&&(t.removed=!1)}),uv.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)}))}getEtherPrice(){return lv(this,void 0,void 0,(function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})}))}_getBlockTag(t){return lv(this,void 0,void 0,(function*(){if("number"==typeof(t=yield t)&&t<0){t%1&&fv.throwArgumentError("invalid BlockTag","blockTag",t);let e=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return e+=t,e<0&&(e=0),this.formatter.blockTag(e)}return this.formatter.blockTag(t)}))}getResolver(t){return lv(this,void 0,void 0,(function*(){const e=yield this._getResolver(t);return null==e?null:new Ev(this,e,t)}))}_getResolver(t){return lv(this,void 0,void 0,(function*(){const e=yield this.getNetwork();e.ensAddress||fv.throwError("network does not support ENS",Jf.errors.UNSUPPORTED_OPERATION,{operation:"ENS",network:e.name});const r={to:e.ensAddress,data:"0x0178b8bf"+yd(t).substring(2)};return this.formatter.callAddress(yield this.call(r))}))}resolveName(t){return lv(this,void 0,void 0,(function*(){t=yield t;try{return Promise.resolve(this.formatter.address(t))}catch(e){if(Ic(t))throw e}"string"!=typeof t&&fv.throwArgumentError("invalid ENS name","name",t);const e=yield this.getResolver(t);return e?yield e.getAddress():null}))}lookupAddress(t){return lv(this,void 0,void 0,(function*(){t=yield t;const e=(t=this.formatter.address(t)).substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(e);if(!r)return null;let i=Ac(yield this.call({to:r,data:"0x691f3431"+yd(e).substring(2)}));if(i.length<32||!$c.from(i.slice(0,32)).eq(32))return null;if(i=i.slice(32),i.length<32)return null;const n=$c.from(i.slice(0,32)).toNumber();if(i=i.slice(32),n>i.length)return null;const o=ed(i.slice(0,n));return(yield this.resolveName(o))!=t?null:o}))}perform(t,e){return fv.throwError(t+" not implemented",Jf.errors.NOT_IMPLEMENTED,{operation:t})}_startEvent(t){this.polling=this._events.filter(t=>t.pollable()).length>0}_stopEvent(t){this.polling=this._events.filter(t=>t.pollable()).length>0}_addEventListener(t,e,r){const i=new yv(mv(t),e,r);return this._events.push(i),this._startEvent(i),this}on(t,e){return this._addEventListener(t,e,!1)}once(t,e){return this._addEventListener(t,e,!0)}emit(t,...e){let r=!1,i=[],n=mv(t);return this._events=this._events.filter(t=>t.tag!==n||(setTimeout(()=>{t.listener.apply(this,e)},0),r=!0,!t.once||(i.push(t),!1))),i.forEach(t=>{this._stopEvent(t)}),r}listenerCount(t){if(!t)return this._events.length;let e=mv(t);return this._events.filter(t=>t.tag===e).length}listeners(t){if(null==t)return this._events.map(t=>t.listener);let e=mv(t);return this._events.filter(t=>t.tag===e).map(t=>t.listener)}off(t,e){if(null==e)return this.removeAllListeners(t);const r=[];let i=!1,n=mv(t);return this._events=this._events.filter(t=>t.tag!==n||t.listener!=e||(!!i||(i=!0,r.push(t),!1))),r.forEach(t=>{this._stopEvent(t)}),this}removeAllListeners(t){let e=[];if(null==t)e=this._events,this._events=[];else{const r=mv(t);this._events=this._events.filter(t=>t.tag!==r||(e.push(t),!1))}return e.forEach(t=>{this._stopEvent(t)}),this}}var Sv=window&&window.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function s(t){try{h(i.next(t))}catch(t){o(t)}}function a(t){try{h(i.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}h((i=i.apply(t,e||[])).next())}))};const Rv=new Jf(fg),Iv=["call","estimateGas"];function xv(t,e,r){if("call"===t&&e.code===Jf.errors.SERVER_ERROR){const t=e.error;if(t&&t.message.match("reverted")&&Ic(t.data))return t.data}let i=e.message;e.code===Jf.errors.SERVER_ERROR&&e.error&&"string"==typeof e.error.message?i=e.error.message:"string"==typeof e.body?i=e.body:"string"==typeof e.responseText&&(i=e.responseText),i=(i||"").toLowerCase();const n=r.transaction||r.signedTransaction;throw i.match(/insufficient funds/)&&Rv.throwError("insufficient funds for intrinsic transaction cost",Jf.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce too low/)&&Rv.throwError("nonce has already been used",Jf.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced/)&&Rv.throwError("replacement fee too low",Jf.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/)&&Rv.throwError("legacy pre-eip-155 transactions not supported",Jf.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),Iv.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&Rv.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Jf.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function kv(t){return new Promise((function(e){setTimeout(e,t)}))}function Ov(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function Tv(t){return t?t.toLowerCase():t}const Pv={};class Cv extends Sa{constructor(t,e,r){if(Rv.checkNew(new.target,Cv),super(),t!==Pv)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Pd(this,"provider",e),null==r&&(r=0),"string"==typeof r?(Pd(this,"_address",this.provider.formatter.address(r)),Pd(this,"_index",null)):"number"==typeof r?(Pd(this,"_index",r),Pd(this,"_address",null)):Rv.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(t){return Rv.throwError("cannot alter JSON-RPC Signer connection",Jf.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new Uv(Pv,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(t=>(t.length<=this._index&&Rv.throwError("unknown account #"+this._index,Jf.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(t[this._index])))}sendUncheckedTransaction(t){t=Fd(t);const e=this.getAddress().then(t=>(t&&(t=t.toLowerCase()),t));if(null==t.gasLimit){const r=Fd(t);r.from=e,t.gasLimit=this.provider.estimateGas(r)}return Ud({tx:Ud(t),sender:e}).then(({tx:e,sender:r})=>{null!=e.from?e.from.toLowerCase()!==r&&Rv.throwArgumentError("from address mismatch","transaction",t):e.from=r;const i=this.provider.constructor.hexlifyTransaction(e,{from:!0});return this.provider.send("eth_sendTransaction",[i]).then(t=>t,t=>xv("sendTransaction",t,i))})}signTransaction(t){return Rv.throwError("signing transactions is unsupported",Jf.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(t){return Sv(this,void 0,void 0,(function*(){const e=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(t);try{return yield eg(()=>Sv(this,void 0,void 0,(function*(){const t=yield this.provider.getTransaction(r);if(null!==t)return this.provider._wrapTransaction(t,r,e)})),{oncePoll:this.provider})}catch(t){throw t.transactionHash=r,t}}))}signMessage(t){return Sv(this,void 0,void 0,(function*(){const e="string"==typeof t?Qc(t):t,r=yield this.getAddress();return yield this.provider.send("eth_sign",[r.toLowerCase(),xc(e)])}))}_signTypedData(t,e,r){return Sv(this,void 0,void 0,(function*(){const i=yield em.resolveNames(t,e,r,t=>this.provider.resolveName(t)),n=yield this.getAddress();return yield this.provider.send("eth_signTypedData_v4",[n.toLowerCase(),JSON.stringify(em.getPayload(i.domain,e,i.value))])}))}unlock(t){return Sv(this,void 0,void 0,(function*(){const e=this.provider,r=yield this.getAddress();return e.send("personal_unlockAccount",[r.toLowerCase(),t,null])}))}}class Uv extends Cv{sendTransaction(t){return this.sendUncheckedTransaction(t).then(t=>({hash:t,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:e=>this.provider.waitForTransaction(t,e)}))}}const Fv={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0};class Bv extends Av{constructor(t,e){Rv.checkNew(new.target,Bv);let r=e;null==r&&(r=new Promise((t,e)=>{setTimeout(()=>{this.detectNetwork().then(e=>{t(e)},t=>{e(t)})},0)})),super(r),t||(t=Cd(this.constructor,"defaultUrl")()),Pd(this,"connection","string"==typeof t?Object.freeze({url:t}):Object.freeze(Fd(t))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Sv(this,void 0,void 0,(function*(){yield kv(0);let t=null;try{t=yield this.send("eth_chainId",[])}catch(e){try{t=yield this.send("net_version",[])}catch(t){}}if(null!=t){const e=Cd(this.constructor,"getNetwork");try{return e($c.from(t).toNumber())}catch(e){return Rv.throwError("could not detect network",Jf.errors.NETWORK_ERROR,{chainId:t,event:"invalidNetwork",serverError:e})}}return Rv.throwError("could not detect network",Jf.errors.NETWORK_ERROR,{event:"noNetwork"})}))}getSigner(t){return new Cv(Pv,this,t)}getUncheckedSigner(t){return this.getSigner(t).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(t=>t.map(t=>this.formatter.address(t)))}send(t,e){const r={method:t,params:e,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Ld(r),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(t)>=0;if(i&&this._cache[t])return this._cache[t];const n=tg(this.connection,JSON.stringify(r),Ov).then(t=>(this.emit("debug",{action:"response",request:r,response:t,provider:this}),t),t=>{throw this.emit("debug",{action:"response",error:t,request:r,provider:this}),t});return i&&(this._cache[t]=n,setTimeout(()=>{this._cache[t]=null},0)),n}prepareRequest(t,e){switch(t){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Tv(e.address),e.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Tv(e.address),e.blockTag]];case"getCode":return["eth_getCode",[Tv(e.address),e.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Tv(e.address),e.position,e.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[e.signedTransaction]];case"getBlock":return e.blockTag?["eth_getBlockByNumber",[e.blockTag,!!e.includeTransactions]]:e.blockHash?["eth_getBlockByHash",[e.blockHash,!!e.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[e.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[e.transactionHash]];case"call":return["eth_call",[Cd(this.constructor,"hexlifyTransaction")(e.transaction,{from:!0}),e.blockTag]];case"estimateGas":return["eth_estimateGas",[Cd(this.constructor,"hexlifyTransaction")(e.transaction,{from:!0})]];case"getLogs":return e.filter&&null!=e.filter.address&&(e.filter.address=Tv(e.filter.address)),["eth_getLogs",[e.filter]]}return null}perform(t,e){return Sv(this,void 0,void 0,(function*(){const r=this.prepareRequest(t,e);null==r&&Rv.throwError(t+" not implemented",Jf.errors.NOT_IMPLEMENTED,{operation:t});try{return yield this.send(r[0],r[1])}catch(r){return xv(t,r,e)}}))}_startEvent(t){"pending"===t.tag&&this._startPending(),super._startEvent(t)}_startPending(){if(null!=this._pendingFilter)return;const t=this,e=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=e,e.then((function(r){return function i(){t.send("eth_getFilterChanges",[r]).then((function(r){if(t._pendingFilter!=e)return null;let i=Promise.resolve();return r.forEach((function(e){t._emitted["t:"+e.toLowerCase()]="pending",i=i.then((function(){return t.getTransaction(e).then((function(e){return t.emit("pending",e),null}))}))})),i.then((function(){return kv(1e3)}))})).then((function(){if(t._pendingFilter==e)return setTimeout((function(){i()}),0),null;t.send("eth_uninstallFilter",[r])})).catch(t=>{})}(),r})).catch(t=>{})}_stopEvent(t){"pending"===t.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(t)}static hexlifyTransaction(t,e){const r=Fd(Fv);if(e)for(const t in e)e[t]&&(r[t]=!0);!function(t,e){t&&"object"==typeof t||Td.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||Td.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}(t,r);const i={};return["gasLimit","gasPrice","type","nonce","value"].forEach((function(e){if(null==t[e])return;const r=Pc(t[e]);"gasLimit"===e&&(e="gas"),i[e]=r})),["from","to","data"].forEach((function(e){null!=t[e]&&(i[e]=xc(t[e]))})),t.accessList&&(i.accessList=ov(t.accessList)),i}}var Dv=window&&window.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function s(t){try{h(i.next(t))}catch(t){o(t)}}function a(t){try{h(i.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}h((i=i.apply(t,e||[])).next())}))};const Lv=new Jf(fg);class $v extends Bv{detectNetwork(){const t=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return Dv(this,void 0,void 0,(function*(){let e=this.network;return null==e&&(e=yield t.detectNetwork.call(this),e||Lv.throwError("no network detected",Jf.errors.UNKNOWN_ERROR,{}),null==this._network&&(Pd(this,"_network",e),this.emit("network",e,null))),e}))}}var jv={1:{key:"1",name:"Ethereum Mainnet",chainId:1,network:"homestead",multicall:"0xeefba1e63905ef1d7acba5a8513c70307c1ce441",rpc:[{url:"https://api-geth-archive.ankr.com",user:"balancer_user",password:"balancerAnkr20201015"},"https://speedy-nodes-nyc.moralis.io/b9aed21e7bb7bdeb35972c9a/eth/mainnet/archive","https://apis.ankr.com/e62bc219f9c9462b8749defe472d2dc5/6106d4a3ec1d1bcc87ec72158f8fd089/eth/archive/main","https://eth-archival.gateway.pokt.network/v1/5f76124fb90218002e9ce985","https://eth-mainnet.alchemyapi.io/v2/4bdDVB5QAaorY2UE-GBUbM2yQB3QJqzv","https://cloudflare-eth.com"],ws:["wss://eth-mainnet.ws.alchemyapi.io/v2/4bdDVB5QAaorY2UE-GBUbM2yQB3QJqzv"],explorer:"https://etherscan.io"},3:{key:"3",name:"Ethereum Testnet Ropsten",shortName:"Ropsten",chainId:3,network:"ropsten",testnet:!0,multicall:"0x53c43764255c17bd724f74c4ef150724ac50a3ed",rpc:["https://eth-ropsten.alchemyapi.io/v2/QzGz6gdkpTyDzebi3PjxIaKO7bDTGnSy"],explorer:"https://ropsten.etherscan.io"},4:{key:"4",name:"Ethereum Testnet Rinkeby",shortName:"Rinkeby",chainId:4,network:"rinkeby",testnet:!0,multicall:"0x42ad527de7d4e9d9d011ac45b31d8551f8fe9821",rpc:["https://eth-rinkeby.alchemyapi.io/v2/ugiPEBqMebLQbjro42kalZ1h4StpW_fR","https://eth-rinkeby.gateway.pokt.network/v1/5f76124fb90218002e9ce985"],ws:["wss://eth-rinkeby.ws.alchemyapi.io/v2/twReQE9Px03E-E_N_Fbb3OVF7YgHxoGq"],explorer:"https://rinkeby.etherscan.io"},5:{key:"5",name:"Ethereum Testnet Grli",shortName:"Grli",chainId:5,network:"goerli",testnet:!0,multicall:"0x77dca2c955b15e9de4dbbcf1246b4b85b651e50e",rpc:["https://eth-goerli.alchemyapi.io/v2/v4nqH_J-J3STit45Mm07TxuYexMHQsYZ"],explorer:"https://goerli.etherscan.io"},7:{key:"7",name:"ThaiChain",chainId:7,network:"mainnet",multicall:"0xB9cb900E526e7Ad32A2f26f1fF6Dee63350fcDc5",rpc:["https://rpc.dome.cloud"],ws:["wss://ws.dome.cloud"],explorer:"https://exp.tch.in.th"},30:{key:"30",name:"RSK Mainnet",chainId:30,network:"rsk mainnet",multicall:"0x4eeebb5580769ba6d26bfd07be636300076d1831",rpc:["https://public-node.rsk.co"],explorer:"https://explorer.rsk.co"},31:{key:"31",name:"RSK Testnet",chainId:31,network:"rsk testnet",testnet:!0,multicall:"0x4eeebb5580769ba6d26bfd07be636300076d1831",rpc:["https://public-node.testnet.rsk.co"],explorer:"https://explorer.testnet.rsk.co"},42:{key:"42",name:"Ethereum Testnet Kovan",shortName:"Kovan",chainId:42,network:"kovan",testnet:!0,multicall:"0x2cc8688c5f75e365aaeeb4ea8d6a480405a48d2a",rpc:["https://speedy-nodes-nyc.moralis.io/b9aed21e7bb7bdeb35972c9a/eth/kovan/archive","https://eth-kovan.alchemyapi.io/v2/sR9qngOH3w78GAaTtlTe8GwEnij0SnEa","https://eth-kovan.alchemyapi.io/v2/s96TIUFYg0LuddgpmafA040ZyUaZbrpM","https://poa-kovan.gateway.pokt.network/v1/5f76124fb90218002e9ce985"],ws:["wss://eth-kovan.ws.alchemyapi.io/v2/QCsM2iU0bQ49eGDmZ7-Y--Wpu0lVWXSO"],explorer:"https://kovan.etherscan.io"},50:{key:"50",name:"XinFin MainNet",shortName:"XDC",chainId:50,network:"mainnet",multicall:"",rpc:["https://rpc.xinfin.network"],ws:["wss://ws.xinfin.network"],explorer:"http://explorer.xinfin.network/"},56:{key:"56",name:"Binance Smart Chain Mainnet",shortName:"BSC",chainId:56,network:"mainnet",multicall:"0x1ee38d535d541c55c9dae27b12edf090c608e6fb",rpc:["https://speedy-nodes-nyc.moralis.io/b9aed21e7bb7bdeb35972c9a/bsc/mainnet/archive","https://apis.ankr.com/c0d871dd3c6d4529b01c9362a9b79e89/6106d4a3ec1d1bcc87ec72158f8fd089/binance/archive/main","https://bsc.getblock.io/mainnet/?api_key=91f8195f-bf46-488f-846a-73d6853790e7","https://bsc-private-dataseed1.nariox.org","https://bsc-private-dataseed2.nariox.org","https://bsc-dataseed1.ninicoin.io","https://bsc-dataseed1.binance.org","https://bsc-dataseed2.binance.org","https://bsc-dataseed3.binance.org"],explorer:"https://bscscan.com"},61:{key:"61",name:"Ethereum Classic Mainnet",shortName:"Ethereum Classic",chainId:61,network:"mainnet",multicall:"",rpc:["https://ethereumclassic.network"],explorer:"https://blockscout.com/etc/mainnet"},65:{key:"65",name:"OKExChain Testnet",shortName:"OEC Testnet",chainId:65,network:"oec testnet",testnet:!0,multicall:"0x04c68A7fB750ca0Ba232105B3b094926a0f77645",rpc:["https://exchaintestrpc.okex.org"],ws:["wss://exchaintestws.okex.org:8443"],explorer:"https://www.oklink.com/okexchain-test"},66:{key:"66",name:"OKExChain Mainnet",shortName:"OEC Mainnet",chainId:66,network:"oec mainnet",multicall:"0x6EB187d8197Ac265c945b69f3c3064A6f3831866",rpc:["https://exchainrpc.okex.org"],ws:["wss://exchainws.okex.org:8443"],explorer:"https://www.oklink.com/okexchain"},70:{key:"70",name:"Hoo Smart Chain Mainnet",shortName:"hsc",chainId:70,network:"Mainnet",multicall:"0xd4b794b89baccb70ef851830099bee4d69f19ebc",rpc:["https://http-mainnet2.hoosmartchain.com"],ws:["wss://ws-mainnet2.hoosmartchain.com"],explorer:"https://hscscan.com"},80:{key:"80",name:"GeneChain",chainId:80,network:"Mainnet",multicall:"0x9e6ed491171A0D9089892aA5F14800f9f32038eb",rpc:["https://rpc.genechain.io"],explorer:"https://scan.genechain.io"},82:{key:"82",name:"Meter Mainnet",shortName:"Meter",chainId:82,network:"mainnet",multicall:"0x579De77CAEd0614e3b158cb738fcD5131B9719Ae",rpc:["https://rpc.meter.io"],explorer:"https://scan.meter.io"},97:{key:"97",name:"Binance Smart Chain Testnet",shortName:"BSC Testnet",chainId:97,network:"testnet",testnet:!0,multicall:"0x8b54247c6BAe96A6ccAFa468ebae96c4D7445e46",rpc:["https://speedy-nodes-nyc.moralis.io/f2963e29bec0de5787da3164/bsc/testnet/archive","https://data-seed-prebsc-1-s1.binance.org:8545"],explorer:"https://testnet.bscscan.com"},99:{key:"99",name:"POA Core",shortName:"POA",chainId:99,network:"mainnet",multicall:"",rpc:["https://core.poa.network"],explorer:"https://blockscout.com/poa/core/"},100:{key:"100",name:"xDAI Chain",shortName:"xDAI",chainId:100,network:"mainnet",multicall:"0xb5b692a88bdfc81ca69dcb1d924f59f0413a602a",rpc:["https://xdai-archive.blockscout.com","https://poa-xdai.gateway.pokt.network/v1/5f76124fb90218002e9ce985"],ws:["wss://rpc.xdaichain.com/wss"],explorer:"https://blockscout.com/poa/xdai"},106:{key:"106",name:"Velas EVM Mainnet",shortName:"Velas",chainId:106,network:"mainnet",multicall:"0x597Cc7c49a8e0041d3A43ec8D7dc651b47879108",rpc:["https://evmexplorer.velas.com/rpc","https://explorer.velas.com/rpc"],ws:["wss://api.velas.com"],explorer:"https://evmexplorer.velas.com"},108:{key:"108",name:"Thundercore Mainnet",chainId:108,network:"mainnet",multicall:"",rpc:["https://mainnet-rpc.thundercore.com"],explorer:"https://scan.thundercore.com"},111:{key:"111",name:"Velas EVM Testnet",shortName:"Velas Testnet",chainId:111,network:"testnet",testnet:!0,multicall:"0x55a827538FbF41b7334Dd49001220597898Ad954",rpc:["https://evmexplorer.testnet.velas.com/rpc","https://explorer.testnet.velas.com/rpc"],ws:["wss://api.testnet.velas.com"],explorer:"https://evmexplorer.testnet.velas.com"},122:{key:"122",name:"Fuse Mainnet",shortName:"Fuse",chainId:122,network:"mainnet",multicall:"0x7a59441fb06666F6d2D766393d876945D06a169c",rpc:["https://oefusefull1.liquify.info/"],explorer:"https://explorer.fuse.io"},128:{key:"128",name:"Huobi Eco Chain Mainnet",shortName:"heco",chainId:128,network:"Mainnet",multicall:"0x37ab26db3df780e7026f3e767f65efb739f48d8e",rpc:["https://pub001.hg.network/rpc"],ws:["wss://pub001.hg.network/ws"],explorer:"https://hecoinfo.com"},137:{key:"137",name:"Polygon Mainnet",shortName:"Polygon",chainId:137,network:"mainnet",multicall:"0xCBca837161be50EfA5925bB9Cc77406468e76751",rpc:["https://speedy-nodes-nyc.moralis.io/f2963e29bec0de5787da3164/polygon/mainnet/archive","https://rpc-mainnet.maticvigil.com/v1/1cfd7598e5ba6dcf0b4db58e8be484badc6ea08e","https://speedy-nodes-nyc.moralis.io/b9aed21e7bb7bdeb35972c9a/polygon/mainnet/archive"],ws:["wss://ws-mainnet.matic.network"],explorer:"https://polygonscan.com"},246:{key:"246",name:"Energy Web Chain",shortName:"EWC",chainId:246,network:"mainnet",multicall:"0x0767F26d0D568aB61A98b279C0b28a4164A6f05e",rpc:["https://voting-rpc.carbonswap.exchange"],explorer:"https://explorer.energyweb.org"},250:{key:"250",name:"Fantom Opera",shortName:"fantom",chainId:250,network:"Mainnet",multicall:"0x7f6A10218264a22B4309F3896745687E712962a0",rpc:["https://rpc.ftm.tools","https://rpcapi.fantom.network"],explorer:"https://ftmscan.com"},256:{key:"256",name:"Huobi Eco Chain Testnet",shortName:"heco",chainId:256,network:"testnet",testnet:!0,multicall:"0xC33994Eb943c61a8a59a918E2de65e03e4e385E0",rpc:["https://http-testnet.hecochain.com"],ws:["wss://ws-testnet.hecochain.com"],explorer:"https://testnet.hecoinfo.com"},321:{key:"321",name:"KCC Mainnet",shortName:"KCC",chainId:321,network:"mainnet",multicall:"0xa64D6AFb48225BDA3259246cfb418c0b91de6D7a",rpc:["https://rpc-mainnet.kcc.network"],ws:["wss://rpc-ws-mainnet.kcc.network"],explorer:"https://explorer.kcc.io"},499:{key:"499",name:"Rupaya",shortName:"RUPX",chainId:499,network:"mainnet",multicall:"0x7955FF653FfDBf13056FeAe227f655CfF5C194D5",rpc:["https://rpc.rupx.io"],ws:["wss://ws.rupx.io"],explorer:"http://scan.rupx.io"},888:{key:"888",name:"Wanchain",chainId:888,network:"mainnet",multicall:"0xba5934ab3056fca1fa458d30fbb3810c3eb5145f",rpc:["https://gwan-ssl.wandevs.org:56891"],ws:["wss://api.wanchain.org:8443/ws/v3/ddd16770c68f30350a21114802d5418eafe039b722de52b488e7eee1ee2cd73f"],explorer:"https://www.wanscan.org"},1285:{key:"1285",name:"Moonriver (Kusama)",shortName:"Moonriver",chainId:1285,network:"mainnet",multicall:"0x537004440ffFE1D4AE9F009031Fc2b0385FCA9F1",rpc:["https://rpc.moonriver.moonbeam.network"],explorer:"https://blockscout.moonriver.moonbeam.network/"},1287:{key:"1287",name:"Moonbase Alpha TestNet",shortName:"Moonbase",chainId:1287,network:"testnet",testnet:!0,multicall:"0xf09FD6B6FF3f41614b9d6be2166A0D07045A3A97",rpc:["https://rpc.testnet.moonbeam.network"],explorer:"https://moonbase-blockscout.testnet.moonbeam.network/"},4689:{key:"4689",name:"IoTeX Mainnet",shortName:"IoTeX",chainId:4689,network:"mainnet",multicall:"0x9c8B105c94282CDB0F3ecF27e3cfA96A35c07be6",rpc:["https://babel-api.mainnet.iotex.io"],explorer:"https://iotexscan.io"},4690:{key:"4690",name:"IoTeX Testnet",shortName:"IoTeX",chainId:4690,network:"testnet",testnet:!0,multicall:"0x30aE8783d26aBE7Fbb9d83549CCb7430AE4A301F",rpc:["https://babel-api.testnet.iotex.io"],explorer:"https://testnet.iotexscan.io"},32659:{key:"32659",name:"Fusion Mainnet",chainId:32659,network:"mainnet",multicall:"",rpc:["https://vote.anyswap.exchange/mainnet"],ws:["wss://mainnetpublicgateway1.fusionnetwork.io:10001"],explorer:"https://fsnex.com"},42161:{key:"42161",name:"Arbitrum One",chainId:42161,network:"Arbitrum mainnet",multicall:"0x7A7443F8c577d537f1d8cD4a629d40a3148Dd7ee",rpc:["https://arb-mainnet.g.alchemy.com/v2/JDvtNGwnHhTltIwfnxQocKwKkCTKA1DL"],explorer:"https://arbiscan.io"},42220:{key:"42220",name:"Celo Mainnet",shortName:"Celo",chainId:42220,network:"mainnet",multicall:"0xb8d0d2C1391eeB350d2Cd39EfABBaaEC297368D9",rpc:["https://celo-mainnet--rpc.datahub.figment.io/apikey/e892a66dc36e4d2d98a5d6406d609796/"],explorer:"https://explorer.celo.org"},43114:{key:"43114",name:"Avalanche",chainId:43114,network:"mainnet",multicall:"0x7E9985aE4C8248fdB07607648406a48C76e9e7eD",rpc:["https://api.avax.network/ext/bc/C/rpc"],explorer:"https://cchain.explorer.avax.network"},80001:{key:"80001",name:"Matic Mumbai",chainId:80001,network:"testnet",testnet:!0,multicall:"0x08411ADd0b5AA8ee47563b146743C13b3556c9Cc",rpc:["https://speedy-nodes-nyc.moralis.io/f2963e29bec0de5787da3164/polygon/mumbai/archive","https://rpc-mumbai.matic.today"],ws:["wss://ws-mumbai.matic.today"],explorer:""},333888:{key:"333888",name:"Polis Sparta",shortName:"Sparta",chainId:333888,network:"testnet",testnet:!0,multicall:"0xA4c03972023d5f684d35eF1C541752490975383e",rpc:["https://sparta-rpc.polis.tech"],explorer:"https://sparta-explorer.polis.tech"},333999:{key:"333999",name:"Polis Olympus",shortName:"Olympus",chainId:333999,network:"mainnet",multicall:"0x34b99C2a4a4620F10ac779c36b8c61F90FD61732",rpc:["https://rpc.polis.tech"],explorer:"https://explorer.polis.tech"},16666e5:{key:"1666600000",name:"Harmony Mainnet",shortName:"HarmonyMainnet",chainId:16666e5,network:"mainnet",multicall:"0x9c31392D2e0229dC4Aa250F043d46B9E82074BF8",rpc:["https://a.api.s0.t.hmny.io"],ws:["wss://ws.s0.t.hmny.io"],explorer:"https://explorer.harmony.one"},16667e5:{key:"1666700000",name:"Harmony Testnet",shortName:"HarmonyTestnet",chainId:16667e5,network:"testnet",testnet:!0,multicall:"0x9923589503Fd205feE3d367DDFF2378f0F7dD2d4",rpc:["https://api.s0.b.hmny.io"],ws:["wss://ws.s0.b.hmny.io"],explorer:"https://explorer.pops.one"},11297108109:{key:"11297108109",name:"Palm Mainnet",shortName:"Palm",chainId:11297108109,network:"mainnet",multicall:"0xfFE2FF36c5b8D948f788a34f867784828aa7415D",rpc:["https://palm-mainnet.infura.io/v3/3a961d6501e54add9a41aa53f15de99b"],explorer:"https://explorer.palm.io"}},zv={};function qv(t){var e=jv[t].rpc[0];return zv[t]||(zv[t]=new $v(e)),zv[t]}var Gv={basic:function(t,i,n,o){var s,a;return e(this,void 0,void 0,(function(){var e,n,h,u;return r(this,(function(r){switch(r.label){case 0:return e=o.strategies||i.strategies,n=o.onlyMembers||(null===(s=i.filters)||void 0===s?void 0:s.onlyMembers),h=o.minScore||(null===(a=i.filters)||void 0===a?void 0:a.minScore),(i.members||[]).map((function(t){return t.toLowerCase()})).includes(t.toLowerCase())?[2,!0]:n?[2,!1]:h?[4,Fb(i.id||i.key,e,i.network,[t])]:[3,2];case 1:if(u=r.sent(),u.map((function(t){return Object.values(t).reduce((function(t,e){return t+e}),0)})).reduce((function(t,e){return t+e}),0)<h)return[2,!1];r.label=2;case 2:return[2,!0]}}))}))},aave:function(t,n,o,s){var a,h;return e(this,void 0,void 0,(function(){var e,o,u,l,f,c;return r(this,(function(r){switch(r.label){case 0:return e=s.onlyMembers||(null===(a=n.filters)||void 0===a?void 0:a.onlyMembers),o=s.minScore||(null===(h=n.filters)||void 0===h?void 0:h.minScore),u=(n.members||[]).map((function(t){return t.toLowerCase()})),l=i(n.strategies),(f=l.findIndex((function(t){return"aave-governance-power"===t.name})))>=0&&(l[f].params.powerType="proposition"),u.includes(t.toLowerCase())?[2,!0]:e?[2,!1]:o?[4,Fb(n.id||n.key,l,n.network,[t])]:[3,2];case 1:if(c=r.sent(),c.map((function(t){return Object.values(t).reduce((function(t,e){return t+e}),0)})).reduce((function(t,e){return t+e}),0)<o)return[2,!1];r.label=2;case 2:return[2,!0]}}))}))}};let Vv=!1,Kv=!1;const Zv={debug:1,default:2,info:2,warning:3,error:4,off:5};let Hv=Zv.default,Wv=null;const Jv=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var Xv,Yv;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(Xv||(Xv={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(Yv||(Yv={}));class Qv{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Zv[r]&&this.throwArgumentError("invalid log level name","logLevel",t),Hv>Zv[r]||console.log.apply(console,e)}debug(...t){this._log(Qv.levels.DEBUG,t)}info(...t){this._log(Qv.levels.INFO,t)}warn(...t){this._log(Qv.levels.WARNING,t)}makeError(t,e,r){if(Kv)return this.makeError("censored error",e,{});e||(e=Qv.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(t=>{try{i.push(t+"="+JSON.stringify(r[t]))}catch(e){i.push(t+"="+JSON.stringify(r[t].toString()))}}),i.push("code="+e),i.push("version="+this.version);const n=t;i.length&&(t+=" ("+i.join(", ")+")");const o=new Error(t);return o.reason=n,o.code=e,Object.keys(r).forEach((function(t){o[t]=r[t]})),o}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,Qv.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,i){t||this.throwError(e,r,i)}assertArgument(t,e,r,i){t||this.throwArgumentError(e,r,i)}checkNormalize(t){Jv&&this.throwError("platform missing String.prototype.normalize",Qv.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Jv})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,Qv.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,Qv.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,Qv.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,Qv.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",Qv.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",Qv.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",Qv.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Wv||(Wv=new Qv("logger/5.4.0")),Wv}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",Qv.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Vv){if(!t)return;this.globalLogger().throwError("error censorship permanent",Qv.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Kv=!!t,Vv=!!e}static setLogLevel(t){const e=Zv[t.toLowerCase()];null!=e?Hv=e:Qv.globalLogger().warn("invalid log level - "+t)}static from(t){return new Qv(t)}}Qv.errors=Yv,Qv.levels=Xv;const ty=new Qv("bytes/5.4.0");function ey(t){return!!t.toHexString}function ry(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return ry(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function iy(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(null==t.length)return!1;for(let e=0;e<t.length;e++){const r=t[e];if("number"!=typeof r||r<0||r>=256||r%1)return!1}return!0}function ny(t,e){if(e||(e={}),"number"==typeof t){ty.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),ry(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),ey(t)&&(t=t.toHexString()),oy(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0x0"+r.substring(2):"right"===e.hexPad?r+="0":ty.throwArgumentError("hex data is odd-length","value",t));const i=[];for(let t=0;t<r.length;t+=2)i.push(parseInt(r.substring(t,t+2),16));return ry(new Uint8Array(i))}return iy(t)?ry(new Uint8Array(t)):ty.throwArgumentError("invalid arrayify value","value",t)}function oy(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}function sy(t,e){if(e||(e={}),"number"==typeof t){ty.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e="0123456789abcdef"[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),ey(t))return t.toHexString();if(oy(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":ty.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(iy(t)){let e="0x";for(let r=0;r<t.length;r++){let i=t[r];e+="0123456789abcdef"[(240&i)>>4]+"0123456789abcdef"[15&i]}return e}return ty.throwArgumentError("invalid hexlify value","value",t)}function ay(t){let e="0x";return t.forEach(t=>{e+=sy(t).substring(2)}),e}function hy(t,e){for("string"!=typeof t?t=sy(t):oy(t)||ty.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&ty.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}var uy=a((function(t){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function n(t,e,r){if(n.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:Ot.Buffer}catch(t){}function s(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function a(t,e,r){var i=s(t,r);return r-1>=e&&(i|=s(t,r-1)<<4),i}function h(t,e,r,i){for(var n=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;n*=i,n+=a>=49?a-49+10:a>=17?a-17+10:a}return n}n.isBN=function(t){return t instanceof n||null!==t&&"object"==typeof t&&t.constructor.wordSize===n.wordSize&&Array.isArray(t.words)},n.max=function(t,e){return t.cmp(e)>0?t:e},n.min=function(t,e){return t.cmp(e)<0?t:e},n.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<t.length&&(16===e?this._parseHex(t,n,i):(this._parseBase(t,e,n),"le"===i&&this._initArray(this.toArray(),e,i)))},n.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},n.prototype._initArray=function(t,e,i){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,s,a=0;if("be"===i)for(n=t.length-1,o=0;n>=0;n-=3)s=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===i)for(n=0,o=0;n<t.length;n+=3)s=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},n.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,o=0,s=0;if("be"===r)for(i=t.length-1;i>=e;i-=2)n=a(t,e,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)n=a(t,e,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;this.strip()},n.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0;for(var o=t.length-r,s=o%i,a=Math.min(o,o-s)+r,u=0,l=r;l<a;l+=i)u=h(t,l,l+i,e),this.imuln(n),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var f=1;for(u=h(t,l,t.length,e),l=0;l<s;l++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},n.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},n.prototype.clone=function(){var t=new n(null);return this.copy(t),t},n.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function c(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],o=0|e.words[0],s=n*o,a=67108863&s,h=s/67108864|0;r.words[0]=a;for(var u=1;u<i;u++){for(var l=h>>>26,f=67108863&h,c=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=c;d++){var m=u-d|0;l+=(s=(n=0|t.words[m])*(o=0|e.words[d])+f)/67108864|0,f=67108863&s}r.words[u]=0|f,h=0|l}return 0!==h?r.words[u]=0|h:r.length--,r.strip()}n.prototype.toString=function(t,e){var i;if(e=0|e||1,16===(t=t||10)||"hex"===t){i="";for(var n=0,o=0,s=0;s<this.length;s++){var a=this.words[s],h=(16777215&(a<<n|o)).toString(16);i=0!==(o=a>>>24-n&16777215)||s!==this.length-1?u[6-h.length]+h+i:h+i,(n+=2)>=26&&(n-=26,s--)}for(0!==o&&(i=o.toString(16)+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var c=l[t],d=f[t];i="";var m=this.clone();for(m.negative=0;!m.isZero();){var p=m.modn(d).toString(t);i=(m=m.idivn(d)).isZero()?p+i:u[c-p.length]+p+i}for(this.isZero()&&(i="0"+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(t,e){return r(void 0!==o),this.toArrayLike(o,t,e)},n.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},n.prototype.toArrayLike=function(t,e,i){var n=this.byteLength(),o=i||Math.max(1,n);r(n<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,h="le"===e,u=new t(o),l=this.clone();if(h){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-n;a++)u[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[o-a-1]=s}return u},Math.clz32?n.prototype._countBits=function(t){return 32-Math.clz32(t)}:n.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},n.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},n.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},n.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},n.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},n.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},n.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},n.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},n.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},n.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},n.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},n.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},n.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},n.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},n.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},n.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this.strip()},n.prototype.notn=function(t){return this.clone().inotn(t)},n.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var i=t/26|0,n=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<n:this.words[i]&~(1<<n),this.strip()},n.prototype.iadd=function(t){var e,r,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this);for(var n=0,o=0;o<i.length;o++)e=(0|r.words[o])+(0|i.words[o])+n,this.words[o]=67108863&e,n=e>>>26;for(;0!==n&&o<r.length;o++)e=(0|r.words[o])+n,this.words[o]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},n.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},n.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,i,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=t):(r=t,i=this);for(var o=0,s=0;s<i.length;s++)o=(e=(0|r.words[s])-(0|i.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,r){var i,n,o,s=t.words,a=e.words,h=r.words,u=0,l=0|s[0],f=8191&l,c=l>>>13,d=0|s[1],m=8191&d,p=d>>>13,g=0|s[2],v=8191&g,y=g>>>13,w=0|s[3],b=8191&w,M=w>>>13,E=0|s[4],_=8191&E,N=E>>>13,A=0|s[5],S=8191&A,R=A>>>13,I=0|s[6],x=8191&I,k=I>>>13,O=0|s[7],T=8191&O,P=O>>>13,C=0|s[8],U=8191&C,F=C>>>13,B=0|s[9],D=8191&B,L=B>>>13,$=0|a[0],j=8191&$,z=$>>>13,q=0|a[1],G=8191&q,V=q>>>13,K=0|a[2],Z=8191&K,H=K>>>13,W=0|a[3],J=8191&W,X=W>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,it=et>>>13,nt=0|a[6],ot=8191&nt,st=nt>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ft=8191&lt,ct=lt>>>13,dt=0|a[9],mt=8191&dt,pt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(u+(i=Math.imul(f,j))|0)+((8191&(n=(n=Math.imul(f,z))+Math.imul(c,j)|0))<<13)|0;u=((o=Math.imul(c,z))+(n>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(m,j),n=(n=Math.imul(m,z))+Math.imul(p,j)|0,o=Math.imul(p,z);var vt=(u+(i=i+Math.imul(f,G)|0)|0)+((8191&(n=(n=n+Math.imul(f,V)|0)+Math.imul(c,G)|0))<<13)|0;u=((o=o+Math.imul(c,V)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(v,j),n=(n=Math.imul(v,z))+Math.imul(y,j)|0,o=Math.imul(y,z),i=i+Math.imul(m,G)|0,n=(n=n+Math.imul(m,V)|0)+Math.imul(p,G)|0,o=o+Math.imul(p,V)|0;var yt=(u+(i=i+Math.imul(f,Z)|0)|0)+((8191&(n=(n=n+Math.imul(f,H)|0)+Math.imul(c,Z)|0))<<13)|0;u=((o=o+Math.imul(c,H)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(b,j),n=(n=Math.imul(b,z))+Math.imul(M,j)|0,o=Math.imul(M,z),i=i+Math.imul(v,G)|0,n=(n=n+Math.imul(v,V)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,V)|0,i=i+Math.imul(m,Z)|0,n=(n=n+Math.imul(m,H)|0)+Math.imul(p,Z)|0,o=o+Math.imul(p,H)|0;var wt=(u+(i=i+Math.imul(f,J)|0)|0)+((8191&(n=(n=n+Math.imul(f,X)|0)+Math.imul(c,J)|0))<<13)|0;u=((o=o+Math.imul(c,X)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(_,j),n=(n=Math.imul(_,z))+Math.imul(N,j)|0,o=Math.imul(N,z),i=i+Math.imul(b,G)|0,n=(n=n+Math.imul(b,V)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,V)|0,i=i+Math.imul(v,Z)|0,n=(n=n+Math.imul(v,H)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,H)|0,i=i+Math.imul(m,J)|0,n=(n=n+Math.imul(m,X)|0)+Math.imul(p,J)|0,o=o+Math.imul(p,X)|0;var bt=(u+(i=i+Math.imul(f,Q)|0)|0)+((8191&(n=(n=n+Math.imul(f,tt)|0)+Math.imul(c,Q)|0))<<13)|0;u=((o=o+Math.imul(c,tt)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(S,j),n=(n=Math.imul(S,z))+Math.imul(R,j)|0,o=Math.imul(R,z),i=i+Math.imul(_,G)|0,n=(n=n+Math.imul(_,V)|0)+Math.imul(N,G)|0,o=o+Math.imul(N,V)|0,i=i+Math.imul(b,Z)|0,n=(n=n+Math.imul(b,H)|0)+Math.imul(M,Z)|0,o=o+Math.imul(M,H)|0,i=i+Math.imul(v,J)|0,n=(n=n+Math.imul(v,X)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,X)|0,i=i+Math.imul(m,Q)|0,n=(n=n+Math.imul(m,tt)|0)+Math.imul(p,Q)|0,o=o+Math.imul(p,tt)|0;var Mt=(u+(i=i+Math.imul(f,rt)|0)|0)+((8191&(n=(n=n+Math.imul(f,it)|0)+Math.imul(c,rt)|0))<<13)|0;u=((o=o+Math.imul(c,it)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(x,j),n=(n=Math.imul(x,z))+Math.imul(k,j)|0,o=Math.imul(k,z),i=i+Math.imul(S,G)|0,n=(n=n+Math.imul(S,V)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,V)|0,i=i+Math.imul(_,Z)|0,n=(n=n+Math.imul(_,H)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,H)|0,i=i+Math.imul(b,J)|0,n=(n=n+Math.imul(b,X)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,X)|0,i=i+Math.imul(v,Q)|0,n=(n=n+Math.imul(v,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,i=i+Math.imul(m,rt)|0,n=(n=n+Math.imul(m,it)|0)+Math.imul(p,rt)|0,o=o+Math.imul(p,it)|0;var Et=(u+(i=i+Math.imul(f,ot)|0)|0)+((8191&(n=(n=n+Math.imul(f,st)|0)+Math.imul(c,ot)|0))<<13)|0;u=((o=o+Math.imul(c,st)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(T,j),n=(n=Math.imul(T,z))+Math.imul(P,j)|0,o=Math.imul(P,z),i=i+Math.imul(x,G)|0,n=(n=n+Math.imul(x,V)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,V)|0,i=i+Math.imul(S,Z)|0,n=(n=n+Math.imul(S,H)|0)+Math.imul(R,Z)|0,o=o+Math.imul(R,H)|0,i=i+Math.imul(_,J)|0,n=(n=n+Math.imul(_,X)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,X)|0,i=i+Math.imul(b,Q)|0,n=(n=n+Math.imul(b,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,i=i+Math.imul(v,rt)|0,n=(n=n+Math.imul(v,it)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,it)|0,i=i+Math.imul(m,ot)|0,n=(n=n+Math.imul(m,st)|0)+Math.imul(p,ot)|0,o=o+Math.imul(p,st)|0;var _t=(u+(i=i+Math.imul(f,ht)|0)|0)+((8191&(n=(n=n+Math.imul(f,ut)|0)+Math.imul(c,ht)|0))<<13)|0;u=((o=o+Math.imul(c,ut)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(U,j),n=(n=Math.imul(U,z))+Math.imul(F,j)|0,o=Math.imul(F,z),i=i+Math.imul(T,G)|0,n=(n=n+Math.imul(T,V)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,V)|0,i=i+Math.imul(x,Z)|0,n=(n=n+Math.imul(x,H)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,H)|0,i=i+Math.imul(S,J)|0,n=(n=n+Math.imul(S,X)|0)+Math.imul(R,J)|0,o=o+Math.imul(R,X)|0,i=i+Math.imul(_,Q)|0,n=(n=n+Math.imul(_,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,i=i+Math.imul(b,rt)|0,n=(n=n+Math.imul(b,it)|0)+Math.imul(M,rt)|0,o=o+Math.imul(M,it)|0,i=i+Math.imul(v,ot)|0,n=(n=n+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,i=i+Math.imul(m,ht)|0,n=(n=n+Math.imul(m,ut)|0)+Math.imul(p,ht)|0,o=o+Math.imul(p,ut)|0;var Nt=(u+(i=i+Math.imul(f,ft)|0)|0)+((8191&(n=(n=n+Math.imul(f,ct)|0)+Math.imul(c,ft)|0))<<13)|0;u=((o=o+Math.imul(c,ct)|0)+(n>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,i=Math.imul(D,j),n=(n=Math.imul(D,z))+Math.imul(L,j)|0,o=Math.imul(L,z),i=i+Math.imul(U,G)|0,n=(n=n+Math.imul(U,V)|0)+Math.imul(F,G)|0,o=o+Math.imul(F,V)|0,i=i+Math.imul(T,Z)|0,n=(n=n+Math.imul(T,H)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,H)|0,i=i+Math.imul(x,J)|0,n=(n=n+Math.imul(x,X)|0)+Math.imul(k,J)|0,o=o+Math.imul(k,X)|0,i=i+Math.imul(S,Q)|0,n=(n=n+Math.imul(S,tt)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,tt)|0,i=i+Math.imul(_,rt)|0,n=(n=n+Math.imul(_,it)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,it)|0,i=i+Math.imul(b,ot)|0,n=(n=n+Math.imul(b,st)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,st)|0,i=i+Math.imul(v,ht)|0,n=(n=n+Math.imul(v,ut)|0)+Math.imul(y,ht)|0,o=o+Math.imul(y,ut)|0,i=i+Math.imul(m,ft)|0,n=(n=n+Math.imul(m,ct)|0)+Math.imul(p,ft)|0,o=o+Math.imul(p,ct)|0;var At=(u+(i=i+Math.imul(f,mt)|0)|0)+((8191&(n=(n=n+Math.imul(f,pt)|0)+Math.imul(c,mt)|0))<<13)|0;u=((o=o+Math.imul(c,pt)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(D,G),n=(n=Math.imul(D,V))+Math.imul(L,G)|0,o=Math.imul(L,V),i=i+Math.imul(U,Z)|0,n=(n=n+Math.imul(U,H)|0)+Math.imul(F,Z)|0,o=o+Math.imul(F,H)|0,i=i+Math.imul(T,J)|0,n=(n=n+Math.imul(T,X)|0)+Math.imul(P,J)|0,o=o+Math.imul(P,X)|0,i=i+Math.imul(x,Q)|0,n=(n=n+Math.imul(x,tt)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,tt)|0,i=i+Math.imul(S,rt)|0,n=(n=n+Math.imul(S,it)|0)+Math.imul(R,rt)|0,o=o+Math.imul(R,it)|0,i=i+Math.imul(_,ot)|0,n=(n=n+Math.imul(_,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,i=i+Math.imul(b,ht)|0,n=(n=n+Math.imul(b,ut)|0)+Math.imul(M,ht)|0,o=o+Math.imul(M,ut)|0,i=i+Math.imul(v,ft)|0,n=(n=n+Math.imul(v,ct)|0)+Math.imul(y,ft)|0,o=o+Math.imul(y,ct)|0;var St=(u+(i=i+Math.imul(m,mt)|0)|0)+((8191&(n=(n=n+Math.imul(m,pt)|0)+Math.imul(p,mt)|0))<<13)|0;u=((o=o+Math.imul(p,pt)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(D,Z),n=(n=Math.imul(D,H))+Math.imul(L,Z)|0,o=Math.imul(L,H),i=i+Math.imul(U,J)|0,n=(n=n+Math.imul(U,X)|0)+Math.imul(F,J)|0,o=o+Math.imul(F,X)|0,i=i+Math.imul(T,Q)|0,n=(n=n+Math.imul(T,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,i=i+Math.imul(x,rt)|0,n=(n=n+Math.imul(x,it)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,it)|0,i=i+Math.imul(S,ot)|0,n=(n=n+Math.imul(S,st)|0)+Math.imul(R,ot)|0,o=o+Math.imul(R,st)|0,i=i+Math.imul(_,ht)|0,n=(n=n+Math.imul(_,ut)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,ut)|0,i=i+Math.imul(b,ft)|0,n=(n=n+Math.imul(b,ct)|0)+Math.imul(M,ft)|0,o=o+Math.imul(M,ct)|0;var Rt=(u+(i=i+Math.imul(v,mt)|0)|0)+((8191&(n=(n=n+Math.imul(v,pt)|0)+Math.imul(y,mt)|0))<<13)|0;u=((o=o+Math.imul(y,pt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(D,J),n=(n=Math.imul(D,X))+Math.imul(L,J)|0,o=Math.imul(L,X),i=i+Math.imul(U,Q)|0,n=(n=n+Math.imul(U,tt)|0)+Math.imul(F,Q)|0,o=o+Math.imul(F,tt)|0,i=i+Math.imul(T,rt)|0,n=(n=n+Math.imul(T,it)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,it)|0,i=i+Math.imul(x,ot)|0,n=(n=n+Math.imul(x,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,i=i+Math.imul(S,ht)|0,n=(n=n+Math.imul(S,ut)|0)+Math.imul(R,ht)|0,o=o+Math.imul(R,ut)|0,i=i+Math.imul(_,ft)|0,n=(n=n+Math.imul(_,ct)|0)+Math.imul(N,ft)|0,o=o+Math.imul(N,ct)|0;var It=(u+(i=i+Math.imul(b,mt)|0)|0)+((8191&(n=(n=n+Math.imul(b,pt)|0)+Math.imul(M,mt)|0))<<13)|0;u=((o=o+Math.imul(M,pt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(D,Q),n=(n=Math.imul(D,tt))+Math.imul(L,Q)|0,o=Math.imul(L,tt),i=i+Math.imul(U,rt)|0,n=(n=n+Math.imul(U,it)|0)+Math.imul(F,rt)|0,o=o+Math.imul(F,it)|0,i=i+Math.imul(T,ot)|0,n=(n=n+Math.imul(T,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,i=i+Math.imul(x,ht)|0,n=(n=n+Math.imul(x,ut)|0)+Math.imul(k,ht)|0,o=o+Math.imul(k,ut)|0,i=i+Math.imul(S,ft)|0,n=(n=n+Math.imul(S,ct)|0)+Math.imul(R,ft)|0,o=o+Math.imul(R,ct)|0;var xt=(u+(i=i+Math.imul(_,mt)|0)|0)+((8191&(n=(n=n+Math.imul(_,pt)|0)+Math.imul(N,mt)|0))<<13)|0;u=((o=o+Math.imul(N,pt)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(D,rt),n=(n=Math.imul(D,it))+Math.imul(L,rt)|0,o=Math.imul(L,it),i=i+Math.imul(U,ot)|0,n=(n=n+Math.imul(U,st)|0)+Math.imul(F,ot)|0,o=o+Math.imul(F,st)|0,i=i+Math.imul(T,ht)|0,n=(n=n+Math.imul(T,ut)|0)+Math.imul(P,ht)|0,o=o+Math.imul(P,ut)|0,i=i+Math.imul(x,ft)|0,n=(n=n+Math.imul(x,ct)|0)+Math.imul(k,ft)|0,o=o+Math.imul(k,ct)|0;var kt=(u+(i=i+Math.imul(S,mt)|0)|0)+((8191&(n=(n=n+Math.imul(S,pt)|0)+Math.imul(R,mt)|0))<<13)|0;u=((o=o+Math.imul(R,pt)|0)+(n>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(D,ot),n=(n=Math.imul(D,st))+Math.imul(L,ot)|0,o=Math.imul(L,st),i=i+Math.imul(U,ht)|0,n=(n=n+Math.imul(U,ut)|0)+Math.imul(F,ht)|0,o=o+Math.imul(F,ut)|0,i=i+Math.imul(T,ft)|0,n=(n=n+Math.imul(T,ct)|0)+Math.imul(P,ft)|0,o=o+Math.imul(P,ct)|0;var Ot=(u+(i=i+Math.imul(x,mt)|0)|0)+((8191&(n=(n=n+Math.imul(x,pt)|0)+Math.imul(k,mt)|0))<<13)|0;u=((o=o+Math.imul(k,pt)|0)+(n>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,i=Math.imul(D,ht),n=(n=Math.imul(D,ut))+Math.imul(L,ht)|0,o=Math.imul(L,ut),i=i+Math.imul(U,ft)|0,n=(n=n+Math.imul(U,ct)|0)+Math.imul(F,ft)|0,o=o+Math.imul(F,ct)|0;var Tt=(u+(i=i+Math.imul(T,mt)|0)|0)+((8191&(n=(n=n+Math.imul(T,pt)|0)+Math.imul(P,mt)|0))<<13)|0;u=((o=o+Math.imul(P,pt)|0)+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(D,ft),n=(n=Math.imul(D,ct))+Math.imul(L,ft)|0,o=Math.imul(L,ct);var Pt=(u+(i=i+Math.imul(U,mt)|0)|0)+((8191&(n=(n=n+Math.imul(U,pt)|0)+Math.imul(F,mt)|0))<<13)|0;u=((o=o+Math.imul(F,pt)|0)+(n>>>13)|0)+(Pt>>>26)|0,Pt&=67108863;var Ct=(u+(i=Math.imul(D,mt))|0)+((8191&(n=(n=Math.imul(D,pt))+Math.imul(L,mt)|0))<<13)|0;return u=((o=Math.imul(L,pt))+(n>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,h[0]=gt,h[1]=vt,h[2]=yt,h[3]=wt,h[4]=bt,h[5]=Mt,h[6]=Et,h[7]=_t,h[8]=Nt,h[9]=At,h[10]=St,h[11]=Rt,h[12]=It,h[13]=xt,h[14]=kt,h[15]=Ot,h[16]=Tt,h[17]=Pt,h[18]=Ct,0!==u&&(h[19]=u,r.length++),r};function m(t,e,r){return(new p).mulp(t,e,r)}function p(t,e){this.x=t,this.y=e}Math.imul||(d=c),n.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?d(this,t,e):r<63?c(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,o=0;o<r.length-1;o++){var s=n;n=0;for(var a=67108863&i,h=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=h;u++){var l=o-u,f=(0|t.words[l])*(0|e.words[u]),c=67108863&f;a=67108863&(c=c+a|0),n+=(s=(s=s+(f/67108864|0)|0)+(c>>>26)|0)>>>26,s&=67108863}r.words[o]=a,i=s,s=n}return 0!==i?r.words[o]=i:r.length--,r.strip()}(this,t,e):m(this,t,e)},p.prototype.makeRBT=function(t){for(var e=new Array(t),r=n.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},p.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var i=0,n=0;n<e;n++)i|=(1&t)<<e-n-1,t>>=1;return i},p.prototype.permute=function(t,e,r,i,n,o){for(var s=0;s<o;s++)i[s]=e[t[s]],n[s]=r[t[s]]},p.prototype.transform=function(t,e,r,i,n,o){this.permute(o,t,e,r,i,n);for(var s=1;s<n;s<<=1)for(var a=s<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<n;l+=a)for(var f=h,c=u,d=0;d<s;d++){var m=r[l+d],p=i[l+d],g=r[l+d+s],v=i[l+d+s],y=f*g-c*v;v=f*v+c*g,g=y,r[l+d]=m+g,i[l+d]=p+v,r[l+d+s]=m-g,i[l+d+s]=p-v,d!==a&&(y=h*f-u*c,c=h*c+u*f,f=y)}},p.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},p.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},p.prototype.normalize13b=function(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=67108863&n,r=n<67108864?0:n/67108864|0}return t},p.prototype.convert13b=function(t,e,i,n){for(var o=0,s=0;s<e;s++)o+=0|t[s],i[2*s]=8191&o,o>>>=13,i[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<n;++s)i[s]=0;r(0===o),r(0==(-8192&o))},p.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},p.prototype.mulp=function(t,e,r){var i=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(i),o=this.stub(i),s=new Array(i),a=new Array(i),h=new Array(i),u=new Array(i),l=new Array(i),f=new Array(i),c=r.words;c.length=i,this.convert13b(t.words,t.length,s,i),this.convert13b(e.words,e.length,u,i),this.transform(s,o,a,h,i,n),this.transform(u,o,l,f,i,n);for(var d=0;d<i;d++){var m=a[d]*l[d]-h[d]*f[d];h[d]=a[d]*f[d]+h[d]*l[d],a[d]=m}return this.conjugate(a,h,i),this.transform(a,h,c,o,i,n),this.conjugate(c,o,i),this.normalize13b(c,i),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},n.prototype.mul=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},n.prototype.mulf=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),m(this,t,e)},n.prototype.imul=function(t){return this.clone().mulTo(t,this)},n.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,i=0;i<this.length;i++){var n=(0|this.words[i])*t,o=(67108863&n)+(67108863&e);e>>=26,e+=n/67108864|0,e+=o>>>26,this.words[i]=67108863&o}return 0!==e&&(this.words[i]=e,this.length++),this},n.prototype.muln=function(t){return this.clone().imuln(t)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=(t.words[i]&1<<n)>>>n}return e}(t);if(0===e.length)return new n(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var o=r.sqr();i<e.length;i++,o=o.sqr())0!==e[i]&&(r=r.mul(o));return r},n.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,i=t%26,n=(t-i)/26,o=67108863>>>26-i<<26-i;if(0!==i){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,h=(0|this.words[e])-a<<i;this.words[e]=h|s,s=a>>>26-i}s&&(this.words[e]=s,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this.strip()},n.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},n.prototype.iushrn=function(t,e,i){var n;r("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,h=i;if(n-=s,n=Math.max(0,n),h){for(var u=0;u<s;u++)h.words[u]=this.words[u];h.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=n);u--){var f=0|this.words[u];this.words[u]=l<<26-o|f>>>o,l=f&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(t,e,i){return r(0===this.negative),this.iushrn(t,e,i)},n.prototype.shln=function(t){return this.clone().ishln(t)},n.prototype.ushln=function(t){return this.clone().iushln(t)},n.prototype.shrn=function(t){return this.clone().ishrn(t)},n.prototype.ushrn=function(t){return this.clone().iushrn(t)},n.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26,n=1<<e;return!(this.length<=i)&&!!(this.words[i]&n)},n.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this.strip()},n.prototype.maskn=function(t){return this.clone().imaskn(t)},n.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},n.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},n.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},n.prototype.addn=function(t){return this.clone().iaddn(t)},n.prototype.subn=function(t){return this.clone().isubn(t)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(t,e,i){var n,o,s=t.length+i;this._expand(s);var a=0;for(n=0;n<t.length;n++){o=(0|this.words[n+i])+a;var h=(0|t.words[n])*e;a=((o-=67108863&h)>>26)-(h/67108864|0),this.words[n+i]=67108863&o}for(;n<this.length-i;n++)a=(o=(0|this.words[n+i])+a)>>26,this.words[n+i]=67108863&o;if(0===a)return this.strip();for(r(-1===a),a=0,n=0;n<this.length;n++)a=(o=-(0|this.words[n])+a)>>26,this.words[n]=67108863&o;return this.negative=1,this.strip()},n.prototype._wordDiv=function(t,e){var r=(this.length,t.length),i=this.clone(),o=t,s=0|o.words[o.length-1];0!==(r=26-this._countBits(s))&&(o=o.ushln(r),i.iushln(r),s=0|o.words[o.length-1]);var a,h=i.length-o.length;if("mod"!==e){(a=new n(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=i.clone()._ishlnsubmul(o,1,h);0===l.negative&&(i=l,a&&(a.words[h]=1));for(var f=h-1;f>=0;f--){var c=67108864*(0|i.words[o.length+f])+(0|i.words[o.length+f-1]);for(c=Math.min(c/s|0,67108863),i._ishlnsubmul(o,c,f);0!==i.negative;)c--,i.negative=0,i._ishlnsubmul(o,1,f),i.isZero()||(i.negative^=1);a&&(a.words[f]=c)}return a&&a.strip(),i.strip(),"div"!==e&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},n.prototype.divmod=function(t,e,i){return r(!t.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(o=a.div.neg()),"div"!==e&&(s=a.mod.neg(),i&&0!==s.negative&&s.iadd(t)),{div:o,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(o=a.div.neg()),{div:o,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),i&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new n(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new n(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new n(this.modn(t.words[0]))}:this._wordDiv(t,e);var o,s,a},n.prototype.div=function(t){return this.divmod(t,"div",!1).div},n.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},n.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},n.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),o=r.cmp(i);return o<0||1===n&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},n.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,i=0,n=this.length-1;n>=0;n--)i=(e*i+(0|this.words[n]))%t;return i},n.prototype.idivn=function(t){r(t<=67108863);for(var e=0,i=this.length-1;i>=0;i--){var n=(0|this.words[i])+67108864*e;this.words[i]=n/t|0,e=n%t}return this.strip()},n.prototype.divn=function(t){return this.clone().idivn(t)},n.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new n(1),s=new n(0),a=new n(0),h=new n(1),u=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++u;for(var l=i.clone(),f=e.clone();!e.isZero();){for(var c=0,d=1;0==(e.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(e.iushrn(c);c-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(l),s.isub(f)),o.iushrn(1),s.iushrn(1);for(var m=0,p=1;0==(i.words[0]&p)&&m<26;++m,p<<=1);if(m>0)for(i.iushrn(m);m-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(f)),a.iushrn(1),h.iushrn(1);e.cmp(i)>=0?(e.isub(i),o.isub(a),s.isub(h)):(i.isub(e),a.isub(o),h.isub(s))}return{a:a,b:h,gcd:i.iushln(u)}},n.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,s=new n(1),a=new n(0),h=i.clone();e.cmpn(1)>0&&i.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var f=0,c=1;0==(i.words[0]&c)&&f<26;++f,c<<=1);if(f>0)for(i.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(i)>=0?(e.isub(i),s.isub(a)):(i.isub(e),a.isub(s))}return(o=0===e.cmpn(1)?s:a).cmpn(0)<0&&o.iadd(t),o},n.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var o=e;e=r,r=o}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},n.prototype.invm=function(t){return this.egcd(t).a.umod(t)},n.prototype.isEven=function(){return 0==(1&this.words[0])},n.prototype.isOdd=function(){return 1==(1&this.words[0])},n.prototype.andln=function(t){return this.words[0]&t},n.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,i=(t-e)/26,n=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var o=n,s=i;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(t){var e,i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)e=1;else{i&&(t=-t),r(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},n.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},n.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},n.prototype.gtn=function(t){return 1===this.cmpn(t)},n.prototype.gt=function(t){return 1===this.cmp(t)},n.prototype.gten=function(t){return this.cmpn(t)>=0},n.prototype.gte=function(t){return this.cmp(t)>=0},n.prototype.ltn=function(t){return-1===this.cmpn(t)},n.prototype.lt=function(t){return-1===this.cmp(t)},n.prototype.lten=function(t){return this.cmpn(t)<=0},n.prototype.lte=function(t){return this.cmp(t)<=0},n.prototype.eqn=function(t){return 0===this.cmpn(t)},n.prototype.eq=function(t){return 0===this.cmp(t)},n.red=function(t){return new E(t)},n.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(t){return this.red=t,this},n.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},n.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},n.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},n.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},n.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},n.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},n.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},n.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new n(e,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(t){if("string"==typeof t){var e=n._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function _(t){E.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new n(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},i(y,v),y.prototype.split=function(t,e){for(var r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var n=t.words[9];for(e.words[e.length++]=4194303&n,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(4194303&o)<<4|n>>>22,n=o}n>>>=22,t.words[i-10]=n,0===n&&t.length>10?t.length-=10:t.length-=9},y.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,v),i(b,v),i(M,v),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=19*(0|t.words[r])+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},n._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new y;else if("p224"===t)e=new w;else if("p192"===t)e=new b;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return g[t]=e,e},E.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},E.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},E.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},E.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},E.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},E.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},E.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},E.prototype.isqr=function(t){return this.imul(t,t.clone())},E.prototype.sqr=function(t){return this.mul(t,t)},E.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var i=this.m.add(new n(1)).iushrn(2);return this.pow(t,i)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new n(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new n(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var f=this.pow(l,o),c=this.pow(t,o.addn(1).iushrn(1)),d=this.pow(t,o),m=s;0!==d.cmp(a);){for(var p=d,g=0;0!==p.cmp(a);g++)p=p.redSqr();r(g<m);var v=this.pow(f,new n(1).iushln(m-g-1));c=c.redMul(v),f=v.redSqr(),d=d.redMul(f),m=g}return c},E.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},E.prototype.pow=function(t,e){if(e.isZero())return new n(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new n(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var o=r[0],s=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),i=e.length-1;i>=0;i--){for(var u=e.words[i],l=h-1;l>=0;l--){var f=u>>l&1;o!==r[0]&&(o=this.sqr(o)),0!==f||0!==s?(s<<=1,s|=f,(4===++a||0===i&&0===l)&&(o=this.mul(o,r[s]),a=0,s=0)):a=0}h=26}return o},E.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},E.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},n.mont=function(t){return new _(t)},i(_,E),_.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},_.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},_.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},_.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new n(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(i).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},_.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,n)})).BN;const ly=new Qv("bignumber/5.4.0"),fy={};let cy=!1;class dy{constructor(t,e){ly.checkNew(new.target,dy),t!==fy&&ly.throwError("cannot call constructor directly; use BigNumber.from",Qv.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return py(gy(this).fromTwos(t))}toTwos(t){return py(gy(this).toTwos(t))}abs(){return"-"===this._hex[0]?dy.from(this._hex.substring(1)):this}add(t){return py(gy(this).add(gy(t)))}sub(t){return py(gy(this).sub(gy(t)))}div(t){return dy.from(t).isZero()&&vy("division by zero","div"),py(gy(this).div(gy(t)))}mul(t){return py(gy(this).mul(gy(t)))}mod(t){const e=gy(t);return e.isNeg()&&vy("cannot modulo negative values","mod"),py(gy(this).umod(e))}pow(t){const e=gy(t);return e.isNeg()&&vy("cannot raise to negative values","pow"),py(gy(this).pow(e))}and(t){const e=gy(t);return(this.isNegative()||e.isNeg())&&vy("cannot 'and' negative values","and"),py(gy(this).and(e))}or(t){const e=gy(t);return(this.isNegative()||e.isNeg())&&vy("cannot 'or' negative values","or"),py(gy(this).or(e))}xor(t){const e=gy(t);return(this.isNegative()||e.isNeg())&&vy("cannot 'xor' negative values","xor"),py(gy(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&vy("cannot mask negative values","mask"),py(gy(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&vy("cannot shift negative values","shl"),py(gy(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&vy("cannot shift negative values","shr"),py(gy(this).shrn(t))}eq(t){return gy(this).eq(gy(t))}lt(t){return gy(this).lt(gy(t))}lte(t){return gy(this).lte(gy(t))}gt(t){return gy(this).gt(gy(t))}gte(t){return gy(this).gte(gy(t))}isNegative(){return"-"===this._hex[0]}isZero(){return gy(this).isZero()}toNumber(){try{return gy(this).toNumber()}catch(t){vy("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return ly.throwError("this platform does not support BigInt",Qv.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?cy||(cy=!0,ly.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?ly.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Qv.errors.UNEXPECTED_ARGUMENT,{}):ly.throwError("BigNumber.toString does not accept parameters",Qv.errors.UNEXPECTED_ARGUMENT,{})),gy(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof dy)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new dy(fy,my(t)):t.match(/^-?[0-9]+$/)?new dy(fy,my(new uy(t))):ly.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&vy("underflow","BigNumber.from",t),(t>=9007199254740991||t<=-9007199254740991)&&vy("overflow","BigNumber.from",t),dy.from(String(t));const e=t;if("bigint"==typeof e)return dy.from(e.toString());if(iy(e))return dy.from(sy(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return dy.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(oy(t)||"-"===t[0]&&oy(t.substring(1))))return dy.from(t)}return ly.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function my(t){if("string"!=typeof t)return my(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&ly.throwArgumentError("invalid hex","value",t),"0x00"===(t=my(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function py(t){return dy.from(my(t))}function gy(t){const e=dy.from(t).toHexString();return"-"===e[0]?new uy("-"+e.substring(3),16):new uy(e.substring(2),16)}function vy(t,e,r){const i={fault:t,operation:e};return null!=r&&(i.value=r),ly.throwError(t,Qv.errors.NUMERIC_FAULT,i)}function yy(t){return"0x"+lr.keccak_256(ny(t))}const wy=new Qv("address/5.4.0");function by(t){oy(t,20)||wy.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let t=0;t<40;t++)r[t]=e[t].charCodeAt(0);const i=ny(yy(r));for(let t=0;t<40;t+=2)i[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&i[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return"0x"+e.join("")}const My={};for(let t=0;t<10;t++)My[String(t)]=String(t);for(let t=0;t<26;t++)My[String.fromCharCode(65+t)]=String(10+t);const Ey=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function _y(t){let e=null;if("string"!=typeof t&&wy.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=by(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&wy.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==function(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map(t=>My[t]).join("");for(;e.length>=Ey;){let t=e.substring(0,Ey);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}(t)&&wy.throwArgumentError("bad icap checksum","address",t),r=t.substring(4),e=new uy(r,36).toString(16);e.length<40;)e="0"+e;e=by("0x"+e)}else wy.throwArgumentError("invalid address","address",t);var r;return e}window&&window.__awaiter;const Ny=new Qv("properties/5.4.0");function Ay(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Sy(t){const e={};for(const r in t)e[r]=t[r];return e}const Ry={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Iy(t){if(function t(e){if(null==e||Ry[typeof e])return!0;if(Array.isArray(e)||"object"==typeof e){if(!Object.isFrozen(e))return!1;const r=Object.keys(e);for(let i=0;i<r.length;i++)if(!t(e[r[i]]))return!1;return!0}return Ny.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}(t))return t;if(Array.isArray(t))return Object.freeze(t.map(t=>xy(t)));if("object"==typeof t){const e={};for(const r in t){const i=t[r];void 0!==i&&Ay(e,r,xy(i))}return e}return Ny.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function xy(t){return Iy(t)}const ky=new Qv("strings/5.4.0");var Oy,Ty;function Py(t,e,r,i,n){if(t===Ty.BAD_PREFIX||t===Ty.UNEXPECTED_CONTINUE){let t=0;for(let i=e+1;i<r.length&&r[i]>>6==2;i++)t++;return t}return t===Ty.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(Oy||(Oy={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(Ty||(Ty={}));Object.freeze({error:function(t,e,r,i,n){return ky.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:Py,replace:function(t,e,r,i,n){return t===Ty.OVERLONG?(i.push(n),0):(i.push(65533),Py(t,e,r))}});function Cy(t){return yy(function(t,e=Oy.current){e!=Oy.current&&(ky.checkNormalize(),t=t.normalize(e));let r=[];for(let e=0;e<t.length;e++){const i=t.charCodeAt(e);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(63&i|128);else if(55296==(64512&i)){e++;const n=t.charCodeAt(e);if(e>=t.length||56320!=(64512&n))throw new Error("invalid utf-8 string");const o=65536+((1023&i)<<10)+(1023&n);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(63&i|128)}return ny(r)}(t))}var Uy=window&&window.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function s(t){try{h(i.next(t))}catch(t){o(t)}}function a(t){try{h(i.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}h((i=i.apply(t,e||[])).next())}))};const Fy=new Qv("hash/5.4.0"),By=new Uint8Array(32);By.fill(0);const Dy=dy.from(-1),Ly=dy.from(0),$y=dy.from(1),jy=dy.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const zy=hy($y.toHexString(),32),qy=hy(Ly.toHexString(),32),Gy={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Vy=["name","version","chainId","verifyingContract","salt"];function Ky(t){return function(e){return"string"!=typeof e&&Fy.throwArgumentError("invalid domain value for "+JSON.stringify(t),"domain."+t,e),e}}const Zy={name:Ky("name"),version:Ky("version"),chainId:function(t){try{return dy.from(t).toString()}catch(t){}return Fy.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return _y(t).toLowerCase()}catch(t){}return Fy.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=ny(t);if(32!==e.length)throw new Error("bad length");return sy(e)}catch(t){}return Fy.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function Hy(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=""===e[1],i=parseInt(e[2]||"256");(i%8!=0||i>256||e[2]&&e[2]!==String(i))&&Fy.throwArgumentError("invalid numeric width","type",t);const n=jy.mask(r?i-1:i),o=r?n.add($y).mul(Dy):Ly;return function(e){const r=dy.from(e);return(r.lt(o)||r.gt(n))&&Fy.throwArgumentError("value out-of-bounds for "+t,"value",e),hy(r.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(0===r||r>32||e[1]!==String(r))&&Fy.throwArgumentError("invalid bytes width","type",t),function(e){return ny(e).length!==r&&Fy.throwArgumentError("invalid length for "+t,"value",e),function(t){const e=ny(t),r=e.length%32;return r?ay([e,By.slice(r)]):sy(e)}(e)}}}switch(t){case"address":return function(t){return hy(_y(t),32)};case"bool":return function(t){return t?zy:qy};case"bytes":return function(t){return yy(t)};case"string":return function(t){return Cy(t)}}return null}function Wy(t,e){return`${t}(${e.map(({name:t,type:e})=>e+" "+t).join(",")})`}class Jy{constructor(t){Ay(this,"types",Object.freeze(xy(t))),Ay(this,"_encoderCache",{}),Ay(this,"_types",{});const e={},r={},i={};Object.keys(t).forEach(t=>{e[t]={},r[t]=[],i[t]={}});for(const i in t){const n={};t[i].forEach(o=>{n[o.name]&&Fy.throwArgumentError(`duplicate variable name ${JSON.stringify(o.name)} in ${JSON.stringify(i)}`,"types",t),n[o.name]=!0;const s=o.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===i&&Fy.throwArgumentError("circular type reference to "+JSON.stringify(s),"types",t);Hy(s)||(r[s]||Fy.throwArgumentError("unknown type "+JSON.stringify(s),"types",t),r[s].push(i),e[i][s]=!0)})}const n=Object.keys(r).filter(t=>0===r[t].length);0===n.length?Fy.throwArgumentError("missing primary type","types",t):n.length>1&&Fy.throwArgumentError("ambiguous primary types or unused types: "+n.map(t=>JSON.stringify(t)).join(", "),"types",t),Ay(this,"primaryType",n[0]),function n(o,s){s[o]&&Fy.throwArgumentError("circular type reference to "+JSON.stringify(o),"types",t),s[o]=!0,Object.keys(e[o]).forEach(t=>{r[t]&&(n(t,s),Object.keys(s).forEach(e=>{i[e][t]=!0}))}),delete s[o]}(this.primaryType,{});for(const e in i){const r=Object.keys(i[e]);r.sort(),this._types[e]=Wy(e,t[e])+r.map(e=>Wy(e,t[e])).join("")}}getEncoder(t){let e=this._encoderCache[t];return e||(e=this._encoderCache[t]=this._getEncoder(t)),e}_getEncoder(t){{const e=Hy(t);if(e)return e}const e=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){const t=e[1],r=this.getEncoder(t),i=parseInt(e[3]);return e=>{i>=0&&e.length!==i&&Fy.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e);let n=e.map(r);return this._types[t]&&(n=n.map(yy)),yy(ay(n))}}const r=this.types[t];if(r){const e=Cy(this._types[t]);return t=>{const i=r.map(({name:e,type:r})=>{const i=this.getEncoder(r)(t[e]);return this._types[r]?yy(i):i});return i.unshift(e),ay(i)}}return Fy.throwArgumentError("unknown type: "+t,"type",t)}encodeType(t){const e=this._types[t];return e||Fy.throwArgumentError("unknown type: "+JSON.stringify(t),"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return yy(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,r){if(Hy(t))return r(t,e);const i=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const t=i[1],n=parseInt(i[3]);return n>=0&&e.length!==n&&Fy.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e),e.map(e=>this._visit(t,e,r))}const n=this.types[t];return n?n.reduce((t,{name:i,type:n})=>(t[i]=this._visit(n,e[i],r),t),{}):Fy.throwArgumentError("unknown type: "+t,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new Jy(t)}static getPrimaryType(t){return Jy.from(t).primaryType}static hashStruct(t,e,r){return Jy.from(e).hashStruct(t,r)}static hashDomain(t){const e=[];for(const r in t){const i=Gy[r];i||Fy.throwArgumentError("invalid typed-data domain key: "+JSON.stringify(r),"domain",t),e.push({name:r,type:i})}return e.sort((t,e)=>Vy.indexOf(t.name)-Vy.indexOf(e.name)),Jy.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,r){return ay(["0x1901",Jy.hashDomain(t),Jy.from(e).hash(r)])}static hash(t,e,r){return yy(Jy.encode(t,e,r))}static resolveNames(t,e,r,i){return Uy(this,void 0,void 0,(function*(){t=Sy(t);const n={};t.verifyingContract&&!oy(t.verifyingContract,20)&&(n[t.verifyingContract]="0x");const o=Jy.from(e);o.visit(r,(t,e)=>("address"!==t||oy(e,20)||(n[e]="0x"),e));for(const t in n)n[t]=yield i(t);return t.verifyingContract&&n[t.verifyingContract]&&(t.verifyingContract=n[t.verifyingContract]),r=o.visit(r,(t,e)=>"address"===t&&n[e]?n[e]:e),{domain:t,value:r}}))}static getPayload(t,e,r){Jy.hashDomain(t);const i={},n=[];Vy.forEach(e=>{const r=t[e];null!=r&&(i[e]=Zy[e](r),n.push({name:e,type:Gy[e]}))});const o=Jy.from(e),s=Sy(e);return s.EIP712Domain?Fy.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",e):s.EIP712Domain=n,o.encode(r),{types:s,domain:i,primaryType:o.primaryType,message:o.visit(r,(t,e)=>{if(t.match(/^bytes(\d*)/))return sy(ny(e));if(t.match(/^u?int/))return dy.from(e).toString();switch(t){case"address":return e.toLowerCase();case"bool":return!!e;case"string":return"string"!=typeof e&&Fy.throwArgumentError("invalid string","value",e),e}return Fy.throwArgumentError("unsupported type","type",t)})}}}var Xy=a((function(t){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function n(t,e,r){if(n.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:Ot.Buffer}catch(t){}function s(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function a(t,e,r){var i=s(t,r);return r-1>=e&&(i|=s(t,r-1)<<4),i}function h(t,e,r,i){for(var n=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;n*=i,n+=a>=49?a-49+10:a>=17?a-17+10:a}return n}n.isBN=function(t){return t instanceof n||null!==t&&"object"==typeof t&&t.constructor.wordSize===n.wordSize&&Array.isArray(t.words)},n.max=function(t,e){return t.cmp(e)>0?t:e},n.min=function(t,e){return t.cmp(e)<0?t:e},n.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<t.length&&(16===e?this._parseHex(t,n,i):(this._parseBase(t,e,n),"le"===i&&this._initArray(this.toArray(),e,i)))},n.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},n.prototype._initArray=function(t,e,i){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,s,a=0;if("be"===i)for(n=t.length-1,o=0;n>=0;n-=3)s=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===i)for(n=0,o=0;n<t.length;n+=3)s=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},n.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,o=0,s=0;if("be"===r)for(i=t.length-1;i>=e;i-=2)n=a(t,e,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)n=a(t,e,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;this.strip()},n.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0;for(var o=t.length-r,s=o%i,a=Math.min(o,o-s)+r,u=0,l=r;l<a;l+=i)u=h(t,l,l+i,e),this.imuln(n),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var f=1;for(u=h(t,l,t.length,e),l=0;l<s;l++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},n.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},n.prototype.clone=function(){var t=new n(null);return this.copy(t),t},n.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function c(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],o=0|e.words[0],s=n*o,a=67108863&s,h=s/67108864|0;r.words[0]=a;for(var u=1;u<i;u++){for(var l=h>>>26,f=67108863&h,c=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=c;d++){var m=u-d|0;l+=(s=(n=0|t.words[m])*(o=0|e.words[d])+f)/67108864|0,f=67108863&s}r.words[u]=0|f,h=0|l}return 0!==h?r.words[u]=0|h:r.length--,r.strip()}n.prototype.toString=function(t,e){var i;if(e=0|e||1,16===(t=t||10)||"hex"===t){i="";for(var n=0,o=0,s=0;s<this.length;s++){var a=this.words[s],h=(16777215&(a<<n|o)).toString(16);i=0!==(o=a>>>24-n&16777215)||s!==this.length-1?u[6-h.length]+h+i:h+i,(n+=2)>=26&&(n-=26,s--)}for(0!==o&&(i=o.toString(16)+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var c=l[t],d=f[t];i="";var m=this.clone();for(m.negative=0;!m.isZero();){var p=m.modn(d).toString(t);i=(m=m.idivn(d)).isZero()?p+i:u[c-p.length]+p+i}for(this.isZero()&&(i="0"+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(t,e){return r(void 0!==o),this.toArrayLike(o,t,e)},n.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},n.prototype.toArrayLike=function(t,e,i){var n=this.byteLength(),o=i||Math.max(1,n);r(n<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,h="le"===e,u=new t(o),l=this.clone();if(h){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-n;a++)u[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[o-a-1]=s}return u},Math.clz32?n.prototype._countBits=function(t){return 32-Math.clz32(t)}:n.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},n.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},n.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},n.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},n.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},n.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},n.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},n.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},n.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},n.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},n.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},n.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},n.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},n.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},n.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},n.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this.strip()},n.prototype.notn=function(t){return this.clone().inotn(t)},n.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var i=t/26|0,n=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<n:this.words[i]&~(1<<n),this.strip()},n.prototype.iadd=function(t){var e,r,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this);for(var n=0,o=0;o<i.length;o++)e=(0|r.words[o])+(0|i.words[o])+n,this.words[o]=67108863&e,n=e>>>26;for(;0!==n&&o<r.length;o++)e=(0|r.words[o])+n,this.words[o]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},n.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},n.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,i,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=t):(r=t,i=this);for(var o=0,s=0;s<i.length;s++)o=(e=(0|r.words[s])-(0|i.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,r){var i,n,o,s=t.words,a=e.words,h=r.words,u=0,l=0|s[0],f=8191&l,c=l>>>13,d=0|s[1],m=8191&d,p=d>>>13,g=0|s[2],v=8191&g,y=g>>>13,w=0|s[3],b=8191&w,M=w>>>13,E=0|s[4],_=8191&E,N=E>>>13,A=0|s[5],S=8191&A,R=A>>>13,I=0|s[6],x=8191&I,k=I>>>13,O=0|s[7],T=8191&O,P=O>>>13,C=0|s[8],U=8191&C,F=C>>>13,B=0|s[9],D=8191&B,L=B>>>13,$=0|a[0],j=8191&$,z=$>>>13,q=0|a[1],G=8191&q,V=q>>>13,K=0|a[2],Z=8191&K,H=K>>>13,W=0|a[3],J=8191&W,X=W>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,it=et>>>13,nt=0|a[6],ot=8191&nt,st=nt>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ft=8191&lt,ct=lt>>>13,dt=0|a[9],mt=8191&dt,pt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(u+(i=Math.imul(f,j))|0)+((8191&(n=(n=Math.imul(f,z))+Math.imul(c,j)|0))<<13)|0;u=((o=Math.imul(c,z))+(n>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(m,j),n=(n=Math.imul(m,z))+Math.imul(p,j)|0,o=Math.imul(p,z);var vt=(u+(i=i+Math.imul(f,G)|0)|0)+((8191&(n=(n=n+Math.imul(f,V)|0)+Math.imul(c,G)|0))<<13)|0;u=((o=o+Math.imul(c,V)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(v,j),n=(n=Math.imul(v,z))+Math.imul(y,j)|0,o=Math.imul(y,z),i=i+Math.imul(m,G)|0,n=(n=n+Math.imul(m,V)|0)+Math.imul(p,G)|0,o=o+Math.imul(p,V)|0;var yt=(u+(i=i+Math.imul(f,Z)|0)|0)+((8191&(n=(n=n+Math.imul(f,H)|0)+Math.imul(c,Z)|0))<<13)|0;u=((o=o+Math.imul(c,H)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(b,j),n=(n=Math.imul(b,z))+Math.imul(M,j)|0,o=Math.imul(M,z),i=i+Math.imul(v,G)|0,n=(n=n+Math.imul(v,V)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,V)|0,i=i+Math.imul(m,Z)|0,n=(n=n+Math.imul(m,H)|0)+Math.imul(p,Z)|0,o=o+Math.imul(p,H)|0;var wt=(u+(i=i+Math.imul(f,J)|0)|0)+((8191&(n=(n=n+Math.imul(f,X)|0)+Math.imul(c,J)|0))<<13)|0;u=((o=o+Math.imul(c,X)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(_,j),n=(n=Math.imul(_,z))+Math.imul(N,j)|0,o=Math.imul(N,z),i=i+Math.imul(b,G)|0,n=(n=n+Math.imul(b,V)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,V)|0,i=i+Math.imul(v,Z)|0,n=(n=n+Math.imul(v,H)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,H)|0,i=i+Math.imul(m,J)|0,n=(n=n+Math.imul(m,X)|0)+Math.imul(p,J)|0,o=o+Math.imul(p,X)|0;var bt=(u+(i=i+Math.imul(f,Q)|0)|0)+((8191&(n=(n=n+Math.imul(f,tt)|0)+Math.imul(c,Q)|0))<<13)|0;u=((o=o+Math.imul(c,tt)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(S,j),n=(n=Math.imul(S,z))+Math.imul(R,j)|0,o=Math.imul(R,z),i=i+Math.imul(_,G)|0,n=(n=n+Math.imul(_,V)|0)+Math.imul(N,G)|0,o=o+Math.imul(N,V)|0,i=i+Math.imul(b,Z)|0,n=(n=n+Math.imul(b,H)|0)+Math.imul(M,Z)|0,o=o+Math.imul(M,H)|0,i=i+Math.imul(v,J)|0,n=(n=n+Math.imul(v,X)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,X)|0,i=i+Math.imul(m,Q)|0,n=(n=n+Math.imul(m,tt)|0)+Math.imul(p,Q)|0,o=o+Math.imul(p,tt)|0;var Mt=(u+(i=i+Math.imul(f,rt)|0)|0)+((8191&(n=(n=n+Math.imul(f,it)|0)+Math.imul(c,rt)|0))<<13)|0;u=((o=o+Math.imul(c,it)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(x,j),n=(n=Math.imul(x,z))+Math.imul(k,j)|0,o=Math.imul(k,z),i=i+Math.imul(S,G)|0,n=(n=n+Math.imul(S,V)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,V)|0,i=i+Math.imul(_,Z)|0,n=(n=n+Math.imul(_,H)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,H)|0,i=i+Math.imul(b,J)|0,n=(n=n+Math.imul(b,X)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,X)|0,i=i+Math.imul(v,Q)|0,n=(n=n+Math.imul(v,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,i=i+Math.imul(m,rt)|0,n=(n=n+Math.imul(m,it)|0)+Math.imul(p,rt)|0,o=o+Math.imul(p,it)|0;var Et=(u+(i=i+Math.imul(f,ot)|0)|0)+((8191&(n=(n=n+Math.imul(f,st)|0)+Math.imul(c,ot)|0))<<13)|0;u=((o=o+Math.imul(c,st)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(T,j),n=(n=Math.imul(T,z))+Math.imul(P,j)|0,o=Math.imul(P,z),i=i+Math.imul(x,G)|0,n=(n=n+Math.imul(x,V)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,V)|0,i=i+Math.imul(S,Z)|0,n=(n=n+Math.imul(S,H)|0)+Math.imul(R,Z)|0,o=o+Math.imul(R,H)|0,i=i+Math.imul(_,J)|0,n=(n=n+Math.imul(_,X)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,X)|0,i=i+Math.imul(b,Q)|0,n=(n=n+Math.imul(b,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,i=i+Math.imul(v,rt)|0,n=(n=n+Math.imul(v,it)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,it)|0,i=i+Math.imul(m,ot)|0,n=(n=n+Math.imul(m,st)|0)+Math.imul(p,ot)|0,o=o+Math.imul(p,st)|0;var _t=(u+(i=i+Math.imul(f,ht)|0)|0)+((8191&(n=(n=n+Math.imul(f,ut)|0)+Math.imul(c,ht)|0))<<13)|0;u=((o=o+Math.imul(c,ut)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(U,j),n=(n=Math.imul(U,z))+Math.imul(F,j)|0,o=Math.imul(F,z),i=i+Math.imul(T,G)|0,n=(n=n+Math.imul(T,V)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,V)|0,i=i+Math.imul(x,Z)|0,n=(n=n+Math.imul(x,H)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,H)|0,i=i+Math.imul(S,J)|0,n=(n=n+Math.imul(S,X)|0)+Math.imul(R,J)|0,o=o+Math.imul(R,X)|0,i=i+Math.imul(_,Q)|0,n=(n=n+Math.imul(_,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,i=i+Math.imul(b,rt)|0,n=(n=n+Math.imul(b,it)|0)+Math.imul(M,rt)|0,o=o+Math.imul(M,it)|0,i=i+Math.imul(v,ot)|0,n=(n=n+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,i=i+Math.imul(m,ht)|0,n=(n=n+Math.imul(m,ut)|0)+Math.imul(p,ht)|0,o=o+Math.imul(p,ut)|0;var Nt=(u+(i=i+Math.imul(f,ft)|0)|0)+((8191&(n=(n=n+Math.imul(f,ct)|0)+Math.imul(c,ft)|0))<<13)|0;u=((o=o+Math.imul(c,ct)|0)+(n>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,i=Math.imul(D,j),n=(n=Math.imul(D,z))+Math.imul(L,j)|0,o=Math.imul(L,z),i=i+Math.imul(U,G)|0,n=(n=n+Math.imul(U,V)|0)+Math.imul(F,G)|0,o=o+Math.imul(F,V)|0,i=i+Math.imul(T,Z)|0,n=(n=n+Math.imul(T,H)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,H)|0,i=i+Math.imul(x,J)|0,n=(n=n+Math.imul(x,X)|0)+Math.imul(k,J)|0,o=o+Math.imul(k,X)|0,i=i+Math.imul(S,Q)|0,n=(n=n+Math.imul(S,tt)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,tt)|0,i=i+Math.imul(_,rt)|0,n=(n=n+Math.imul(_,it)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,it)|0,i=i+Math.imul(b,ot)|0,n=(n=n+Math.imul(b,st)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,st)|0,i=i+Math.imul(v,ht)|0,n=(n=n+Math.imul(v,ut)|0)+Math.imul(y,ht)|0,o=o+Math.imul(y,ut)|0,i=i+Math.imul(m,ft)|0,n=(n=n+Math.imul(m,ct)|0)+Math.imul(p,ft)|0,o=o+Math.imul(p,ct)|0;var At=(u+(i=i+Math.imul(f,mt)|0)|0)+((8191&(n=(n=n+Math.imul(f,pt)|0)+Math.imul(c,mt)|0))<<13)|0;u=((o=o+Math.imul(c,pt)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(D,G),n=(n=Math.imul(D,V))+Math.imul(L,G)|0,o=Math.imul(L,V),i=i+Math.imul(U,Z)|0,n=(n=n+Math.imul(U,H)|0)+Math.imul(F,Z)|0,o=o+Math.imul(F,H)|0,i=i+Math.imul(T,J)|0,n=(n=n+Math.imul(T,X)|0)+Math.imul(P,J)|0,o=o+Math.imul(P,X)|0,i=i+Math.imul(x,Q)|0,n=(n=n+Math.imul(x,tt)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,tt)|0,i=i+Math.imul(S,rt)|0,n=(n=n+Math.imul(S,it)|0)+Math.imul(R,rt)|0,o=o+Math.imul(R,it)|0,i=i+Math.imul(_,ot)|0,n=(n=n+Math.imul(_,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,i=i+Math.imul(b,ht)|0,n=(n=n+Math.imul(b,ut)|0)+Math.imul(M,ht)|0,o=o+Math.imul(M,ut)|0,i=i+Math.imul(v,ft)|0,n=(n=n+Math.imul(v,ct)|0)+Math.imul(y,ft)|0,o=o+Math.imul(y,ct)|0;var St=(u+(i=i+Math.imul(m,mt)|0)|0)+((8191&(n=(n=n+Math.imul(m,pt)|0)+Math.imul(p,mt)|0))<<13)|0;u=((o=o+Math.imul(p,pt)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(D,Z),n=(n=Math.imul(D,H))+Math.imul(L,Z)|0,o=Math.imul(L,H),i=i+Math.imul(U,J)|0,n=(n=n+Math.imul(U,X)|0)+Math.imul(F,J)|0,o=o+Math.imul(F,X)|0,i=i+Math.imul(T,Q)|0,n=(n=n+Math.imul(T,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,i=i+Math.imul(x,rt)|0,n=(n=n+Math.imul(x,it)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,it)|0,i=i+Math.imul(S,ot)|0,n=(n=n+Math.imul(S,st)|0)+Math.imul(R,ot)|0,o=o+Math.imul(R,st)|0,i=i+Math.imul(_,ht)|0,n=(n=n+Math.imul(_,ut)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,ut)|0,i=i+Math.imul(b,ft)|0,n=(n=n+Math.imul(b,ct)|0)+Math.imul(M,ft)|0,o=o+Math.imul(M,ct)|0;var Rt=(u+(i=i+Math.imul(v,mt)|0)|0)+((8191&(n=(n=n+Math.imul(v,pt)|0)+Math.imul(y,mt)|0))<<13)|0;u=((o=o+Math.imul(y,pt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(D,J),n=(n=Math.imul(D,X))+Math.imul(L,J)|0,o=Math.imul(L,X),i=i+Math.imul(U,Q)|0,n=(n=n+Math.imul(U,tt)|0)+Math.imul(F,Q)|0,o=o+Math.imul(F,tt)|0,i=i+Math.imul(T,rt)|0,n=(n=n+Math.imul(T,it)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,it)|0,i=i+Math.imul(x,ot)|0,n=(n=n+Math.imul(x,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,i=i+Math.imul(S,ht)|0,n=(n=n+Math.imul(S,ut)|0)+Math.imul(R,ht)|0,o=o+Math.imul(R,ut)|0,i=i+Math.imul(_,ft)|0,n=(n=n+Math.imul(_,ct)|0)+Math.imul(N,ft)|0,o=o+Math.imul(N,ct)|0;var It=(u+(i=i+Math.imul(b,mt)|0)|0)+((8191&(n=(n=n+Math.imul(b,pt)|0)+Math.imul(M,mt)|0))<<13)|0;u=((o=o+Math.imul(M,pt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(D,Q),n=(n=Math.imul(D,tt))+Math.imul(L,Q)|0,o=Math.imul(L,tt),i=i+Math.imul(U,rt)|0,n=(n=n+Math.imul(U,it)|0)+Math.imul(F,rt)|0,o=o+Math.imul(F,it)|0,i=i+Math.imul(T,ot)|0,n=(n=n+Math.imul(T,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,i=i+Math.imul(x,ht)|0,n=(n=n+Math.imul(x,ut)|0)+Math.imul(k,ht)|0,o=o+Math.imul(k,ut)|0,i=i+Math.imul(S,ft)|0,n=(n=n+Math.imul(S,ct)|0)+Math.imul(R,ft)|0,o=o+Math.imul(R,ct)|0;var xt=(u+(i=i+Math.imul(_,mt)|0)|0)+((8191&(n=(n=n+Math.imul(_,pt)|0)+Math.imul(N,mt)|0))<<13)|0;u=((o=o+Math.imul(N,pt)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(D,rt),n=(n=Math.imul(D,it))+Math.imul(L,rt)|0,o=Math.imul(L,it),i=i+Math.imul(U,ot)|0,n=(n=n+Math.imul(U,st)|0)+Math.imul(F,ot)|0,o=o+Math.imul(F,st)|0,i=i+Math.imul(T,ht)|0,n=(n=n+Math.imul(T,ut)|0)+Math.imul(P,ht)|0,o=o+Math.imul(P,ut)|0,i=i+Math.imul(x,ft)|0,n=(n=n+Math.imul(x,ct)|0)+Math.imul(k,ft)|0,o=o+Math.imul(k,ct)|0;var kt=(u+(i=i+Math.imul(S,mt)|0)|0)+((8191&(n=(n=n+Math.imul(S,pt)|0)+Math.imul(R,mt)|0))<<13)|0;u=((o=o+Math.imul(R,pt)|0)+(n>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(D,ot),n=(n=Math.imul(D,st))+Math.imul(L,ot)|0,o=Math.imul(L,st),i=i+Math.imul(U,ht)|0,n=(n=n+Math.imul(U,ut)|0)+Math.imul(F,ht)|0,o=o+Math.imul(F,ut)|0,i=i+Math.imul(T,ft)|0,n=(n=n+Math.imul(T,ct)|0)+Math.imul(P,ft)|0,o=o+Math.imul(P,ct)|0;var Ot=(u+(i=i+Math.imul(x,mt)|0)|0)+((8191&(n=(n=n+Math.imul(x,pt)|0)+Math.imul(k,mt)|0))<<13)|0;u=((o=o+Math.imul(k,pt)|0)+(n>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,i=Math.imul(D,ht),n=(n=Math.imul(D,ut))+Math.imul(L,ht)|0,o=Math.imul(L,ut),i=i+Math.imul(U,ft)|0,n=(n=n+Math.imul(U,ct)|0)+Math.imul(F,ft)|0,o=o+Math.imul(F,ct)|0;var Tt=(u+(i=i+Math.imul(T,mt)|0)|0)+((8191&(n=(n=n+Math.imul(T,pt)|0)+Math.imul(P,mt)|0))<<13)|0;u=((o=o+Math.imul(P,pt)|0)+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(D,ft),n=(n=Math.imul(D,ct))+Math.imul(L,ft)|0,o=Math.imul(L,ct);var Pt=(u+(i=i+Math.imul(U,mt)|0)|0)+((8191&(n=(n=n+Math.imul(U,pt)|0)+Math.imul(F,mt)|0))<<13)|0;u=((o=o+Math.imul(F,pt)|0)+(n>>>13)|0)+(Pt>>>26)|0,Pt&=67108863;var Ct=(u+(i=Math.imul(D,mt))|0)+((8191&(n=(n=Math.imul(D,pt))+Math.imul(L,mt)|0))<<13)|0;return u=((o=Math.imul(L,pt))+(n>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,h[0]=gt,h[1]=vt,h[2]=yt,h[3]=wt,h[4]=bt,h[5]=Mt,h[6]=Et,h[7]=_t,h[8]=Nt,h[9]=At,h[10]=St,h[11]=Rt,h[12]=It,h[13]=xt,h[14]=kt,h[15]=Ot,h[16]=Tt,h[17]=Pt,h[18]=Ct,0!==u&&(h[19]=u,r.length++),r};function m(t,e,r){return(new p).mulp(t,e,r)}function p(t,e){this.x=t,this.y=e}Math.imul||(d=c),n.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?d(this,t,e):r<63?c(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,o=0;o<r.length-1;o++){var s=n;n=0;for(var a=67108863&i,h=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=h;u++){var l=o-u,f=(0|t.words[l])*(0|e.words[u]),c=67108863&f;a=67108863&(c=c+a|0),n+=(s=(s=s+(f/67108864|0)|0)+(c>>>26)|0)>>>26,s&=67108863}r.words[o]=a,i=s,s=n}return 0!==i?r.words[o]=i:r.length--,r.strip()}(this,t,e):m(this,t,e)},p.prototype.makeRBT=function(t){for(var e=new Array(t),r=n.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},p.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var i=0,n=0;n<e;n++)i|=(1&t)<<e-n-1,t>>=1;return i},p.prototype.permute=function(t,e,r,i,n,o){for(var s=0;s<o;s++)i[s]=e[t[s]],n[s]=r[t[s]]},p.prototype.transform=function(t,e,r,i,n,o){this.permute(o,t,e,r,i,n);for(var s=1;s<n;s<<=1)for(var a=s<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<n;l+=a)for(var f=h,c=u,d=0;d<s;d++){var m=r[l+d],p=i[l+d],g=r[l+d+s],v=i[l+d+s],y=f*g-c*v;v=f*v+c*g,g=y,r[l+d]=m+g,i[l+d]=p+v,r[l+d+s]=m-g,i[l+d+s]=p-v,d!==a&&(y=h*f-u*c,c=h*c+u*f,f=y)}},p.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},p.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},p.prototype.normalize13b=function(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=67108863&n,r=n<67108864?0:n/67108864|0}return t},p.prototype.convert13b=function(t,e,i,n){for(var o=0,s=0;s<e;s++)o+=0|t[s],i[2*s]=8191&o,o>>>=13,i[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<n;++s)i[s]=0;r(0===o),r(0==(-8192&o))},p.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},p.prototype.mulp=function(t,e,r){var i=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(i),o=this.stub(i),s=new Array(i),a=new Array(i),h=new Array(i),u=new Array(i),l=new Array(i),f=new Array(i),c=r.words;c.length=i,this.convert13b(t.words,t.length,s,i),this.convert13b(e.words,e.length,u,i),this.transform(s,o,a,h,i,n),this.transform(u,o,l,f,i,n);for(var d=0;d<i;d++){var m=a[d]*l[d]-h[d]*f[d];h[d]=a[d]*f[d]+h[d]*l[d],a[d]=m}return this.conjugate(a,h,i),this.transform(a,h,c,o,i,n),this.conjugate(c,o,i),this.normalize13b(c,i),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},n.prototype.mul=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},n.prototype.mulf=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),m(this,t,e)},n.prototype.imul=function(t){return this.clone().mulTo(t,this)},n.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,i=0;i<this.length;i++){var n=(0|this.words[i])*t,o=(67108863&n)+(67108863&e);e>>=26,e+=n/67108864|0,e+=o>>>26,this.words[i]=67108863&o}return 0!==e&&(this.words[i]=e,this.length++),this},n.prototype.muln=function(t){return this.clone().imuln(t)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=(t.words[i]&1<<n)>>>n}return e}(t);if(0===e.length)return new n(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var o=r.sqr();i<e.length;i++,o=o.sqr())0!==e[i]&&(r=r.mul(o));return r},n.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,i=t%26,n=(t-i)/26,o=67108863>>>26-i<<26-i;if(0!==i){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,h=(0|this.words[e])-a<<i;this.words[e]=h|s,s=a>>>26-i}s&&(this.words[e]=s,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this.strip()},n.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},n.prototype.iushrn=function(t,e,i){var n;r("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,h=i;if(n-=s,n=Math.max(0,n),h){for(var u=0;u<s;u++)h.words[u]=this.words[u];h.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=n);u--){var f=0|this.words[u];this.words[u]=l<<26-o|f>>>o,l=f&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(t,e,i){return r(0===this.negative),this.iushrn(t,e,i)},n.prototype.shln=function(t){return this.clone().ishln(t)},n.prototype.ushln=function(t){return this.clone().iushln(t)},n.prototype.shrn=function(t){return this.clone().ishrn(t)},n.prototype.ushrn=function(t){return this.clone().iushrn(t)},n.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26,n=1<<e;return!(this.length<=i)&&!!(this.words[i]&n)},n.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this.strip()},n.prototype.maskn=function(t){return this.clone().imaskn(t)},n.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},n.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},n.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},n.prototype.addn=function(t){return this.clone().iaddn(t)},n.prototype.subn=function(t){return this.clone().isubn(t)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(t,e,i){var n,o,s=t.length+i;this._expand(s);var a=0;for(n=0;n<t.length;n++){o=(0|this.words[n+i])+a;var h=(0|t.words[n])*e;a=((o-=67108863&h)>>26)-(h/67108864|0),this.words[n+i]=67108863&o}for(;n<this.length-i;n++)a=(o=(0|this.words[n+i])+a)>>26,this.words[n+i]=67108863&o;if(0===a)return this.strip();for(r(-1===a),a=0,n=0;n<this.length;n++)a=(o=-(0|this.words[n])+a)>>26,this.words[n]=67108863&o;return this.negative=1,this.strip()},n.prototype._wordDiv=function(t,e){var r=(this.length,t.length),i=this.clone(),o=t,s=0|o.words[o.length-1];0!==(r=26-this._countBits(s))&&(o=o.ushln(r),i.iushln(r),s=0|o.words[o.length-1]);var a,h=i.length-o.length;if("mod"!==e){(a=new n(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=i.clone()._ishlnsubmul(o,1,h);0===l.negative&&(i=l,a&&(a.words[h]=1));for(var f=h-1;f>=0;f--){var c=67108864*(0|i.words[o.length+f])+(0|i.words[o.length+f-1]);for(c=Math.min(c/s|0,67108863),i._ishlnsubmul(o,c,f);0!==i.negative;)c--,i.negative=0,i._ishlnsubmul(o,1,f),i.isZero()||(i.negative^=1);a&&(a.words[f]=c)}return a&&a.strip(),i.strip(),"div"!==e&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},n.prototype.divmod=function(t,e,i){return r(!t.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(o=a.div.neg()),"div"!==e&&(s=a.mod.neg(),i&&0!==s.negative&&s.iadd(t)),{div:o,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(o=a.div.neg()),{div:o,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),i&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new n(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new n(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new n(this.modn(t.words[0]))}:this._wordDiv(t,e);var o,s,a},n.prototype.div=function(t){return this.divmod(t,"div",!1).div},n.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},n.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},n.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),o=r.cmp(i);return o<0||1===n&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},n.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,i=0,n=this.length-1;n>=0;n--)i=(e*i+(0|this.words[n]))%t;return i},n.prototype.idivn=function(t){r(t<=67108863);for(var e=0,i=this.length-1;i>=0;i--){var n=(0|this.words[i])+67108864*e;this.words[i]=n/t|0,e=n%t}return this.strip()},n.prototype.divn=function(t){return this.clone().idivn(t)},n.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new n(1),s=new n(0),a=new n(0),h=new n(1),u=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++u;for(var l=i.clone(),f=e.clone();!e.isZero();){for(var c=0,d=1;0==(e.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(e.iushrn(c);c-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(l),s.isub(f)),o.iushrn(1),s.iushrn(1);for(var m=0,p=1;0==(i.words[0]&p)&&m<26;++m,p<<=1);if(m>0)for(i.iushrn(m);m-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(f)),a.iushrn(1),h.iushrn(1);e.cmp(i)>=0?(e.isub(i),o.isub(a),s.isub(h)):(i.isub(e),a.isub(o),h.isub(s))}return{a:a,b:h,gcd:i.iushln(u)}},n.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,s=new n(1),a=new n(0),h=i.clone();e.cmpn(1)>0&&i.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var f=0,c=1;0==(i.words[0]&c)&&f<26;++f,c<<=1);if(f>0)for(i.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(i)>=0?(e.isub(i),s.isub(a)):(i.isub(e),a.isub(s))}return(o=0===e.cmpn(1)?s:a).cmpn(0)<0&&o.iadd(t),o},n.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var o=e;e=r,r=o}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},n.prototype.invm=function(t){return this.egcd(t).a.umod(t)},n.prototype.isEven=function(){return 0==(1&this.words[0])},n.prototype.isOdd=function(){return 1==(1&this.words[0])},n.prototype.andln=function(t){return this.words[0]&t},n.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,i=(t-e)/26,n=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var o=n,s=i;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(t){var e,i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)e=1;else{i&&(t=-t),r(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},n.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},n.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},n.prototype.gtn=function(t){return 1===this.cmpn(t)},n.prototype.gt=function(t){return 1===this.cmp(t)},n.prototype.gten=function(t){return this.cmpn(t)>=0},n.prototype.gte=function(t){return this.cmp(t)>=0},n.prototype.ltn=function(t){return-1===this.cmpn(t)},n.prototype.lt=function(t){return-1===this.cmp(t)},n.prototype.lten=function(t){return this.cmpn(t)<=0},n.prototype.lte=function(t){return this.cmp(t)<=0},n.prototype.eqn=function(t){return 0===this.cmpn(t)},n.prototype.eq=function(t){return 0===this.cmp(t)},n.red=function(t){return new E(t)},n.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(t){return this.red=t,this},n.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},n.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},n.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},n.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},n.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},n.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},n.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},n.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new n(e,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(t){if("string"==typeof t){var e=n._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function _(t){E.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new n(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},i(y,v),y.prototype.split=function(t,e){for(var r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var n=t.words[9];for(e.words[e.length++]=4194303&n,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(4194303&o)<<4|n>>>22,n=o}n>>>=22,t.words[i-10]=n,0===n&&t.length>10?t.length-=10:t.length-=9},y.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,v),i(b,v),i(M,v),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=19*(0|t.words[r])+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},n._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new y;else if("p224"===t)e=new w;else if("p192"===t)e=new b;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return g[t]=e,e},E.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},E.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},E.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},E.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},E.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},E.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},E.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},E.prototype.isqr=function(t){return this.imul(t,t.clone())},E.prototype.sqr=function(t){return this.mul(t,t)},E.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var i=this.m.add(new n(1)).iushrn(2);return this.pow(t,i)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new n(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new n(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var f=this.pow(l,o),c=this.pow(t,o.addn(1).iushrn(1)),d=this.pow(t,o),m=s;0!==d.cmp(a);){for(var p=d,g=0;0!==p.cmp(a);g++)p=p.redSqr();r(g<m);var v=this.pow(f,new n(1).iushln(m-g-1));c=c.redMul(v),f=v.redSqr(),d=d.redMul(f),m=g}return c},E.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},E.prototype.pow=function(t,e){if(e.isZero())return new n(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new n(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var o=r[0],s=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),i=e.length-1;i>=0;i--){for(var u=e.words[i],l=h-1;l>=0;l--){var f=u>>l&1;o!==r[0]&&(o=this.sqr(o)),0!==f||0!==s?(s<<=1,s|=f,(4===++a||0===i&&0===l)&&(o=this.mul(o,r[s]),a=0,s=0)):a=0}h=26}return o},E.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},E.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},n.mont=function(t){return new _(t)},i(_,E),_.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},_.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},_.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},_.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new n(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(i).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},_.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,n)}));function Yy(t,e,r){return t(r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&r.path)}},r.exports),r.exports}var Qy=tw;function tw(t,e){if(!t)throw new Error(e||"Assertion failed")}tw.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var ew=Yy((function(t,e){var r=e;function i(t){return 1===t.length?"0"+t:t}function n(t){for(var e="",r=0;r<t.length;r++)e+=i(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var i=0;i<t.length;i++)r[i]=0|t[i];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t);for(i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(i=0;i<t.length;i++){var n=t.charCodeAt(i),o=n>>8,s=255&n;o?r.push(o,s):r.push(s)}return r},r.zero2=i,r.toHex=n,r.encode=function(t,e){return"hex"===e?n(t):t}})),rw=Yy((function(t,e){var r=e;r.assert=Qy,r.toArray=ew.toArray,r.zero2=ew.zero2,r.toHex=ew.toHex,r.encode=ew.encode,r.getNAF=function(t,e,r){var i=new Array(Math.max(t.bitLength(),r)+1);i.fill(0);for(var n=1<<e+1,o=t.clone(),s=0;s<i.length;s++){var a,h=o.andln(n-1);o.isOdd()?(a=h>(n>>1)-1?(n>>1)-h:h,o.isubn(a)):a=0,i[s]=a,o.iushrn(1)}return i},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var i,n=0,o=0;t.cmpn(-n)>0||e.cmpn(-o)>0;){var s,a,h=t.andln(3)+n&3,u=e.andln(3)+o&3;3===h&&(h=-1),3===u&&(u=-1),s=0==(1&h)?0:3!==(i=t.andln(7)+n&7)&&5!==i||2!==u?h:-h,r[0].push(s),a=0==(1&u)?0:3!==(i=e.andln(7)+o&7)&&5!==i||2!==h?u:-u,r[1].push(a),2*n===s+1&&(n=1-n),2*o===a+1&&(o=1-o),t.iushrn(1),e.iushrn(1)}return r},r.cachedProperty=function(t,e,r){var i="_"+e;t.prototype[e]=function(){return void 0!==this[i]?this[i]:this[i]=r.call(this)}},r.parseBytes=function(t){return"string"==typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new Xy(t,"hex","le")}})),iw=rw.getNAF,nw=rw.getJSF,ow=rw.assert;function sw(t,e){this.type=t,this.p=new Xy(e.p,16),this.red=e.prime?Xy.red(e.prime):Xy.mont(this.p),this.zero=new Xy(0).toRed(this.red),this.one=new Xy(1).toRed(this.red),this.two=new Xy(2).toRed(this.red),this.n=e.n&&new Xy(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var aw=sw;function hw(t,e){this.curve=t,this.type=e,this.precomputed=null}sw.prototype.point=function(){throw new Error("Not implemented")},sw.prototype.validate=function(){throw new Error("Not implemented")},sw.prototype._fixedNafMul=function(t,e){ow(t.precomputed);var r=t._getDoubles(),i=iw(e,1,this._bitLength),n=(1<<r.step+1)-(r.step%2==0?2:1);n/=3;var o,s,a=[];for(o=0;o<i.length;o+=r.step){s=0;for(var h=o+r.step-1;h>=o;h--)s=(s<<1)+i[h];a.push(s)}for(var u=this.jpoint(null,null,null),l=this.jpoint(null,null,null),f=n;f>0;f--){for(o=0;o<a.length;o++)(s=a[o])===f?l=l.mixedAdd(r.points[o]):s===-f&&(l=l.mixedAdd(r.points[o].neg()));u=u.add(l)}return u.toP()},sw.prototype._wnafMul=function(t,e){var r=4,i=t._getNAFPoints(r);r=i.wnd;for(var n=i.points,o=iw(e,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var h=0;a>=0&&0===o[a];a--)h++;if(a>=0&&h++,s=s.dblp(h),a<0)break;var u=o[a];ow(0!==u),s="affine"===t.type?u>0?s.mixedAdd(n[u-1>>1]):s.mixedAdd(n[-u-1>>1].neg()):u>0?s.add(n[u-1>>1]):s.add(n[-u-1>>1].neg())}return"affine"===t.type?s.toP():s},sw.prototype._wnafMulAdd=function(t,e,r,i,n){var o,s,a,h=this._wnafT1,u=this._wnafT2,l=this._wnafT3,f=0;for(o=0;o<i;o++){var c=(a=e[o])._getNAFPoints(t);h[o]=c.wnd,u[o]=c.points}for(o=i-1;o>=1;o-=2){var d=o-1,m=o;if(1===h[d]&&1===h[m]){var p=[e[d],null,null,e[m]];0===e[d].y.cmp(e[m].y)?(p[1]=e[d].add(e[m]),p[2]=e[d].toJ().mixedAdd(e[m].neg())):0===e[d].y.cmp(e[m].y.redNeg())?(p[1]=e[d].toJ().mixedAdd(e[m]),p[2]=e[d].add(e[m].neg())):(p[1]=e[d].toJ().mixedAdd(e[m]),p[2]=e[d].toJ().mixedAdd(e[m].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],v=nw(r[d],r[m]);for(f=Math.max(v[0].length,f),l[d]=new Array(f),l[m]=new Array(f),s=0;s<f;s++){var y=0|v[0][s],w=0|v[1][s];l[d][s]=g[3*(y+1)+(w+1)],l[m][s]=0,u[d]=p}}else l[d]=iw(r[d],h[d],this._bitLength),l[m]=iw(r[m],h[m],this._bitLength),f=Math.max(l[d].length,f),f=Math.max(l[m].length,f)}var b=this.jpoint(null,null,null),M=this._wnafT4;for(o=f;o>=0;o--){for(var E=0;o>=0;){var _=!0;for(s=0;s<i;s++)M[s]=0|l[s][o],0!==M[s]&&(_=!1);if(!_)break;E++,o--}if(o>=0&&E++,b=b.dblp(E),o<0)break;for(s=0;s<i;s++){var N=M[s];0!==N&&(N>0?a=u[s][N-1>>1]:N<0&&(a=u[s][-N-1>>1].neg()),b="affine"===a.type?b.mixedAdd(a):b.add(a))}}for(o=0;o<i;o++)u[o]=null;return n?b:b.toP()},sw.BasePoint=hw,hw.prototype.eq=function(){throw new Error("Not implemented")},hw.prototype.validate=function(){return this.curve.validate(this)},sw.prototype.decodePoint=function(t,e){t=rw.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?ow(t[t.length-1]%2==0):7===t[0]&&ow(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},hw.prototype.encodeCompressed=function(t){return this.encode(t,!0)},hw.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},hw.prototype.encode=function(t,e){return rw.encode(this._encode(e),t)},hw.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},hw.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},hw.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<e;n+=t){for(var o=0;o<t;o++)i=i.dbl();r.push(i)}return{step:t,points:r}},hw.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,i=1===r?null:this.dbl(),n=1;n<r;n++)e[n]=e[n-1].add(i);return{wnd:t,points:e}},hw.prototype._getBeta=function(){return null},hw.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var uw=Yy((function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),lw=rw.assert;function fw(t){aw.call(this,"short",t),this.a=new Xy(t.a,16).toRed(this.red),this.b=new Xy(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}uw(fw,aw);var cw=fw;function dw(t,e,r,i){aw.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new Xy(e,16),this.y=new Xy(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function mw(t,e,r,i){aw.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Xy(0)):(this.x=new Xy(e,16),this.y=new Xy(r,16),this.z=new Xy(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}fw.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new Xy(t.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);e=(e=i[0].cmp(i[1])<0?i[0]:i[1]).toRed(this.red)}if(t.lambda)r=new Xy(t.lambda,16);else{var n=this._getEndoRoots(this.n);0===this.g.mul(n[0]).x.cmp(this.g.x.redMul(e))?r=n[0]:(r=n[1],lw(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new Xy(t.a,16),b:new Xy(t.b,16)}})):this._getEndoBasis(r)}}},fw.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:Xy.mont(t),r=new Xy(2).toRed(e).redInvm(),i=r.redNeg(),n=new Xy(3).toRed(e).redNeg().redSqrt().redMul(r);return[i.redAdd(n).fromRed(),i.redSub(n).fromRed()]},fw.prototype._getEndoBasis=function(t){for(var e,r,i,n,o,s,a,h,u,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=t,c=this.n.clone(),d=new Xy(1),m=new Xy(0),p=new Xy(0),g=new Xy(1),v=0;0!==f.cmpn(0);){var y=c.div(f);h=c.sub(y.mul(f)),u=p.sub(y.mul(d));var w=g.sub(y.mul(m));if(!i&&h.cmp(l)<0)e=a.neg(),r=d,i=h.neg(),n=u;else if(i&&2==++v)break;a=h,c=f,f=h,p=d,d=u,g=m,m=w}o=h.neg(),s=u;var b=i.sqr().add(n.sqr());return o.sqr().add(s.sqr()).cmp(b)>=0&&(o=e,s=r),i.negative&&(i=i.neg(),n=n.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:i,b:n},{a:o,b:s}]},fw.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],i=e[1],n=i.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),s=n.mul(r.a),a=o.mul(i.a),h=n.mul(r.b),u=o.mul(i.b);return{k1:t.sub(s).sub(a),k2:h.add(u).neg()}},fw.prototype.pointFromX=function(t,e){(t=new Xy(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(0!==i.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var n=i.fromRed().isOdd();return(e&&!n||!e&&n)&&(i=i.redNeg()),this.point(t,i)},fw.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,i=this.a.redMul(e),n=e.redSqr().redMul(e).redIAdd(i).redIAdd(this.b);return 0===r.redSqr().redISub(n).cmpn(0)},fw.prototype._endoWnafMulAdd=function(t,e,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,o=0;o<t.length;o++){var s=this._endoSplit(e[o]),a=t[o],h=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),h=h.neg(!0)),i[2*o]=a,i[2*o+1]=h,n[2*o]=s.k1,n[2*o+1]=s.k2}for(var u=this._wnafMulAdd(1,i,n,2*o,r),l=0;l<2*o;l++)i[l]=null,n[l]=null;return u},uw(dw,aw.BasePoint),fw.prototype.point=function(t,e,r){return new dw(this,t,e,r)},fw.prototype.pointFromJSON=function(t,e){return dw.fromJSON(this,t,e)},dw.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,i=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return e}},dw.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},dw.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var i=t.point(e[0],e[1],r);if(!e[2])return i;function n(e){return t.point(e[0],e[1],r)}var o=e[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(n))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(n))}},i},dw.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},dw.prototype.isInfinity=function(){return this.inf},dw.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),i=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},dw.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),i=t.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(i),o=n.redSqr().redISub(this.x.redAdd(this.x)),s=n.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},dw.prototype.getX=function(){return this.x.fromRed()},dw.prototype.getY=function(){return this.y.fromRed()},dw.prototype.mul=function(t){return t=new Xy(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},dw.prototype.mulAdd=function(t,e,r){var i=[this,e],n=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},dw.prototype.jmulAdd=function(t,e,r){var i=[this,e],n=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},dw.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},dw.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,i=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return e},dw.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},uw(mw,aw.BasePoint),fw.prototype.jpoint=function(t,e,r){return new mw(this,t,e,r)},mw.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),i=this.y.redMul(e).redMul(t);return this.curve.point(r,i)},mw.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},mw.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(e),n=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(r.redMul(this.z)),a=i.redSub(n),h=o.redSub(s);if(0===a.cmpn(0))return 0!==h.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),f=i.redMul(u),c=h.redSqr().redIAdd(l).redISub(f).redISub(f),d=h.redMul(f.redISub(c)).redISub(o.redMul(l)),m=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(c,d,m)},mw.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,i=t.x.redMul(e),n=this.y,o=t.y.redMul(e).redMul(this.z),s=r.redSub(i),a=n.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=s.redSqr(),u=h.redMul(s),l=r.redMul(h),f=a.redSqr().redIAdd(u).redISub(l).redISub(l),c=a.redMul(l.redISub(f)).redISub(n.redMul(u)),d=this.z.redMul(s);return this.curve.jpoint(f,c,d)},mw.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,o=this.x,s=this.y,a=this.z,h=a.redSqr().redSqr(),u=s.redAdd(s);for(e=0;e<t;e++){var l=o.redSqr(),f=u.redSqr(),c=f.redSqr(),d=l.redAdd(l).redIAdd(l).redIAdd(i.redMul(h)),m=o.redMul(f),p=d.redSqr().redISub(m.redAdd(m)),g=m.redISub(p),v=d.redMul(g);v=v.redIAdd(v).redISub(c);var y=u.redMul(a);e+1<t&&(h=h.redMul(c)),o=p,a=y,u=v}return this.curve.jpoint(o,u.redMul(n),a)},mw.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},mw.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),o=n.redSqr(),s=this.x.redAdd(n).redSqr().redISub(i).redISub(o);s=s.redIAdd(s);var a=i.redAdd(i).redIAdd(i),h=a.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=h,e=a.redMul(s.redISub(h)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),f=this.y.redSqr(),c=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(l).redISub(c);d=d.redIAdd(d);var m=l.redAdd(l).redIAdd(l),p=m.redSqr(),g=c.redIAdd(c);g=(g=g.redIAdd(g)).redIAdd(g),t=p.redISub(d).redISub(d),e=m.redMul(d.redISub(t)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},mw.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),o=n.redSqr(),s=this.x.redAdd(n).redSqr().redISub(i).redISub(o);s=s.redIAdd(s);var a=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),h=a.redSqr().redISub(s).redISub(s);t=h;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=a.redMul(s.redISub(h)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),f=this.y.redSqr(),c=this.x.redMul(f),d=this.x.redSub(l).redMul(this.x.redAdd(l));d=d.redAdd(d).redIAdd(d);var m=c.redIAdd(c),p=(m=m.redIAdd(m)).redAdd(m);t=d.redSqr().redISub(p),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(l);var g=f.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=d.redMul(m.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,r)},mw.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),o=e.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(n)),h=e.redAdd(e),u=(h=h.redIAdd(h)).redMul(s),l=a.redSqr().redISub(u.redAdd(u)),f=u.redISub(l),c=s.redSqr();c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var d=a.redMul(f).redISub(c),m=r.redAdd(r).redMul(i);return this.curve.jpoint(l,d,m)},mw.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),i=e.redSqr(),n=t.redAdd(t).redIAdd(t),o=n.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(i),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),h=i.redIAdd(i);h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var u=n.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(h),l=e.redMul(u);l=(l=l.redIAdd(l)).redIAdd(l);var f=this.x.redMul(a).redISub(l);f=(f=f.redIAdd(f)).redIAdd(f);var c=this.y.redMul(u.redMul(h.redISub(u)).redISub(s.redMul(a)));c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(f,c,d)},mw.prototype.mul=function(t,e){return t=new Xy(t,e),this.curve._wnafMul(this,t)},mw.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var i=e.redMul(this.z),n=r.redMul(t.z);return 0===this.y.redMul(n).redISub(t.y.redMul(i)).cmpn(0)},mw.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var i=t.clone(),n=this.curve.redN.redMul(e);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),0===this.x.cmp(r))return!0}},mw.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},mw.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var pw=Yy((function(t,e){var r=e;r.base=aw,r.short=cw,r.mont=null,r.edwards=null})),gw=Yy((function(t,e){var r,i=e,n=rw.assert;function o(t){"short"===t.type?this.curve=new pw.short(t):"edwards"===t.type?this.curve=new pw.edwards(t):this.curve=new pw.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(t,e){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var r=new o(e);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=o,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Pp.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Pp.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Pp.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Pp.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Pp.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Pp.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Pp.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(t){r=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Pp.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function vw(t){if(!(this instanceof vw))return new vw(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=ew.toArray(t.entropy,t.entropyEnc||"hex"),r=ew.toArray(t.nonce,t.nonceEnc||"hex"),i=ew.toArray(t.pers,t.persEnc||"hex");Qy(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,i)}var yw=vw;vw.prototype._init=function(t,e,r){var i=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},vw.prototype._hmac=function(){return new Pp.hmac(this.hash,this.K)},vw.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},vw.prototype.reseed=function(t,e,r,i){"string"!=typeof e&&(i=r,r=e,e=null),t=ew.toArray(t,e),r=ew.toArray(r,i),Qy(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},vw.prototype.generate=function(t,e,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(i=r,r=e,e=null),r&&(r=ew.toArray(r,i||"hex"),this._update(r));for(var n=[];n.length<t;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var o=n.slice(0,t);return this._update(r),this._reseed++,ew.encode(o,e)};var ww=rw.assert;function bw(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Mw=bw;bw.fromPublic=function(t,e,r){return e instanceof bw?e:new bw(t,{pub:e,pubEnc:r})},bw.fromPrivate=function(t,e,r){return e instanceof bw?e:new bw(t,{priv:e,privEnc:r})},bw.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},bw.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},bw.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},bw.prototype._importPrivate=function(t,e){this.priv=new Xy(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},bw.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?ww(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||ww(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},bw.prototype.derive=function(t){return t.validate()||ww(t.validate(),"public point not validated"),t.mul(this.priv).getX()},bw.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},bw.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},bw.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Ew=rw.assert;function _w(t,e){if(t instanceof _w)return t;this._importDER(t,e)||(Ew(t.r&&t.s,"Signature without r or s"),this.r=new Xy(t.r,16),this.s=new Xy(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Nw=_w;function Aw(){this.place=0}function Sw(t,e){var r=t[e.place++];if(!(128&r))return r;var i=15&r;if(0===i||i>4)return!1;for(var n=0,o=0,s=e.place;o<i;o++,s++)n<<=8,n|=t[s],n>>>=0;return!(n<=127)&&(e.place=s,n)}function Rw(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function Iw(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}_w.prototype._importDER=function(t,e){t=rw.toArray(t,e);var r=new Aw;if(48!==t[r.place++])return!1;var i=Sw(t,r);if(!1===i)return!1;if(i+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var n=Sw(t,r);if(!1===n)return!1;var o=t.slice(r.place,n+r.place);if(r.place+=n,2!==t[r.place++])return!1;var s=Sw(t,r);if(!1===s)return!1;if(t.length!==s+r.place)return!1;var a=t.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new Xy(o),this.s=new Xy(a),this.recoveryParam=null,!0},_w.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=Rw(e),r=Rw(r);!(r[0]||128&r[1]);)r=r.slice(1);var i=[2];Iw(i,e.length),(i=i.concat(e)).push(2),Iw(i,r.length);var n=i.concat(r),o=[48];return Iw(o,n.length),o=o.concat(n),rw.encode(o,t)};var xw=function(){throw new Error("unsupported")},kw=rw.assert;function Ow(t){if(!(this instanceof Ow))return new Ow(t);"string"==typeof t&&(kw(Object.prototype.hasOwnProperty.call(gw,t),"Unknown curve "+t),t=gw[t]),t instanceof gw.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Tw=Ow;Ow.prototype.keyPair=function(t){return new Mw(this,t)},Ow.prototype.keyFromPrivate=function(t,e){return Mw.fromPrivate(this,t,e)},Ow.prototype.keyFromPublic=function(t,e){return Mw.fromPublic(this,t,e)},Ow.prototype.genKeyPair=function(t){t||(t={});for(var e=new yw({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||xw(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new Xy(2));;){var n=new Xy(e.generate(r));if(!(n.cmp(i)>0))return n.iaddn(1),this.keyFromPrivate(n)}},Ow.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},Ow.prototype.sign=function(t,e,r,i){"object"==typeof r&&(i=r,r=null),i||(i={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new Xy(t,16));for(var n=this.n.byteLength(),o=e.getPrivate().toArray("be",n),s=t.toArray("be",n),a=new yw({hash:this.hash,entropy:o,nonce:s,pers:i.pers,persEnc:i.persEnc||"utf8"}),h=this.n.sub(new Xy(1)),u=0;;u++){var l=i.k?i.k(u):new Xy(a.generate(this.n.byteLength()));if(!((l=this._truncateToN(l,!0)).cmpn(1)<=0||l.cmp(h)>=0)){var f=this.g.mul(l);if(!f.isInfinity()){var c=f.getX(),d=c.umod(this.n);if(0!==d.cmpn(0)){var m=l.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(m=m.umod(this.n)).cmpn(0)){var p=(f.getY().isOdd()?1:0)|(0!==c.cmp(d)?2:0);return i.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),p^=1),new Nw({r:d,s:m,recoveryParam:p})}}}}}},Ow.prototype.verify=function(t,e,r,i){t=this._truncateToN(new Xy(t,16)),r=this.keyFromPublic(r,i);var n=(e=new Nw(e,"hex")).r,o=e.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,a=o.invm(this.n),h=a.mul(t).umod(this.n),u=a.mul(n).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(h,r.getPublic(),u)).isInfinity()&&s.eqXToP(n):!(s=this.g.mulAdd(h,r.getPublic(),u)).isInfinity()&&0===s.getX().umod(this.n).cmp(n)},Ow.prototype.recoverPubKey=function(t,e,r,i){kw((3&r)===r,"The recovery param is more than two bits"),e=new Nw(e,i);var n=this.n,o=new Xy(t),s=e.r,a=e.s,h=1&r,u=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");s=u?this.curve.pointFromX(s.add(this.curve.n),h):this.curve.pointFromX(s,h);var l=e.r.invm(n),f=n.sub(o).mul(l).umod(n),c=a.mul(l).umod(n);return this.g.mulAdd(f,s,c)},Ow.prototype.getKeyRecoveryParam=function(t,e,r,i){if(null!==(e=new Nw(e,i)).recoveryParam)return e.recoveryParam;for(var n=0;n<4;n++){var o;try{o=this.recoverPubKey(t,e,n)}catch(t){continue}if(o.eq(r))return n}throw new Error("Unable to find valid recovery factor")};var Pw=Yy((function(t,e){var r=e;r.version="6.5.4",r.utils=rw,r.rand=function(){throw new Error("unsupported")},r.curve=pw,r.curves=gw,r.ec=Tw,r.eddsa=null})).ec;let Cw=!1,Uw=!1;const Fw={debug:1,default:2,info:2,warning:3,error:4,off:5};let Bw=Fw.default,Dw=null;const Lw=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var $w,jw;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}($w||($w={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(jw||(jw={}));class zw{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Fw[r]&&this.throwArgumentError("invalid log level name","logLevel",t),Bw>Fw[r]||console.log.apply(console,e)}debug(...t){this._log(zw.levels.DEBUG,t)}info(...t){this._log(zw.levels.INFO,t)}warn(...t){this._log(zw.levels.WARNING,t)}makeError(t,e,r){if(Uw)return this.makeError("censored error",e,{});e||(e=zw.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(t=>{try{i.push(t+"="+JSON.stringify(r[t]))}catch(e){i.push(t+"="+JSON.stringify(r[t].toString()))}}),i.push("code="+e),i.push("version="+this.version);const n=t;i.length&&(t+=" ("+i.join(", ")+")");const o=new Error(t);return o.reason=n,o.code=e,Object.keys(r).forEach((function(t){o[t]=r[t]})),o}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,zw.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,i){t||this.throwError(e,r,i)}assertArgument(t,e,r,i){t||this.throwArgumentError(e,r,i)}checkNormalize(t){Lw&&this.throwError("platform missing String.prototype.normalize",zw.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Lw})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,zw.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,zw.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,zw.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,zw.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",zw.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",zw.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",zw.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Dw||(Dw=new zw("logger/5.4.0")),Dw}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",zw.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Cw){if(!t)return;this.globalLogger().throwError("error censorship permanent",zw.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Uw=!!t,Cw=!!e}static setLogLevel(t){const e=Fw[t.toLowerCase()];null!=e?Bw=e:zw.globalLogger().warn("invalid log level - "+t)}static from(t){return new zw(t)}}zw.errors=jw,zw.levels=$w;const qw=new zw("bytes/5.4.0");function Gw(t){return!!t.toHexString}function Vw(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Vw(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Kw(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(null==t.length)return!1;for(let e=0;e<t.length;e++){const r=t[e];if("number"!=typeof r||r<0||r>=256||r%1)return!1}return!0}function Zw(t,e){if(e||(e={}),"number"==typeof t){qw.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),Vw(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Gw(t)&&(t=t.toHexString()),Hw(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0x0"+r.substring(2):"right"===e.hexPad?r+="0":qw.throwArgumentError("hex data is odd-length","value",t));const i=[];for(let t=0;t<r.length;t+=2)i.push(parseInt(r.substring(t,t+2),16));return Vw(new Uint8Array(i))}return Kw(t)?Vw(new Uint8Array(t)):qw.throwArgumentError("invalid arrayify value","value",t)}function Hw(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}function Ww(t,e){if(e||(e={}),"number"==typeof t){qw.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e="0123456789abcdef"[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Gw(t))return t.toHexString();if(Hw(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":qw.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Kw(t)){let e="0x";for(let r=0;r<t.length;r++){let i=t[r];e+="0123456789abcdef"[(240&i)>>4]+"0123456789abcdef"[15&i]}return e}return qw.throwArgumentError("invalid hexlify value","value",t)}function Jw(t,e){for("string"!=typeof t?t=Ww(t):Hw(t)||qw.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&qw.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Xw(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0};if(Hw(r=t)&&!(r.length%2)||Kw(r)){const r=Zw(t);65!==r.length&&qw.throwArgumentError("invalid signature string; must be 65 bytes","signature",t),e.r=Ww(r.slice(0,32)),e.s=Ww(r.slice(32,64)),e.v=r[64],e.v<27&&(0===e.v||1===e.v?e.v+=27:qw.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=Ww(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,null!=e._vs){const r=function(t,e){(t=Zw(t)).length>e&&qw.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Vw(r)}(Zw(e._vs),32);e._vs=Ww(r);const i=r[0]>=128?1:0;null==e.recoveryParam?e.recoveryParam=i:e.recoveryParam!==i&&qw.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),r[0]&=127;const n=Ww(r);null==e.s?e.s=n:e.s!==n&&qw.throwArgumentError("signature v mismatch _vs","signature",t)}null==e.recoveryParam?null==e.v?qw.throwArgumentError("signature missing v and recoveryParam","signature",t):0===e.v||1===e.v?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2:null==e.v?e.v=27+e.recoveryParam:e.recoveryParam!==1-e.v%2&&qw.throwArgumentError("signature recoveryParam mismatch v","signature",t),null!=e.r&&Hw(e.r)?e.r=Jw(e.r,32):qw.throwArgumentError("signature missing or invalid r","signature",t),null!=e.s&&Hw(e.s)?e.s=Jw(e.s,32):qw.throwArgumentError("signature missing or invalid s","signature",t);const r=Zw(e.s);r[0]>=128&&qw.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const i=Ww(r);e._vs&&(Hw(e._vs)||qw.throwArgumentError("signature invalid _vs","signature",t),e._vs=Jw(e._vs,32)),null==e._vs?e._vs=i:e._vs!==i&&qw.throwArgumentError("signature _vs mismatch v and s","signature",t)}var r;return e}window&&window.__awaiter;new zw("properties/5.4.0");function Yw(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}const Qw=new zw("signing-key/5.4.0");let tb=null;function eb(){return tb||(tb=new Pw("secp256k1")),tb}class rb{constructor(t){Yw(this,"curve","secp256k1"),Yw(this,"privateKey",Ww(t));const e=eb().keyFromPrivate(Zw(this.privateKey));Yw(this,"publicKey","0x"+e.getPublic(!1,"hex")),Yw(this,"compressedPublicKey","0x"+e.getPublic(!0,"hex")),Yw(this,"_isSigningKey",!0)}_addPoint(t){const e=eb().keyFromPublic(Zw(this.publicKey)),r=eb().keyFromPublic(Zw(t));return"0x"+e.pub.add(r.pub).encodeCompressed("hex")}signDigest(t){const e=eb().keyFromPrivate(Zw(this.privateKey)),r=Zw(t);32!==r.length&&Qw.throwArgumentError("bad digest length","digest",t);const i=e.sign(r,{canonical:!0});return Xw({recoveryParam:i.recoveryParam,r:Jw("0x"+i.r.toString(16),32),s:Jw("0x"+i.s.toString(16),32)})}computeSharedSecret(t){const e=eb().keyFromPrivate(Zw(this.privateKey)),r=eb().keyFromPublic(Zw(ib(t)));return Jw("0x"+e.derive(r.getPublic()).toString(16),32)}static isSigningKey(t){return!(!t||!t._isSigningKey)}}function ib(t,e){const r=Zw(t);if(32===r.length){const t=new rb(r);return e?"0x"+eb().keyFromPrivate(r).getPublic(!0,"hex"):t.publicKey}return 33===r.length?e?Ww(r):"0x"+eb().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?e?"0x"+eb().keyFromPublic(r).getPublic(!0,"hex"):Ww(r):Qw.throwArgumentError("invalid public or private key","key","[REDACTED]")}let nb=!1,ob=!1;const sb={debug:1,default:2,info:2,warning:3,error:4,off:5};let ab=sb.default,hb=null;const ub=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var lb,fb;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(lb||(lb={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(fb||(fb={}));class cb{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==sb[r]&&this.throwArgumentError("invalid log level name","logLevel",t),ab>sb[r]||console.log.apply(console,e)}debug(...t){this._log(cb.levels.DEBUG,t)}info(...t){this._log(cb.levels.INFO,t)}warn(...t){this._log(cb.levels.WARNING,t)}makeError(t,e,r){if(ob)return this.makeError("censored error",e,{});e||(e=cb.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(t=>{try{i.push(t+"="+JSON.stringify(r[t]))}catch(e){i.push(t+"="+JSON.stringify(r[t].toString()))}}),i.push("code="+e),i.push("version="+this.version);const n=t;i.length&&(t+=" ("+i.join(", ")+")");const o=new Error(t);return o.reason=n,o.code=e,Object.keys(r).forEach((function(t){o[t]=r[t]})),o}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,cb.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,i){t||this.throwError(e,r,i)}assertArgument(t,e,r,i){t||this.throwArgumentError(e,r,i)}checkNormalize(t){ub&&this.throwError("platform missing String.prototype.normalize",cb.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:ub})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,cb.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,cb.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,cb.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,cb.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",cb.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",cb.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",cb.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return hb||(hb=new cb("logger/5.4.0")),hb}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",cb.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),nb){if(!t)return;this.globalLogger().throwError("error censorship permanent",cb.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}ob=!!t,nb=!!e}static setLogLevel(t){const e=sb[t.toLowerCase()];null!=e?ab=e:cb.globalLogger().warn("invalid log level - "+t)}static from(t){return new cb(t)}}cb.errors=fb,cb.levels=lb;const db=new cb("bytes/5.4.0");function mb(t){return!!t.toHexString}function pb(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return pb(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function gb(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(null==t.length)return!1;for(let e=0;e<t.length;e++){const r=t[e];if("number"!=typeof r||r<0||r>=256||r%1)return!1}return!0}function vb(t,e){if(e||(e={}),"number"==typeof t){db.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),pb(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),mb(t)&&(t=t.toHexString()),yb(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0x0"+r.substring(2):"right"===e.hexPad?r+="0":db.throwArgumentError("hex data is odd-length","value",t));const i=[];for(let t=0;t<r.length;t+=2)i.push(parseInt(r.substring(t,t+2),16));return pb(new Uint8Array(i))}return gb(t)?pb(new Uint8Array(t)):db.throwArgumentError("invalid arrayify value","value",t)}function yb(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}function wb(t,e,r){return"string"!=typeof t?t=function(t,e){if(e||(e={}),"number"==typeof t){db.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e="0123456789abcdef"[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),mb(t))return t.toHexString();if(yb(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":db.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(gb(t)){let e="0x";for(let r=0;r<t.length;r++){let i=t[r];e+="0123456789abcdef"[(240&i)>>4]+"0123456789abcdef"[15&i]}return e}return db.throwArgumentError("invalid hexlify value","value",t)}(t):(!yb(t)||t.length%2)&&db.throwArgumentError("invalid hexData","value",t),e=2+2*e,null!=r?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}var bb=a((function(t){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function n(t,e,r){if(n.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:Ot.Buffer}catch(t){}function s(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function a(t,e,r){var i=s(t,r);return r-1>=e&&(i|=s(t,r-1)<<4),i}function h(t,e,r,i){for(var n=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;n*=i,n+=a>=49?a-49+10:a>=17?a-17+10:a}return n}n.isBN=function(t){return t instanceof n||null!==t&&"object"==typeof t&&t.constructor.wordSize===n.wordSize&&Array.isArray(t.words)},n.max=function(t,e){return t.cmp(e)>0?t:e},n.min=function(t,e){return t.cmp(e)<0?t:e},n.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<t.length&&(16===e?this._parseHex(t,n,i):(this._parseBase(t,e,n),"le"===i&&this._initArray(this.toArray(),e,i)))},n.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},n.prototype._initArray=function(t,e,i){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,s,a=0;if("be"===i)for(n=t.length-1,o=0;n>=0;n-=3)s=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===i)for(n=0,o=0;n<t.length;n+=3)s=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},n.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,o=0,s=0;if("be"===r)for(i=t.length-1;i>=e;i-=2)n=a(t,e,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)n=a(t,e,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;this.strip()},n.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0;for(var o=t.length-r,s=o%i,a=Math.min(o,o-s)+r,u=0,l=r;l<a;l+=i)u=h(t,l,l+i,e),this.imuln(n),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var f=1;for(u=h(t,l,t.length,e),l=0;l<s;l++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},n.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},n.prototype.clone=function(){var t=new n(null);return this.copy(t),t},n.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function c(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],o=0|e.words[0],s=n*o,a=67108863&s,h=s/67108864|0;r.words[0]=a;for(var u=1;u<i;u++){for(var l=h>>>26,f=67108863&h,c=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=c;d++){var m=u-d|0;l+=(s=(n=0|t.words[m])*(o=0|e.words[d])+f)/67108864|0,f=67108863&s}r.words[u]=0|f,h=0|l}return 0!==h?r.words[u]=0|h:r.length--,r.strip()}n.prototype.toString=function(t,e){var i;if(e=0|e||1,16===(t=t||10)||"hex"===t){i="";for(var n=0,o=0,s=0;s<this.length;s++){var a=this.words[s],h=(16777215&(a<<n|o)).toString(16);i=0!==(o=a>>>24-n&16777215)||s!==this.length-1?u[6-h.length]+h+i:h+i,(n+=2)>=26&&(n-=26,s--)}for(0!==o&&(i=o.toString(16)+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var c=l[t],d=f[t];i="";var m=this.clone();for(m.negative=0;!m.isZero();){var p=m.modn(d).toString(t);i=(m=m.idivn(d)).isZero()?p+i:u[c-p.length]+p+i}for(this.isZero()&&(i="0"+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(t,e){return r(void 0!==o),this.toArrayLike(o,t,e)},n.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},n.prototype.toArrayLike=function(t,e,i){var n=this.byteLength(),o=i||Math.max(1,n);r(n<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,h="le"===e,u=new t(o),l=this.clone();if(h){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-n;a++)u[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[o-a-1]=s}return u},Math.clz32?n.prototype._countBits=function(t){return 32-Math.clz32(t)}:n.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},n.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},n.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},n.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},n.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},n.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},n.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},n.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},n.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},n.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},n.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},n.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},n.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},n.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},n.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},n.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this.strip()},n.prototype.notn=function(t){return this.clone().inotn(t)},n.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var i=t/26|0,n=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<n:this.words[i]&~(1<<n),this.strip()},n.prototype.iadd=function(t){var e,r,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this);for(var n=0,o=0;o<i.length;o++)e=(0|r.words[o])+(0|i.words[o])+n,this.words[o]=67108863&e,n=e>>>26;for(;0!==n&&o<r.length;o++)e=(0|r.words[o])+n,this.words[o]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},n.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},n.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,i,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=t):(r=t,i=this);for(var o=0,s=0;s<i.length;s++)o=(e=(0|r.words[s])-(0|i.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,r){var i,n,o,s=t.words,a=e.words,h=r.words,u=0,l=0|s[0],f=8191&l,c=l>>>13,d=0|s[1],m=8191&d,p=d>>>13,g=0|s[2],v=8191&g,y=g>>>13,w=0|s[3],b=8191&w,M=w>>>13,E=0|s[4],_=8191&E,N=E>>>13,A=0|s[5],S=8191&A,R=A>>>13,I=0|s[6],x=8191&I,k=I>>>13,O=0|s[7],T=8191&O,P=O>>>13,C=0|s[8],U=8191&C,F=C>>>13,B=0|s[9],D=8191&B,L=B>>>13,$=0|a[0],j=8191&$,z=$>>>13,q=0|a[1],G=8191&q,V=q>>>13,K=0|a[2],Z=8191&K,H=K>>>13,W=0|a[3],J=8191&W,X=W>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,it=et>>>13,nt=0|a[6],ot=8191&nt,st=nt>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ft=8191&lt,ct=lt>>>13,dt=0|a[9],mt=8191&dt,pt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(u+(i=Math.imul(f,j))|0)+((8191&(n=(n=Math.imul(f,z))+Math.imul(c,j)|0))<<13)|0;u=((o=Math.imul(c,z))+(n>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(m,j),n=(n=Math.imul(m,z))+Math.imul(p,j)|0,o=Math.imul(p,z);var vt=(u+(i=i+Math.imul(f,G)|0)|0)+((8191&(n=(n=n+Math.imul(f,V)|0)+Math.imul(c,G)|0))<<13)|0;u=((o=o+Math.imul(c,V)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(v,j),n=(n=Math.imul(v,z))+Math.imul(y,j)|0,o=Math.imul(y,z),i=i+Math.imul(m,G)|0,n=(n=n+Math.imul(m,V)|0)+Math.imul(p,G)|0,o=o+Math.imul(p,V)|0;var yt=(u+(i=i+Math.imul(f,Z)|0)|0)+((8191&(n=(n=n+Math.imul(f,H)|0)+Math.imul(c,Z)|0))<<13)|0;u=((o=o+Math.imul(c,H)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(b,j),n=(n=Math.imul(b,z))+Math.imul(M,j)|0,o=Math.imul(M,z),i=i+Math.imul(v,G)|0,n=(n=n+Math.imul(v,V)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,V)|0,i=i+Math.imul(m,Z)|0,n=(n=n+Math.imul(m,H)|0)+Math.imul(p,Z)|0,o=o+Math.imul(p,H)|0;var wt=(u+(i=i+Math.imul(f,J)|0)|0)+((8191&(n=(n=n+Math.imul(f,X)|0)+Math.imul(c,J)|0))<<13)|0;u=((o=o+Math.imul(c,X)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(_,j),n=(n=Math.imul(_,z))+Math.imul(N,j)|0,o=Math.imul(N,z),i=i+Math.imul(b,G)|0,n=(n=n+Math.imul(b,V)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,V)|0,i=i+Math.imul(v,Z)|0,n=(n=n+Math.imul(v,H)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,H)|0,i=i+Math.imul(m,J)|0,n=(n=n+Math.imul(m,X)|0)+Math.imul(p,J)|0,o=o+Math.imul(p,X)|0;var bt=(u+(i=i+Math.imul(f,Q)|0)|0)+((8191&(n=(n=n+Math.imul(f,tt)|0)+Math.imul(c,Q)|0))<<13)|0;u=((o=o+Math.imul(c,tt)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(S,j),n=(n=Math.imul(S,z))+Math.imul(R,j)|0,o=Math.imul(R,z),i=i+Math.imul(_,G)|0,n=(n=n+Math.imul(_,V)|0)+Math.imul(N,G)|0,o=o+Math.imul(N,V)|0,i=i+Math.imul(b,Z)|0,n=(n=n+Math.imul(b,H)|0)+Math.imul(M,Z)|0,o=o+Math.imul(M,H)|0,i=i+Math.imul(v,J)|0,n=(n=n+Math.imul(v,X)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,X)|0,i=i+Math.imul(m,Q)|0,n=(n=n+Math.imul(m,tt)|0)+Math.imul(p,Q)|0,o=o+Math.imul(p,tt)|0;var Mt=(u+(i=i+Math.imul(f,rt)|0)|0)+((8191&(n=(n=n+Math.imul(f,it)|0)+Math.imul(c,rt)|0))<<13)|0;u=((o=o+Math.imul(c,it)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(x,j),n=(n=Math.imul(x,z))+Math.imul(k,j)|0,o=Math.imul(k,z),i=i+Math.imul(S,G)|0,n=(n=n+Math.imul(S,V)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,V)|0,i=i+Math.imul(_,Z)|0,n=(n=n+Math.imul(_,H)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,H)|0,i=i+Math.imul(b,J)|0,n=(n=n+Math.imul(b,X)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,X)|0,i=i+Math.imul(v,Q)|0,n=(n=n+Math.imul(v,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,i=i+Math.imul(m,rt)|0,n=(n=n+Math.imul(m,it)|0)+Math.imul(p,rt)|0,o=o+Math.imul(p,it)|0;var Et=(u+(i=i+Math.imul(f,ot)|0)|0)+((8191&(n=(n=n+Math.imul(f,st)|0)+Math.imul(c,ot)|0))<<13)|0;u=((o=o+Math.imul(c,st)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(T,j),n=(n=Math.imul(T,z))+Math.imul(P,j)|0,o=Math.imul(P,z),i=i+Math.imul(x,G)|0,n=(n=n+Math.imul(x,V)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,V)|0,i=i+Math.imul(S,Z)|0,n=(n=n+Math.imul(S,H)|0)+Math.imul(R,Z)|0,o=o+Math.imul(R,H)|0,i=i+Math.imul(_,J)|0,n=(n=n+Math.imul(_,X)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,X)|0,i=i+Math.imul(b,Q)|0,n=(n=n+Math.imul(b,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,i=i+Math.imul(v,rt)|0,n=(n=n+Math.imul(v,it)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,it)|0,i=i+Math.imul(m,ot)|0,n=(n=n+Math.imul(m,st)|0)+Math.imul(p,ot)|0,o=o+Math.imul(p,st)|0;var _t=(u+(i=i+Math.imul(f,ht)|0)|0)+((8191&(n=(n=n+Math.imul(f,ut)|0)+Math.imul(c,ht)|0))<<13)|0;u=((o=o+Math.imul(c,ut)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(U,j),n=(n=Math.imul(U,z))+Math.imul(F,j)|0,o=Math.imul(F,z),i=i+Math.imul(T,G)|0,n=(n=n+Math.imul(T,V)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,V)|0,i=i+Math.imul(x,Z)|0,n=(n=n+Math.imul(x,H)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,H)|0,i=i+Math.imul(S,J)|0,n=(n=n+Math.imul(S,X)|0)+Math.imul(R,J)|0,o=o+Math.imul(R,X)|0,i=i+Math.imul(_,Q)|0,n=(n=n+Math.imul(_,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,i=i+Math.imul(b,rt)|0,n=(n=n+Math.imul(b,it)|0)+Math.imul(M,rt)|0,o=o+Math.imul(M,it)|0,i=i+Math.imul(v,ot)|0,n=(n=n+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,i=i+Math.imul(m,ht)|0,n=(n=n+Math.imul(m,ut)|0)+Math.imul(p,ht)|0,o=o+Math.imul(p,ut)|0;var Nt=(u+(i=i+Math.imul(f,ft)|0)|0)+((8191&(n=(n=n+Math.imul(f,ct)|0)+Math.imul(c,ft)|0))<<13)|0;u=((o=o+Math.imul(c,ct)|0)+(n>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,i=Math.imul(D,j),n=(n=Math.imul(D,z))+Math.imul(L,j)|0,o=Math.imul(L,z),i=i+Math.imul(U,G)|0,n=(n=n+Math.imul(U,V)|0)+Math.imul(F,G)|0,o=o+Math.imul(F,V)|0,i=i+Math.imul(T,Z)|0,n=(n=n+Math.imul(T,H)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,H)|0,i=i+Math.imul(x,J)|0,n=(n=n+Math.imul(x,X)|0)+Math.imul(k,J)|0,o=o+Math.imul(k,X)|0,i=i+Math.imul(S,Q)|0,n=(n=n+Math.imul(S,tt)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,tt)|0,i=i+Math.imul(_,rt)|0,n=(n=n+Math.imul(_,it)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,it)|0,i=i+Math.imul(b,ot)|0,n=(n=n+Math.imul(b,st)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,st)|0,i=i+Math.imul(v,ht)|0,n=(n=n+Math.imul(v,ut)|0)+Math.imul(y,ht)|0,o=o+Math.imul(y,ut)|0,i=i+Math.imul(m,ft)|0,n=(n=n+Math.imul(m,ct)|0)+Math.imul(p,ft)|0,o=o+Math.imul(p,ct)|0;var At=(u+(i=i+Math.imul(f,mt)|0)|0)+((8191&(n=(n=n+Math.imul(f,pt)|0)+Math.imul(c,mt)|0))<<13)|0;u=((o=o+Math.imul(c,pt)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(D,G),n=(n=Math.imul(D,V))+Math.imul(L,G)|0,o=Math.imul(L,V),i=i+Math.imul(U,Z)|0,n=(n=n+Math.imul(U,H)|0)+Math.imul(F,Z)|0,o=o+Math.imul(F,H)|0,i=i+Math.imul(T,J)|0,n=(n=n+Math.imul(T,X)|0)+Math.imul(P,J)|0,o=o+Math.imul(P,X)|0,i=i+Math.imul(x,Q)|0,n=(n=n+Math.imul(x,tt)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,tt)|0,i=i+Math.imul(S,rt)|0,n=(n=n+Math.imul(S,it)|0)+Math.imul(R,rt)|0,o=o+Math.imul(R,it)|0,i=i+Math.imul(_,ot)|0,n=(n=n+Math.imul(_,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,i=i+Math.imul(b,ht)|0,n=(n=n+Math.imul(b,ut)|0)+Math.imul(M,ht)|0,o=o+Math.imul(M,ut)|0,i=i+Math.imul(v,ft)|0,n=(n=n+Math.imul(v,ct)|0)+Math.imul(y,ft)|0,o=o+Math.imul(y,ct)|0;var St=(u+(i=i+Math.imul(m,mt)|0)|0)+((8191&(n=(n=n+Math.imul(m,pt)|0)+Math.imul(p,mt)|0))<<13)|0;u=((o=o+Math.imul(p,pt)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(D,Z),n=(n=Math.imul(D,H))+Math.imul(L,Z)|0,o=Math.imul(L,H),i=i+Math.imul(U,J)|0,n=(n=n+Math.imul(U,X)|0)+Math.imul(F,J)|0,o=o+Math.imul(F,X)|0,i=i+Math.imul(T,Q)|0,n=(n=n+Math.imul(T,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,i=i+Math.imul(x,rt)|0,n=(n=n+Math.imul(x,it)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,it)|0,i=i+Math.imul(S,ot)|0,n=(n=n+Math.imul(S,st)|0)+Math.imul(R,ot)|0,o=o+Math.imul(R,st)|0,i=i+Math.imul(_,ht)|0,n=(n=n+Math.imul(_,ut)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,ut)|0,i=i+Math.imul(b,ft)|0,n=(n=n+Math.imul(b,ct)|0)+Math.imul(M,ft)|0,o=o+Math.imul(M,ct)|0;var Rt=(u+(i=i+Math.imul(v,mt)|0)|0)+((8191&(n=(n=n+Math.imul(v,pt)|0)+Math.imul(y,mt)|0))<<13)|0;u=((o=o+Math.imul(y,pt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(D,J),n=(n=Math.imul(D,X))+Math.imul(L,J)|0,o=Math.imul(L,X),i=i+Math.imul(U,Q)|0,n=(n=n+Math.imul(U,tt)|0)+Math.imul(F,Q)|0,o=o+Math.imul(F,tt)|0,i=i+Math.imul(T,rt)|0,n=(n=n+Math.imul(T,it)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,it)|0,i=i+Math.imul(x,ot)|0,n=(n=n+Math.imul(x,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,i=i+Math.imul(S,ht)|0,n=(n=n+Math.imul(S,ut)|0)+Math.imul(R,ht)|0,o=o+Math.imul(R,ut)|0,i=i+Math.imul(_,ft)|0,n=(n=n+Math.imul(_,ct)|0)+Math.imul(N,ft)|0,o=o+Math.imul(N,ct)|0;var It=(u+(i=i+Math.imul(b,mt)|0)|0)+((8191&(n=(n=n+Math.imul(b,pt)|0)+Math.imul(M,mt)|0))<<13)|0;u=((o=o+Math.imul(M,pt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(D,Q),n=(n=Math.imul(D,tt))+Math.imul(L,Q)|0,o=Math.imul(L,tt),i=i+Math.imul(U,rt)|0,n=(n=n+Math.imul(U,it)|0)+Math.imul(F,rt)|0,o=o+Math.imul(F,it)|0,i=i+Math.imul(T,ot)|0,n=(n=n+Math.imul(T,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,i=i+Math.imul(x,ht)|0,n=(n=n+Math.imul(x,ut)|0)+Math.imul(k,ht)|0,o=o+Math.imul(k,ut)|0,i=i+Math.imul(S,ft)|0,n=(n=n+Math.imul(S,ct)|0)+Math.imul(R,ft)|0,o=o+Math.imul(R,ct)|0;var xt=(u+(i=i+Math.imul(_,mt)|0)|0)+((8191&(n=(n=n+Math.imul(_,pt)|0)+Math.imul(N,mt)|0))<<13)|0;u=((o=o+Math.imul(N,pt)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(D,rt),n=(n=Math.imul(D,it))+Math.imul(L,rt)|0,o=Math.imul(L,it),i=i+Math.imul(U,ot)|0,n=(n=n+Math.imul(U,st)|0)+Math.imul(F,ot)|0,o=o+Math.imul(F,st)|0,i=i+Math.imul(T,ht)|0,n=(n=n+Math.imul(T,ut)|0)+Math.imul(P,ht)|0,o=o+Math.imul(P,ut)|0,i=i+Math.imul(x,ft)|0,n=(n=n+Math.imul(x,ct)|0)+Math.imul(k,ft)|0,o=o+Math.imul(k,ct)|0;var kt=(u+(i=i+Math.imul(S,mt)|0)|0)+((8191&(n=(n=n+Math.imul(S,pt)|0)+Math.imul(R,mt)|0))<<13)|0;u=((o=o+Math.imul(R,pt)|0)+(n>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(D,ot),n=(n=Math.imul(D,st))+Math.imul(L,ot)|0,o=Math.imul(L,st),i=i+Math.imul(U,ht)|0,n=(n=n+Math.imul(U,ut)|0)+Math.imul(F,ht)|0,o=o+Math.imul(F,ut)|0,i=i+Math.imul(T,ft)|0,n=(n=n+Math.imul(T,ct)|0)+Math.imul(P,ft)|0,o=o+Math.imul(P,ct)|0;var Ot=(u+(i=i+Math.imul(x,mt)|0)|0)+((8191&(n=(n=n+Math.imul(x,pt)|0)+Math.imul(k,mt)|0))<<13)|0;u=((o=o+Math.imul(k,pt)|0)+(n>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,i=Math.imul(D,ht),n=(n=Math.imul(D,ut))+Math.imul(L,ht)|0,o=Math.imul(L,ut),i=i+Math.imul(U,ft)|0,n=(n=n+Math.imul(U,ct)|0)+Math.imul(F,ft)|0,o=o+Math.imul(F,ct)|0;var Tt=(u+(i=i+Math.imul(T,mt)|0)|0)+((8191&(n=(n=n+Math.imul(T,pt)|0)+Math.imul(P,mt)|0))<<13)|0;u=((o=o+Math.imul(P,pt)|0)+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(D,ft),n=(n=Math.imul(D,ct))+Math.imul(L,ft)|0,o=Math.imul(L,ct);var Pt=(u+(i=i+Math.imul(U,mt)|0)|0)+((8191&(n=(n=n+Math.imul(U,pt)|0)+Math.imul(F,mt)|0))<<13)|0;u=((o=o+Math.imul(F,pt)|0)+(n>>>13)|0)+(Pt>>>26)|0,Pt&=67108863;var Ct=(u+(i=Math.imul(D,mt))|0)+((8191&(n=(n=Math.imul(D,pt))+Math.imul(L,mt)|0))<<13)|0;return u=((o=Math.imul(L,pt))+(n>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,h[0]=gt,h[1]=vt,h[2]=yt,h[3]=wt,h[4]=bt,h[5]=Mt,h[6]=Et,h[7]=_t,h[8]=Nt,h[9]=At,h[10]=St,h[11]=Rt,h[12]=It,h[13]=xt,h[14]=kt,h[15]=Ot,h[16]=Tt,h[17]=Pt,h[18]=Ct,0!==u&&(h[19]=u,r.length++),r};function m(t,e,r){return(new p).mulp(t,e,r)}function p(t,e){this.x=t,this.y=e}Math.imul||(d=c),n.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?d(this,t,e):r<63?c(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,o=0;o<r.length-1;o++){var s=n;n=0;for(var a=67108863&i,h=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=h;u++){var l=o-u,f=(0|t.words[l])*(0|e.words[u]),c=67108863&f;a=67108863&(c=c+a|0),n+=(s=(s=s+(f/67108864|0)|0)+(c>>>26)|0)>>>26,s&=67108863}r.words[o]=a,i=s,s=n}return 0!==i?r.words[o]=i:r.length--,r.strip()}(this,t,e):m(this,t,e)},p.prototype.makeRBT=function(t){for(var e=new Array(t),r=n.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},p.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var i=0,n=0;n<e;n++)i|=(1&t)<<e-n-1,t>>=1;return i},p.prototype.permute=function(t,e,r,i,n,o){for(var s=0;s<o;s++)i[s]=e[t[s]],n[s]=r[t[s]]},p.prototype.transform=function(t,e,r,i,n,o){this.permute(o,t,e,r,i,n);for(var s=1;s<n;s<<=1)for(var a=s<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<n;l+=a)for(var f=h,c=u,d=0;d<s;d++){var m=r[l+d],p=i[l+d],g=r[l+d+s],v=i[l+d+s],y=f*g-c*v;v=f*v+c*g,g=y,r[l+d]=m+g,i[l+d]=p+v,r[l+d+s]=m-g,i[l+d+s]=p-v,d!==a&&(y=h*f-u*c,c=h*c+u*f,f=y)}},p.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},p.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},p.prototype.normalize13b=function(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=67108863&n,r=n<67108864?0:n/67108864|0}return t},p.prototype.convert13b=function(t,e,i,n){for(var o=0,s=0;s<e;s++)o+=0|t[s],i[2*s]=8191&o,o>>>=13,i[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<n;++s)i[s]=0;r(0===o),r(0==(-8192&o))},p.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},p.prototype.mulp=function(t,e,r){var i=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(i),o=this.stub(i),s=new Array(i),a=new Array(i),h=new Array(i),u=new Array(i),l=new Array(i),f=new Array(i),c=r.words;c.length=i,this.convert13b(t.words,t.length,s,i),this.convert13b(e.words,e.length,u,i),this.transform(s,o,a,h,i,n),this.transform(u,o,l,f,i,n);for(var d=0;d<i;d++){var m=a[d]*l[d]-h[d]*f[d];h[d]=a[d]*f[d]+h[d]*l[d],a[d]=m}return this.conjugate(a,h,i),this.transform(a,h,c,o,i,n),this.conjugate(c,o,i),this.normalize13b(c,i),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},n.prototype.mul=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},n.prototype.mulf=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),m(this,t,e)},n.prototype.imul=function(t){return this.clone().mulTo(t,this)},n.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,i=0;i<this.length;i++){var n=(0|this.words[i])*t,o=(67108863&n)+(67108863&e);e>>=26,e+=n/67108864|0,e+=o>>>26,this.words[i]=67108863&o}return 0!==e&&(this.words[i]=e,this.length++),this},n.prototype.muln=function(t){return this.clone().imuln(t)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=(t.words[i]&1<<n)>>>n}return e}(t);if(0===e.length)return new n(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var o=r.sqr();i<e.length;i++,o=o.sqr())0!==e[i]&&(r=r.mul(o));return r},n.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,i=t%26,n=(t-i)/26,o=67108863>>>26-i<<26-i;if(0!==i){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,h=(0|this.words[e])-a<<i;this.words[e]=h|s,s=a>>>26-i}s&&(this.words[e]=s,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this.strip()},n.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},n.prototype.iushrn=function(t,e,i){var n;r("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,h=i;if(n-=s,n=Math.max(0,n),h){for(var u=0;u<s;u++)h.words[u]=this.words[u];h.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=n);u--){var f=0|this.words[u];this.words[u]=l<<26-o|f>>>o,l=f&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(t,e,i){return r(0===this.negative),this.iushrn(t,e,i)},n.prototype.shln=function(t){return this.clone().ishln(t)},n.prototype.ushln=function(t){return this.clone().iushln(t)},n.prototype.shrn=function(t){return this.clone().ishrn(t)},n.prototype.ushrn=function(t){return this.clone().iushrn(t)},n.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26,n=1<<e;return!(this.length<=i)&&!!(this.words[i]&n)},n.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this.strip()},n.prototype.maskn=function(t){return this.clone().imaskn(t)},n.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},n.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},n.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},n.prototype.addn=function(t){return this.clone().iaddn(t)},n.prototype.subn=function(t){return this.clone().isubn(t)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(t,e,i){var n,o,s=t.length+i;this._expand(s);var a=0;for(n=0;n<t.length;n++){o=(0|this.words[n+i])+a;var h=(0|t.words[n])*e;a=((o-=67108863&h)>>26)-(h/67108864|0),this.words[n+i]=67108863&o}for(;n<this.length-i;n++)a=(o=(0|this.words[n+i])+a)>>26,this.words[n+i]=67108863&o;if(0===a)return this.strip();for(r(-1===a),a=0,n=0;n<this.length;n++)a=(o=-(0|this.words[n])+a)>>26,this.words[n]=67108863&o;return this.negative=1,this.strip()},n.prototype._wordDiv=function(t,e){var r=(this.length,t.length),i=this.clone(),o=t,s=0|o.words[o.length-1];0!==(r=26-this._countBits(s))&&(o=o.ushln(r),i.iushln(r),s=0|o.words[o.length-1]);var a,h=i.length-o.length;if("mod"!==e){(a=new n(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=i.clone()._ishlnsubmul(o,1,h);0===l.negative&&(i=l,a&&(a.words[h]=1));for(var f=h-1;f>=0;f--){var c=67108864*(0|i.words[o.length+f])+(0|i.words[o.length+f-1]);for(c=Math.min(c/s|0,67108863),i._ishlnsubmul(o,c,f);0!==i.negative;)c--,i.negative=0,i._ishlnsubmul(o,1,f),i.isZero()||(i.negative^=1);a&&(a.words[f]=c)}return a&&a.strip(),i.strip(),"div"!==e&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},n.prototype.divmod=function(t,e,i){return r(!t.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(o=a.div.neg()),"div"!==e&&(s=a.mod.neg(),i&&0!==s.negative&&s.iadd(t)),{div:o,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(o=a.div.neg()),{div:o,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),i&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new n(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new n(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new n(this.modn(t.words[0]))}:this._wordDiv(t,e);var o,s,a},n.prototype.div=function(t){return this.divmod(t,"div",!1).div},n.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},n.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},n.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),o=r.cmp(i);return o<0||1===n&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},n.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,i=0,n=this.length-1;n>=0;n--)i=(e*i+(0|this.words[n]))%t;return i},n.prototype.idivn=function(t){r(t<=67108863);for(var e=0,i=this.length-1;i>=0;i--){var n=(0|this.words[i])+67108864*e;this.words[i]=n/t|0,e=n%t}return this.strip()},n.prototype.divn=function(t){return this.clone().idivn(t)},n.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new n(1),s=new n(0),a=new n(0),h=new n(1),u=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++u;for(var l=i.clone(),f=e.clone();!e.isZero();){for(var c=0,d=1;0==(e.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(e.iushrn(c);c-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(l),s.isub(f)),o.iushrn(1),s.iushrn(1);for(var m=0,p=1;0==(i.words[0]&p)&&m<26;++m,p<<=1);if(m>0)for(i.iushrn(m);m-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(f)),a.iushrn(1),h.iushrn(1);e.cmp(i)>=0?(e.isub(i),o.isub(a),s.isub(h)):(i.isub(e),a.isub(o),h.isub(s))}return{a:a,b:h,gcd:i.iushln(u)}},n.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,s=new n(1),a=new n(0),h=i.clone();e.cmpn(1)>0&&i.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var f=0,c=1;0==(i.words[0]&c)&&f<26;++f,c<<=1);if(f>0)for(i.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(i)>=0?(e.isub(i),s.isub(a)):(i.isub(e),a.isub(s))}return(o=0===e.cmpn(1)?s:a).cmpn(0)<0&&o.iadd(t),o},n.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var o=e;e=r,r=o}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},n.prototype.invm=function(t){return this.egcd(t).a.umod(t)},n.prototype.isEven=function(){return 0==(1&this.words[0])},n.prototype.isOdd=function(){return 1==(1&this.words[0])},n.prototype.andln=function(t){return this.words[0]&t},n.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,i=(t-e)/26,n=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var o=n,s=i;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(t){var e,i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)e=1;else{i&&(t=-t),r(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},n.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},n.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},n.prototype.gtn=function(t){return 1===this.cmpn(t)},n.prototype.gt=function(t){return 1===this.cmp(t)},n.prototype.gten=function(t){return this.cmpn(t)>=0},n.prototype.gte=function(t){return this.cmp(t)>=0},n.prototype.ltn=function(t){return-1===this.cmpn(t)},n.prototype.lt=function(t){return-1===this.cmp(t)},n.prototype.lten=function(t){return this.cmpn(t)<=0},n.prototype.lte=function(t){return this.cmp(t)<=0},n.prototype.eqn=function(t){return 0===this.cmpn(t)},n.prototype.eq=function(t){return 0===this.cmp(t)},n.red=function(t){return new E(t)},n.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(t){return this.red=t,this},n.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},n.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},n.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},n.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},n.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},n.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},n.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},n.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new n(e,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(t){if("string"==typeof t){var e=n._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function _(t){E.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new n(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},i(y,v),y.prototype.split=function(t,e){for(var r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var n=t.words[9];for(e.words[e.length++]=4194303&n,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(4194303&o)<<4|n>>>22,n=o}n>>>=22,t.words[i-10]=n,0===n&&t.length>10?t.length-=10:t.length-=9},y.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,v),i(b,v),i(M,v),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=19*(0|t.words[r])+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},n._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new y;else if("p224"===t)e=new w;else if("p192"===t)e=new b;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return g[t]=e,e},E.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},E.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},E.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},E.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},E.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},E.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},E.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},E.prototype.isqr=function(t){return this.imul(t,t.clone())},E.prototype.sqr=function(t){return this.mul(t,t)},E.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var i=this.m.add(new n(1)).iushrn(2);return this.pow(t,i)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new n(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new n(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var f=this.pow(l,o),c=this.pow(t,o.addn(1).iushrn(1)),d=this.pow(t,o),m=s;0!==d.cmp(a);){for(var p=d,g=0;0!==p.cmp(a);g++)p=p.redSqr();r(g<m);var v=this.pow(f,new n(1).iushln(m-g-1));c=c.redMul(v),f=v.redSqr(),d=d.redMul(f),m=g}return c},E.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},E.prototype.pow=function(t,e){if(e.isZero())return new n(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new n(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var o=r[0],s=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),i=e.length-1;i>=0;i--){for(var u=e.words[i],l=h-1;l>=0;l--){var f=u>>l&1;o!==r[0]&&(o=this.sqr(o)),0!==f||0!==s?(s<<=1,s|=f,(4===++a||0===i&&0===l)&&(o=this.mul(o,r[s]),a=0,s=0)):a=0}h=26}return o},E.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},E.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},n.mont=function(t){return new _(t)},i(_,E),_.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},_.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},_.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},_.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new n(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(i).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},_.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,n)})).BN;new cb("bignumber/5.4.0");function Mb(t){return"0x"+lr.keccak_256(vb(t))}const Eb=new cb("address/5.4.0");function _b(t){yb(t,20)||Eb.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let t=0;t<40;t++)r[t]=e[t].charCodeAt(0);const i=vb(Mb(r));for(let t=0;t<40;t+=2)i[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&i[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return"0x"+e.join("")}const Nb={};for(let t=0;t<10;t++)Nb[String(t)]=String(t);for(let t=0;t<26;t++)Nb[String.fromCharCode(65+t)]=String(10+t);const Ab=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function Sb(t){let e=null;if("string"!=typeof t&&Eb.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=_b(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Eb.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==function(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map(t=>Nb[t]).join("");for(;e.length>=Ab;){let t=e.substring(0,Ab);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}(t)&&Eb.throwArgumentError("bad icap checksum","address",t),r=t.substring(4),e=new bb(r,36).toString(16);e.length<40;)e="0"+e;e=_b("0x"+e)}else Eb.throwArgumentError("invalid address","address",t);var r;return e}new cb("transactions/5.4.0");var Rb;function Ib(t,e){return function(t){return Sb(wb(Mb(wb(ib(t),1)),12))}(function(t,e){const r=Xw(e),i={r:Zw(r.r),s:Zw(r.s)};return"0x"+eb().recoverPubKey(Zw(t),i,r.recoveryParam).encode("hex",!1)}(vb(t),e))}!function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"}(Rb||(Rb={}));window&&window.__awaiter;new Qv("wallet/5.4.0");function xb(t,i,n,o){return e(this,void 0,void 0,(function(){var e,s,a,h;return r(this,(function(r){switch(r.label){case 0:s="0x1626ba7e",a="function isValidSignature(bytes32 _hash, bytes memory _signature) public view returns (bytes4 magicValue)",r.label=1;case 1:return r.trys.push([1,3,,4]),[4,Cb(o,[a],[t,"isValidSignature",[E(n),i]])];case 2:return e=r.sent(),[3,4];case 3:return h=r.sent(),console.log(h),[2,!1];case 4:return[2,e.toLowerCase()===s.toLowerCase()]}}))}))}function kb(t,i,n,o){return e(this,void 0,void 0,(function(){var e,s,a,h;return r(this,(function(r){switch(r.label){case 0:s="0x20c13b0b",a="function isValidSignature(bytes _hash, bytes memory _signature) public view returns (bytes4 magicValue)",r.label=1;case 1:return r.trys.push([1,3,,4]),[4,Cb(o,[a],[t,"isValidSignature",[E(n),i]])];case 2:return e=r.sent(),[3,4];case 3:return h=r.sent(),console.log(h),[2,!1];case 4:return[2,e.toLowerCase()===s.toLowerCase()]}}))}))}function Ob(t,i,n,o){return void 0===o&&(o="1"),e(this,void 0,void 0,(function(){var e;return r(this,(function(r){switch(r.label){case 0:return e=qv(o),[4,xb(t,i,n,e)];case 1:return r.sent()?[2,!0]:[4,kb(t,i,n,e)];case 2:return[2,r.sent()]}}))}))}function Tb(t){var e=t.domain,r=t.types,i=t.message;return vn.hash(e,r,i)}var Pb=["cloudflare-ipfs.com","cf-ipfs.com","ipfs.io","ipfs.fleek.co","gateway.pinata.cloud","dweb.link","ipfs.infura.io"];function Cb(t,n,o,s){return e(this,void 0,void 0,(function(){var e,a,h;return r(this,(function(r){switch(r.label){case 0:e=new Dh(o[0],n,t),r.label=1;case 1:return r.trys.push([1,3,,4]),a=o[2]||[],[4,e[o[1]].apply(e,i(a,[s||{}]))];case 2:return[2,r.sent()];case 3:return h=r.sent(),[2,Promise.reject(h)];case 4:return[2]}}))}))}function Ub(t,i,n,o,s){return e(this,void 0,void 0,(function(){var e,a,h,u,l;return r(this,(function(r){switch(r.label){case 0:e=["function aggregate(tuple(address target, bytes callData)[] calls) view returns (uint256 blockNumber, bytes[] returnData)"],a=new Dh(jv[t].multicall,e,i),h=new Nn(n),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,a.aggregate(o.map((function(t){return[t[0].toLowerCase(),h.encodeFunctionData(t[1],t[2])]})),s||{})];case 2:return u=r.sent(),[2,u[1].map((function(t,e){return h.decodeFunctionResult(o[e][1],t)}))];case 3:return l=r.sent(),[2,Promise.reject(l)];case 4:return[2]}}))}))}function Fb(t,i,n,o,s,a){return void 0===s&&(s="latest"),void 0===a&&(a="https://score.snapshot.org/api/scores"),e(this,void 0,void 0,(function(){var e,u;return r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),e={space:t,network:n,snapshot:s,strategies:i,addresses:o},[4,h(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({params:e})})];case 1:return[4,r.sent().json()];case 2:return[2,r.sent().result.scores];case 3:return u=r.sent(),[2,Promise.reject(u)];case 4:return[2]}}))}))}return{Client:I,schemas:O,utils:{call:Cb,multicall:Ub,subgraphRequest:function(i,n,o){return void 0===o&&(o={}),e(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,h(i,{method:"POST",headers:t({Accept:"application/json","Content-Type":"application/json"},null==o?void 0:o.headers),body:JSON.stringify({query:Gh.jsonToGraphQLQuery({query:n})})})];case 1:return[4,e.sent().json()];case 2:return[2,e.sent().data||{}]}}))}))},ipfsGet:function(t,i,n){return void 0===n&&(n="ipfs"),e(this,void 0,void 0,(function(){return r(this,(function(e){return[2,h("https://"+t+"/"+n+"/"+i).then((function(t){return t.json()}))]}))}))},getUrl:function(t,e){void 0===e&&(e=Pb[0]);var r="https://"+e;if(!t)return null;if(!t.includes("ipfs")&&!t.includes("ipns")&&!t.includes("http"))return r+"/ipfs/"+t;var i=t.split("://")[0];return"ipfs"===i?t.replace("ipfs://",r+"/ipfs/"):"ipns"===i?t.replace("ipns://",r+"/ipns/"):t},sendTransaction:function(t,n,o,s,a,h){return void 0===h&&(h={}),e(this,void 0,void 0,(function(){var e,u,l;return r(this,(function(r){switch(r.label){case 0:return e=t.getSigner(),u=new Dh(n,o,t),[4,(l=u.connect(e))[s].apply(l,i(a,[h]))];case 1:return[2,r.sent()]}}))}))},getScores:Fb,validateSchema:function(t,e){var r=new Vl({allErrors:!0,allowUnionTypes:!0,$data:!0});Hl(r);var i=r.compile(t),n=i(e);return n||i.errors},getSpaceUri:function(t){return e(this,void 0,void 0,(function(){var e,i,n,o,s;return r(this,(function(r){switch(r.label){case 0:e="function text(bytes32 node, string calldata key) external view returns (string memory)",i="0x4976fb03C32e5B8cfe2b6cCB31c09Ba78EBaBa41",n=!1,r.label=1;case 1:return r.trys.push([1,3,,4]),o=function(t){"string"!=typeof t&&ji.throwArgumentError("invalid ENS name; not a string","name",t);let e=t,r=zi;for(;e.length;){const i=e.match(qi);null!=i&&""!==i[2]||ji.throwArgumentError("invalid ENS address; missing component","name",t),r=fi(si([r,fi(Si(Li(i[3])))])),e=i[2]||""}return hi(r)}(t),[4,Cb(qv("1"),[e],[i,"text",[o,"snapshot"]])];case 2:return n=r.sent(),[3,4];case 3:return s=r.sent(),console.log("getSpaceUriFromTextRecord failed",t,s),[3,4];case 4:return[2,n]}}))}))},clone:function(t){return JSON.parse(JSON.stringify(t))},sleep:function(t){return e(this,void 0,void 0,(function(){return r(this,(function(e){return[2,new Promise((function(e){setTimeout(e,t)}))]}))}))},getProvider:qv,signMessage:S,getBlockNumber:function(t){return e(this,void 0,void 0,(function(){var e;return r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t.getBlockNumber()];case 1:return e=r.sent(),[2,parseInt(e)];case 2:return r.sent(),[2,Promise.reject()];case 3:return[2]}}))}))},Multicaller:jf,validations:Gv,getHash:Tb,verify:function(t,i,n){return e(this,void 0,void 0,(function(){var e,o,s,a,h;return r(this,(function(r){switch(r.label){case 0:return e=n.domain,o=n.types,s=n.message,a=function(t,e,r,i){return Ib(Jy.hash(t,e,r),i)}(e,o,s,i),h=Tb(n),console.log("Hash",h),console.log("Address",t),console.log("Recover address",a),t===a?[2,!0]:(console.log("Check EIP1271 signature"),[4,Ob(t,i,h)]);case 1:return[2,r.sent()]}}))}))}}}}));
